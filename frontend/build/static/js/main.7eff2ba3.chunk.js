(this["webpackJsonpfrontend-typescript-context"]=this["webpackJsonpfrontend-typescript-context"]||[]).push([[0],{89:function(t,e,n){"use strict";n.r(e);var a,r,i,c,s,o,d=n(1),l=n.n(d),u=n(23),m=n.n(u),p=n(5),x=n(3),h=n(7),j=n(4),b=n(22),g=n(8),f=n(2),O=n.n(f),v=n(6),w="/api",y=function(){var t=Object(v.a)(O.a.mark((function t(e){var n,a,r,i,c,s=arguments;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=s.length>1&&void 0!==s[1]?s[1]:"GET",a=s.length>2?s[2]:void 0,r=s.length>3?s[3]:void 0,t.prev=3,t.next=6,fetch(w+e,{method:n,body:a&&JSON.stringify(a),credentials:"include",headers:{Authorization:"Bearer "+r,"Content-Type":"application/json",Accept:"application/json"}});case 6:return i=t.sent,t.next=9,i.json();case 9:return c=t.sent,t.abrupt("return",{ok:i.ok,status:i.status,data:c.data,message:c.message});case 13:return t.prev=13,t.t0=t.catch(3),console.log(t.t0),t.abrupt("return",Object(g.a)({ok:!1},t.t0));case 17:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}(),k=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0;return new Promise(function(){var a=Object(v.a)(O.a.mark((function a(r,i){var c,s,o,d;return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c=localStorage.getItem("accessToken")||"",a.prev=1,a.next=4,y(t,e,n,c);case 4:if(401===(s=a.sent).status){a.next=7;break}return a.abrupt("return",r(s));case 7:if(c){a.next=9;break}return a.abrupt("return",r({message:"Please log in to continue",ok:!1}));case 9:return a.next=11,y("/user/auth/refresh_token","POST");case 11:if(!(o=a.sent).ok){a.next=20;break}return localStorage.setItem("accessToken",o.data.accessToken),a.next=16,y(t,e,n,o.data.accessToken);case 16:d=a.sent,r(d),a.next=21;break;case 20:r({message:"Please log in to continue",ok:!1});case 21:a.next=26;break;case 23:a.prev=23,a.t0=a.catch(1),r({message:"Something went wrong",ok:!1});case 26:case"end":return a.stop()}}),a,null,[[1,23]])})));return function(t,e){return a.apply(this,arguments)}}())},S=n(0),C={modal:{isOpen:!1,type:"DEFAULT",props:null},modalMessage:{text:"",isSuccess:!1},showModal:function(){},hideModal:function(){},showModalMessage:function(){},hideModalMessage:function(){},client:function(){return new Promise((function(){return{ok:!1,status:200,data:null,message:""}}))}},N=Object(d.createContext)(C),z=function(t){var e=t.children,n=Object(d.useState)(C.modal),a=Object(x.a)(n,2),r=a[0],i=a[1],c=Object(d.useState)(C.modalMessage),s=Object(x.a)(c,2),o=s[0],l=s[1],u=function(t,e){l({text:t,isSuccess:e})},m=function(){var t=Object(v.a)(O.a.mark((function t(e){var n,a,r,i,c,s,o,d=arguments;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=d.length>1&&void 0!==d[1]?d[1]:{},a=n.method,r=void 0===a?"GET":a,i=n.body,c=n.shouldShowMessage,s=void 0!==c&&c,t.next=3,k(e,r,i);case 3:return o=t.sent,"default"===s&&u(o.message,o.ok),"error"!==s||o.ok||u(o.message,o.ok),t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p={modal:r,modalMessage:o,showModal:function(t,e){i({isOpen:!0,type:t,props:e})},hideModal:function(){i({isOpen:!1,type:"DEFAULT",props:{}})},showModalMessage:u,hideModalMessage:function(){l({text:"",isSuccess:!1})},client:m};return Object(S.jsx)(N.Provider,{value:p,children:e})},L=function(t){localStorage.setItem("accessToken",t)},_=Object(d.createContext)({user:{isLoading:!0,isLoggedIn:!1},loadingUser:function(){},setUser:function(){var t=Object(v.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!1);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),setAccessToken:L,changeUserData:function(){}}),E=function(t){var e=t.children,n=Object(d.useContext)(N).client,a=Object(d.useState)({isLoading:!0,isLoggedIn:!1}),r=Object(x.a)(a,2),i=r[0],c=r[1],s=function(t){c((function(e){return Object(g.a)(Object(g.a)({},e),{},{isLoading:t})}))},o=function(){var t=Object(v.a)(O.a.mark((function t(){var e,a,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.next=3,n("/user/profile");case 3:return e=t.sent,a=e.data,(r=e.ok)?c(Object(g.a)(Object(g.a)({},a),{},{isLoading:!1,isLoggedIn:!0})):s(!1),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(S.jsx)(_.Provider,{value:{user:i,loadingUser:s,setUser:o,setAccessToken:L,changeUserData:function(t,e){c((function(n){return Object(g.a)(Object(g.a)({},n),{},Object(b.a)({},t,e))}))}},children:e})},P=function(){var t=Object(d.useState)([0,0]),e=Object(x.a)(t,2),n=e[0],a=e[1];return Object(d.useLayoutEffect)((function(){function t(){a([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",t),t(),function(){return window.removeEventListener("resize",t)}}),[]),n},M=function(t){var e=t.theme,n=t.switchTheme,a=Object(d.useContext)(_).user,r=function(){n("light"===e?"dark":"light")},i=Object(d.useState)(!1),c=Object(x.a)(i,2),s=c[0],o=c[1],l=P(),u=Object(x.a)(l,1)[0];return Object(S.jsxs)(F,{children:[Object(S.jsxs)("div",{className:"nav-container",children:[Object(S.jsx)(h.c,{to:"/",children:Object(S.jsx)("span",{className:"logo",children:"Ani"})}),u>640?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsxs)("div",{className:"nav-links",children:[Object(S.jsx)(h.c,{to:"/",children:"Home"}),Object(S.jsx)(h.c,{to:"/search?year=2021",children:"Browse"}),Object(S.jsx)(h.c,{to:"/discussions/all",children:"Discussions"}),a.isLoggedIn&&Object(S.jsx)(h.c,{to:"/me/profile",children:"Profile"})]}),Object(S.jsxs)("div",{className:"user-links",children:[Object(S.jsx)("img",{onClick:r,src:"/assets/icons/".concat("dark"===e?"moon":"sun",".svg"),alt:""}),a.isLoggedIn?Object(S.jsx)(h.c,{to:"/me/profile",children:a.username}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(h.c,{to:"/login",children:"Login"})," ",Object(S.jsx)("span",{className:"vertical-bar",children:"|"})," ",Object(S.jsx)(h.c,{to:"/register",children:"Register"})]})]})]}):Object(S.jsx)("img",{onClick:function(){return o(!0)},className:"menu",src:"/assets/icons/Menu.svg",alt:"Menu"})]}),s&&u<640&&Object(S.jsx)(A,{children:Object(S.jsxs)("div",{className:"links",children:[Object(S.jsxs)(h.c,{to:"/",onClick:function(){return o(!1)},children:[Object(S.jsx)("img",{src:"/assets/icons/nav-mobile-".concat(e,"/Home.svg"),alt:""}),Object(S.jsx)("span",{children:"Home"})]}),Object(S.jsxs)(h.c,{to:"/discussions/all",onClick:function(){return o(!1)},children:[Object(S.jsx)("img",{src:"/assets/icons/nav-mobile-".concat(e,"/Message.svg"),alt:""}),Object(S.jsx)("span",{children:"Discussion"})]}),Object(S.jsx)("img",{onClick:function(){return o(!1)},id:"close",src:"/assets/icons/nav-mobile-".concat(e,"/Close.svg"),alt:""}),Object(S.jsxs)(h.c,{to:"/search?year=2021",onClick:function(){return o(!1)},children:[Object(S.jsx)("img",{src:"/assets/icons/nav-mobile-".concat(e,"/Search.svg"),alt:""}),Object(S.jsx)("span",{children:"Search"})]}),a.isLoggedIn?Object(S.jsxs)(h.c,{to:"/me/profile",onClick:function(){return o(!1)},children:[Object(S.jsx)("img",{src:"/assets/icons/nav-mobile-".concat(e,"/User.svg"),alt:""}),Object(S.jsx)("span",{children:"Profile"})]}):Object(S.jsxs)(h.c,{to:"/login",onClick:function(){return o(!1)},children:[Object(S.jsx)("img",{src:"/assets/icons/nav-mobile-".concat(e,"/User.svg"),alt:""}),Object(S.jsx)("span",{children:"Login"})]}),Object(S.jsxs)("div",{onClick:r,className:"theme",children:[Object(S.jsx)("img",{src:"/assets/icons/nav-mobile-".concat(e,"/Moon.svg"),alt:""}),Object(S.jsx)("span",{children:"Theme"})]})]})})]})},T=Object(d.memo)(M),F=j.c.nav(a||(a=Object(p.a)(['\n\twidth: 100%;\n\t/* background-color: #4c5264; //current color */\n\tbackground-color: #32343b;\n\t.nav-container {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 0 50px;\n\t\twidth: 100%;\n\t\tmax-width: 1200px;\n\t\theight: 4rem;\n\t\tmargin: auto;\n\t\t@media screen and (max-width: 768px) {\n\t\t\theight: 3.5rem;\n\t\t\tpadding: 0 20px;\n\t\t}\n\t\tspan.logo {\n\t\t\tcursor: pointer;\n\t\t\tborder-radius: 7px;\n\t\t\tfont-size: 2.5rem;\n\t\t\tfont-weight: 600;\n\t\t\tcolor: white;\n\t\t\t&::after {\n\t\t\t\tcontent: "Find";\n\t\t\t\tcolor: #70c7a7;\n\t\t\t}\n\t\t\t@media screen and (max-width: 768px) {\n\t\t\t\tfont-size: 2rem;\n\t\t\t}\n\t\t\t@media (max-width: 640px) {\n\t\t\t\tfont-size: 1.8rem;\n\t\t\t}\n\t\t}\n\t\t.nav-links {\n\t\t\tdisplay: flex;\n\t\t\t> a {\n\t\t\t\tcolor: whitesmoke;\n\t\t\t\tmargin-right: 20px;\n\t\t\t\tfont-size: 1.1rem;\n\t\t\t\tfont-weight: 550;\n\t\t\t\t:active {\n\t\t\t\t\tcolor: white;\n\t\t\t\t}\n\t\t\t\t@media (max-width: 768px) {\n\t\t\t\t\tmargin-right: 15px;\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t\tfont-weight: 500;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t.user-links {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcolor: white;\n\t\ta {\n\t\t\tfont-size: 1.2rem;\n\t\t\tcolor: white;\n\t\t\tfont-weight: 600;\n\t\t\tborder-bottom: 2px #70c7a7 solid;\n\t\t\t@media (max-width: 768px) {\n\t\t\t\tfont-size: 1.1rem;\n\t\t\t}\n\t\t}\n\t\timg {\n\t\t\tcursor: pointer;\n\t\t\theight: 25px;\n\t\t\tfilter: invert(1);\n\t\t\tmargin-right: 20px;\n\t\t}\n\t\tspan.vertical-bar {\n\t\t\tmargin: 0 5px;\n\t\t}\n\t}\n\timg.menu {\n\t\twidth: 28px;\n\t\theight: 28px;\n\t\tcursor: pointer;\n\t}\n']))),A=j.c.div(r||(r=Object(p.a)(["\n\twidth: 210px;\n\theight: 140px;\n\tposition: fixed;\n\tz-index: 5;\n\ttop: 20px;\n\tright: 20px;\n\tbackground: ",";\n\tborder-radius: 10px;\n\tbox-shadow: 0px 0px 15px 4px rgba(0, 0, 0, 0.15);\n\tdisplay: flex;\n\tjustify-content: space-between;\n\tpadding: 10px;\n\t.links {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: 1fr 1fr 1fr;\n\t\tgrid-template-rows: 1fr 1fr;\n\t\tjustify-items: center;\n\t\talign-items: center;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ta,\n\t\t.theme {\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\timg {\n\t\t\t\twidth: 32px;\n\t\t\t\theight: 32px;\n\t\t\t}\n\t\t\tspan {\n\t\t\t\tfont-size: 0.7rem;\n\t\t\t\tcolor: ",";\n\t\t\t\tfont-weight: 600;\n\t\t\t}\n\t\t}\n\t\t> #close {\n\t\t\tcursor: pointer;\n\t\t\twidth: 32px;\n\t\t\theight: 32px;\n\t\t\tposition: relative;\n\t\t\ttop: -4px;\n\t\t}\n\t}\n"])),(function(t){return t.theme.commentBg}),(function(t){return t.theme.header})),I=n(13),D=function(){var t=Object(v.a)(O.a.mark((function t(){var e,n,a,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"\n  query popular {\n    trending: Page (page: 1) {\n      pageInfo {\n        total\n        currentPage\n        lastPage\n        hasNextPage\n        perPage\n      }\n      media(sort: TRENDING_DESC type: ANIME) {\n        id\n        title {\n          romaji\n          english\n          native\n          userPreferred\n        }\n        coverImage {\n          extraLarge\n          color\n        }\n      }\n    }\n    top: Page (page: 1) {\n      pageInfo {\n        total\n        currentPage\n        lastPage\n        hasNextPage\n        perPage\n      }\n      media(sort: POPULARITY_DESC type: ANIME) {\n        id\n        title {\n          romaji\n          english\n          native\n          userPreferred\n        }\n        coverImage {\n          extraLarge\n          color\n        }\n      }\n    }\n  }\n  \n    ","https://graphql.anilist.co",e={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:"\n  query popular {\n    trending: Page (page: 1) {\n      pageInfo {\n        total\n        currentPage\n        lastPage\n        hasNextPage\n        perPage\n      }\n      media(sort: TRENDING_DESC type: ANIME) {\n        id\n        title {\n          romaji\n          english\n          native\n          userPreferred\n        }\n        coverImage {\n          extraLarge\n          color\n        }\n      }\n    }\n    top: Page (page: 1) {\n      pageInfo {\n        total\n        currentPage\n        lastPage\n        hasNextPage\n        perPage\n      }\n      media(sort: POPULARITY_DESC type: ANIME) {\n        id\n        title {\n          romaji\n          english\n          native\n          userPreferred\n        }\n        coverImage {\n          extraLarge\n          color\n        }\n      }\n    }\n  }\n  \n    "})},t.prev=2,t.next=5,fetch("https://graphql.anilist.co",e);case 5:return n=t.sent,t.next=8,n.json();case 8:return a=t.sent,r=a.data,t.abrupt("return",r);case 13:t.prev=13,t.t0=t.catch(2),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(){return t.apply(this,arguments)}}(),R=n(17),U=n.n(R),$=j.c.h1(i||(i=Object(p.a)(["\n\twidth: 100%;\n\tfont-size: 2.8rem;\n\t@media (max-width: 1024px) {\n\t\tfont-size: 2.5rem;\n\t}\n\t@media (max-width: 768px) {\n\t\tfont-size: 2rem;\n\t}\n\t@media (max-width: 480px) {\n\t\tfont-size: 1.7rem;\n\t}\n\t","\n"])),(function(t){return t.customStyle})),q=j.c.h2(c||(c=Object(p.a)(["\n\tfont-size: 2rem;\n\t@media (max-width: 768px) {\n\t\tfont-size: 1.7rem;\n\t}\n\t@media (max-width: 480px) {\n\t\tfont-size: 1.5rem;\n\t}\n"]))),B=function(t){var e=t.header,n=t.list,a=Object(d.useRef)(null),r=function(t){"next"===t&&(a.current.scrollLeft+=a.current.clientWidth),"prev"===t&&(a.current.scrollLeft-=a.current.clientWidth)};return Object(S.jsxs)(H,{children:[Object(S.jsx)(q,{children:e}),Object(S.jsx)("img",{onClick:function(){return r("next")},className:"next-btn",src:"/assets/icons/right-chevron.svg",alt:""}),Object(S.jsx)("img",{onClick:function(){return r("prev")},className:"prev-btn",src:"/assets/icons/left-chevron.svg",alt:""}),Object(S.jsx)("div",{className:"carousel",children:Object(S.jsx)("div",{ref:a,className:"card-container",children:n?n.map((function(t,e){var n,a;return Object(S.jsx)(h.b,{to:"/anime/".concat(t.id),children:Object(S.jsxs)("div",{className:"card",children:[Object(S.jsx)("img",{className:"card-img",src:t.coverImage.extraLarge,alt:""}),Object(S.jsx)("p",{children:(null===(n=t.title.english)||void 0===n?void 0:n.slice(0,50))||(null===(a=t.title.romaji)||void 0===a?void 0:a.slice(0,50))})]})},e)})):[1,2,3,4,5,6,7,8,9,10].map((function(t){return Object(S.jsxs)("div",{className:"card",children:[Object(S.jsx)(R.SkeletonTheme,{highlightColor:"#a7dac7",color:"#cad4de",children:Object(S.jsx)(U.a,{className:"card-img"},t)}),Object(S.jsx)("br",{}),Object(S.jsx)(R.SkeletonTheme,{highlightColor:"#a7dac7",color:"#cad4de",children:Object(S.jsx)(U.a,{width:"120px",height:"10px"},t)})]},t)}))})})]})},H=j.c.section(s||(s=Object(p.a)(["\n\twidth: 100%;\n\tmax-width: 1200px;\n\tpadding: 0 50px;\n\tmargin: auto;\n\tmargin-bottom: 50px;\n\tposition: relative;\n\th2 {\n\t\tmargin-bottom: 20px;\n\t}\n\t.next-btn,\n\t.prev-btn {\n\t\tcursor: pointer;\n\t\twidth: 40px;\n\t\tpadding: 10px;\n\t\tbackground-color: #4c5264;\n\t\tborder-radius: 50%;\n\t\tposition: absolute;\n\t\tright: 0;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\topacity: 0.4;\n\t\ttransition: 0.2s;\n\t\t&:hover {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\t.next-btn {\n\t\tright: 0;\n\t}\n\t.prev-btn {\n\t\tleft: 0;\n\t}\n\t.card-container {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\tscroll-behavior: smooth;\n\t\toverflow-x: hidden;\n\t\t.card {\n\t\t\tmargin-right: 15px;\n\t\t\twidth: 150px;\n\t\t\t.card-img {\n\t\t\t\tborder-radius: 7px;\n\t\t\t\twidth: 150px;\n\t\t\t\theight: 210px;\n\t\t\t}\n\t\t}\n\t}\n\n\t@media screen and (max-width: 768px) {\n\t\tpadding: 0 20px;\n\n\t\t.next-btn,\n\t\t.prev-btn {\n\t\t\twidth: 40px;\n\t\t\theight: 30px;\n\t\t\tpadding: 6px;\n\t\t\tbackground-color: #4c5264;\n\t\t\tborder-radius: 60px;\n\t\t\tposition: absolute;\n\t\t\ttop: 5%;\n\t\t}\n\t\t.next-btn {\n\t\t\tright: 20px;\n\t\t}\n\t\t.prev-btn {\n\t\t\tleft: unset;\n\t\t\tright: 70px;\n\t\t}\n\t\t.carousel {\n\t\t\toverflow-x: hidden;\n\t\t}\n\t\t.card-container {\n\t\t\toverflow-x: scroll;\n\t\t\t::-webkit-scrollbar-track {\n\t\t\t\tbackground-color: ",";\n\t\t\t\tborder-radius: 4px;\n\t\t\t}\n\t\t\t::-webkit-scrollbar {\n\t\t\t\tborder-radius: 4px;\n\t\t\t\theight: 7px;\n\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb {\n\t\t\t\tbackground-color: #58a086;\n\t\t\t\tborder-radius: 4px;\n\t\t\t}\n\t\t}\n\t}\n\t@media screen and (max-width: 480px) {\n\t\tmargin-bottom: 40px;\n\n\t\t.next-btn,\n\t\t.prev-btn {\n\t\t\twidth: 35px;\n\t\t\theight: 27px;\n\t\t\ttop: 4%;\n\t\t}\n\t\t.next-btn {\n\t\t\tright: 20px;\n\t\t}\n\t\t.prev-btn {\n\t\t\tright: 60px;\n\t\t}\n\t\t.card-container {\n\t\t\t.card {\n\t\t\t\twidth: 120px;\n\t\t\t\t.card-img {\n\t\t\t\t\twidth: 120px;\n\t\t\t\t\theight: 170px;\n\t\t\t\t}\n\t\t\t\tp {\n\t\t\t\t\tfont-size: 0.85rem;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"])),(function(t){return t.theme.scrollbar}));function Y(t){var e=new URLSearchParams(t).entries();return Object.fromEntries(e)}var W,G,J,V,K,Q,X,Z,tt,et,nt,at,rt,it,ct,st,ot,dt,lt,ut,mt,pt,xt,ht,jt,bt,gt,ft,Ot,vt=function(t){var e=t.location,n=t.history,a=Object(d.useState)(Y(e.search).query||""),r=Object(x.a)(a,2),i=r[0],c=r[1];Object(d.useEffect)((function(){Y(e.search).query||c("")}),[e]);return Object(S.jsxs)(wt,{children:[Object(S.jsx)(q,{children:"Search anime"}),Object(S.jsxs)("div",{className:"input-container",children:[Object(S.jsx)("img",{src:"https://img.icons8.com/ios-glyphs/100/000000/search.png",alt:"search"}),Object(S.jsx)("input",{type:"text",value:i,onChange:function(t){return c((function(){return t.target.value}))},onKeyDown:function(t){if("Enter"===t.key&&i.trim()){var a=Object(g.a)(Object(g.a)({},Y(e.search)),{},{query:i.trim()}),r=new URLSearchParams(a).toString();n.push("/search?"+r)}}})]})]})},wt=j.c.div(o||(o=Object(p.a)(["\n\twidth: 100%;\n\tmargin-top: 50px;\n\th2 {\n\t\t/* font-size: 2.5rem; */\n\t\tmargin-bottom: 10px;\n\t}\n\t.input-container {\n\t\twidth: 100%;\n\t\theight: 40px;\n\t\tposition: relative;\n\t\tborder: none;\n\t\tbox-shadow: ",";\n\t\tborder-radius: 7px;\n\t\tbackground-color: white;\n\t\timg {\n\t\t\twidth: 23px;\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\t\t\tleft: 15px;\n\t\t\tfilter: invert(0.7);\n\t\t}\n\t\tinput {\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t\tborder: none;\n\t\t\tbackground: transparent;\n\t\t\tfont-size: 1.1rem;\n\t\t\tfont-weight: 300;\n\t\t\tpadding-left: 50px;\n\t\t\tcolor: #4c5264;\n\t\t}\n\t}\n\n\t@media (max-width: 768px) {\n\t\tmargin: 20px 0;\n\t\th2 {\n\t\t\t/* font-size: 1.7rem; */\n\t\t}\n\t\t.input-container {\n\t\t\theight: 30px;\n\t\t\tinput {\n\t\t\t\tfont-size: 1rem;\n\t\t\t\tpadding-left: 40px;\n\t\t\t}\n\t\t\timg {\n\t\t\t\tleft: 10px;\n\t\t\t}\n\t\t}\n\t}\n"])),(function(t){return t.theme.boxShadow})),yt=[{type:"Genre",list:[{name:"Action",id:"Action",type:"genre"},{name:"Adventure",id:"Adventure",type:"genre"},{name:"Comedy",id:"Comedy",type:"genre"},{name:"Drama",id:"Drama",type:"genre"},{name:"Ecchi",id:"Ecchi",type:"genre"},{name:"Fantasy",id:"Fantasy",type:"genre"},{name:"Horror",id:"Horror",type:"genre"},{name:"Mahou Shoujo",id:"Mahou Shoujo",type:"genre"},{name:"Mecha",id:"Mecha",type:"genre"},{name:"Music",id:"Music",type:"genre"},{name:"Mystery",id:"Mystery",type:"genre"},{name:"Psychological",id:"Psychological",type:"genre"},{name:"Romance",id:"Romance",type:"genre"},{name:"Sci-Fi",id:"Sci-Fi",type:"genre"},{name:"Slice of Life",id:"Slice of Life",type:"genre"},{name:"Sports",id:"Sports",type:"genre"},{name:"Supernatural",id:"Supernatural",type:"genre"},{name:"Thriller",id:"Supernatural",type:"genre"}]},{type:"Season",list:[{name:"Summer",id:"SUMMER",type:"season"},{name:"Spring",id:"SPRING",type:"season"},{name:"Fall",id:"FALL",type:"season"},{name:"Winter",id:"WINTER",type:"season"}]},{type:"Year",list:[{name:1950,id:1950,type:"year"},{name:1951,id:1951,type:"year"},{name:1952,id:1952,type:"year"},{name:1953,id:1953,type:"year"},{name:1954,id:1954,type:"year"},{name:1955,id:1955,type:"year"},{name:1956,id:1956,type:"year"},{name:1957,id:1957,type:"year"},{name:1958,id:1958,type:"year"},{name:1959,id:1959,type:"year"},{name:1960,id:1960,type:"year"},{name:1961,id:1961,type:"year"},{name:1962,id:1962,type:"year"},{name:1963,id:1963,type:"year"},{name:1964,id:1964,type:"year"},{name:1965,id:1965,type:"year"},{name:1966,id:1966,type:"year"},{name:1967,id:1967,type:"year"},{name:1968,id:1968,type:"year"},{name:1969,id:1969,type:"year"},{name:1970,id:1970,type:"year"},{name:1971,id:1971,type:"year"},{name:1972,id:1972,type:"year"},{name:1973,id:1973,type:"year"},{name:1974,id:1974,type:"year"},{name:1975,id:1975,type:"year"},{name:1976,id:1976,type:"year"},{name:1977,id:1977,type:"year"},{name:1978,id:1978,type:"year"},{name:1979,id:1979,type:"year"},{name:1980,id:1980,type:"year"},{name:1981,id:1981,type:"year"},{name:1982,id:1982,type:"year"},{name:1983,id:1983,type:"year"},{name:1984,id:1984,type:"year"},{name:1985,id:1985,type:"year"},{name:1986,id:1986,type:"year"},{name:1987,id:1987,type:"year"},{name:1988,id:1988,type:"year"},{name:1989,id:1989,type:"year"},{name:1990,id:1990,type:"year"},{name:1991,id:1991,type:"year"},{name:1992,id:1992,type:"year"},{name:1993,id:1993,type:"year"},{name:1994,id:1994,type:"year"},{name:1995,id:1995,type:"year"},{name:1996,id:1996,type:"year"},{name:1997,id:1997,type:"year"},{name:1998,id:1998,type:"year"},{name:1999,id:1999,type:"year"},{name:2e3,id:2e3,type:"year"},{name:2001,id:2001,type:"year"},{name:2002,id:2002,type:"year"},{name:2003,id:2003,type:"year"},{name:2004,id:2004,type:"year"},{name:2005,id:2005,type:"year"},{name:2006,id:2006,type:"year"},{name:2007,id:2007,type:"year"},{name:2008,id:2008,type:"year"},{name:2009,id:2009,type:"year"},{name:2010,id:2010,type:"year"},{name:2011,id:2011,type:"year"},{name:2012,id:2012,type:"year"},{name:2013,id:2013,type:"year"},{name:2014,id:2014,type:"year"},{name:2015,id:2015,type:"year"},{name:2016,id:2016,type:"year"},{name:2017,id:2017,type:"year"},{name:2018,id:2018,type:"year"},{name:2019,id:2019,type:"year"},{name:2020,id:2020,type:"year"},{name:2021,id:2021,type:"year"}].reverse()},{type:"Format",list:[{name:"tv",id:"TV",type:"format"},{name:"ova",id:"OVA",type:"format"},{name:"movie",id:"MOVIE",type:"format"},{name:"special",id:"SPECIAL",type:"format"},{name:"ona",id:"ONA",type:"format"},{name:"music",id:"MUSIC",type:"format"}]}],kt=j.c.div(W||(W=Object(p.a)(["\n\twidth: unset;\n\theight: max-content;\n\tposition: relative;\n\t.selected {\n\t\tcursor: pointer;\n\t\twidth: 150px;\n\t\theight: 30px;\n\t\tbackground-color: white;\n\t\tborder-radius: 7px;\n\t\tbox-shadow: ",";\n\n\t\tmargin-bottom: 10px;\n\t\tpadding: 0 15px;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tposition: relative;\n\t\t.mask {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tz-index: 2;\n\t\t}\n\t\tspan {\n\t\t\tfont-size: 0.9rem;\n\t\t\tcolor: #979797;\n\t\t\tpadding: 8px 0;\n\t\t}\n\t\timg {\n\t\t\twidth: 15px;\n\t\t\theight: 15px;\n\t\t\tfilter: invert(0.7);\n\t\t\tmargin: 8px 0;\n\t\t}\n\t\t.cover {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tz-index: 1;\n\t\t}\n\t}\n\t.box {\n\t\tlist-style: none;\n\t\twidth: 150px;\n\t\theight: max-content;\n\t\tmax-height: 300px;\n\t\tpadding: 10px;\n\t\toverflow-y: auto;\n\t\tbackground-color: white;\n\t\tborder-radius: 7px;\n\t\tbox-shadow: ",";\n\t\tposition: absolute;\n\t\tdisplay: ",";\n\t\tz-index: 2;\n\t\t::-webkit-scrollbar-track {\n\t\t\tbackground-color: ",";\n\t\t}\n\t\t::-webkit-scrollbar {\n\t\t\tborder-radius: 4px;\n\t\t\twidth: 5px;\n\t\t\tbackground-color: #f5f5f5;\n\t\t}\n\t\t::-webkit-scrollbar-thumb {\n\t\t\tbackground-color: #7e7e7e;\n\t\t\tborder-radius: 4px;\n\t\t}\n\t\tli.option {\n\t\t\tcursor: pointer;\n\t\t\tfont-size: 0.9rem;\n\t\t\tcolor: rgb(63, 63, 63);\n\t\t\tpadding: 5px;\n\t\t\tborder-radius: 4px;\n\t\t\ttransition: 0.2s;\n\t\t\t&:hover {\n\t\t\t\tbackground-color: #e0e0e0;\n\t\t\t\tcolor: #43b375;\n\t\t\t}\n\t\t}\n\t}\n\t@media (max-width: 768px) {\n\t\t&:nth-child(2n) {\n\t\t\tjustify-self: end;\n\t\t}\n\t}\n\t@media (max-width: 480px) {\n\t\t.selected,\n\t\t.box {\n\t\t\twidth: 120px;\n\t\t}\n\t}\n"])),(function(t){return t.theme.boxShadow}),(function(t){return t.theme.boxShadow}),(function(t){return t.isOpen?"block":"none"}),(function(t){return t.theme.scrollbar})),St=function(t){var e=t.item,n=t.location,a=t.history,r=Object(d.useState)(!1),i=Object(x.a)(r,2),c=i[0],s=i[1],o=Object(d.useRef)(null),l=Object(d.useRef)(null);Object(d.useEffect)((function(){return window.addEventListener("click",u),function(){return window.removeEventListener("click",u)}}),[o]);var u=function(t){t.target!==o.current&&s(!1)};return Object(S.jsxs)(kt,{className:"list-container",isOpen:c,children:[Object(S.jsxs)("div",{className:"selected",children:[Object(S.jsx)("div",{ref:o,className:"mask",onClick:function(){return s(!c)}}),Object(S.jsx)("span",{children:e.type}),Object(S.jsx)("img",{src:"https://img.icons8.com/ios-glyphs/30/000000/chevron-down.png",alt:""})]}),Object(S.jsx)("ul",{ref:l,className:"box",children:e.list.map((function(t){return Object(S.jsx)("li",{className:"option",onClick:function(){return function(t){var e=Object(g.a)(Object(g.a)({},Y(n.search)),{},Object(b.a)({},t.type,t.id.toString())),r=new URLSearchParams(e).toString();a.push("/search?"+r)}(t)},children:t.name},t.name)}))})]})},Ct=j.c.div(G||(G=Object(p.a)(["\n\tmax-width: 1200px;\n\tpadding: 0 50px;\n\tmargin: auto;\n\t@media (max-width: 768px) {\n\t\tpadding: 0 20px;\n\t}\n"]))),Nt=j.c.div(J||(J=Object(p.a)(["\n\twidth: 100%;\n\tmargin: 50px auto;\n\t.options-container {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\twidth: 100%;\n\t}\n\t@media (max-width: 768px) {\n\t\tmargin: 20px auto;\n\t\t.options-container {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: 1fr 1fr;\n\t\t}\n\t}\n"]))),zt=function(){var t=Object(I.g)(),e=Object(I.f)();return Object(S.jsxs)(Ct,{children:[Object(S.jsx)(vt,{location:t,history:e}),Object(S.jsx)(Nt,{children:Object(S.jsx)("div",{className:"options-container",children:yt.map((function(n,a){return Object(S.jsx)(St,{item:n,location:t,history:e},a)}))})}),Object(S.jsx)(_t,{location:t,history:e})]})},Lt=j.c.div(V||(V=Object(p.a)(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n\tmargin: 15px 0;\n\t.filter {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcolor: white;\n\t\tborder-radius: 7px;\n\t\tmargin: 0 20px 20px 0;\n\t\tbackground: #4c5264;\n\t\tpadding: 4px;\n\t}\n\timg {\n\t\tmargin-left: 5px;\n\t\twidth: 15px;\n\t\tfilter: invert(1);\n\t\theight: auto;\n\t}\n"]))),_t=function(t){var e=t.history,n=t.location,a=Object(d.useState)([]),r=Object(x.a)(a,2),i=r[0],c=r[1],s=Y(n.search);Object(d.useEffect)((function(){var t=[];for(var e in s)s[e]&&t.push({type:e,value:s[e]});c(t)}),[n]);return Object(S.jsx)(Lt,{children:i.map((function(t,n){return Object(S.jsxs)("div",{className:"filter",children:[Object(S.jsxs)("span",{children:[Object(S.jsxs)("b",{children:[t.type,":"]})," ",t.value]}),Object(S.jsx)("img",{onClick:function(){return function(t){delete s[t.type];var n=new URLSearchParams(s).toString();e.push("/search?"+n)}(t)},src:"./assets/icons/x.svg"})]},n)}))})},Et=function(){var t=Object(d.useState)(null),e=Object(x.a)(t,2),n=e[0],a=e[1],r=Object(d.useState)(null),i=Object(x.a)(r,2),c=i[0],s=i[1];return Object(d.useEffect)((function(){var t=!0;return function(){var e=Object(v.a)(O.a.mark((function e(){var n,r,i;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D();case 3:n=e.sent,r=n.top,i=n.trending,t&&(s(r.media),a(i.media)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}()(),function(){t=!1}}),[]),Object(S.jsxs)(Pt,{children:[Object(S.jsx)("div",{className:"hero",children:Object(S.jsx)("div",{className:"hero-container",children:Object(S.jsx)("h1",{children:"Discover the world of anime using the world's largest anime database"})})}),Object(S.jsx)(zt,{}),Object(S.jsx)(B,{header:"Popular this season",list:n}),Object(S.jsx)(B,{header:"Top animes of all time",list:c})]})},Pt=j.c.div(K||(K=Object(p.a)(['\n\t.hero {\n\t\tbackground: url("/assets/images/background.jpg");\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-size: cover;\n\t\twidth: 100%;\n\t\theight: 400px;\n\t\tposition: relative;\n\t\t.hero-container {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t\tbackground-color: rgba(0, 0, 0, 0.7);\n\t\t}\n\t\th1 {\n\t\t\tmax-width: 1200px;\n\t\t\tpadding: 100px 50px;\n\t\t\ttext-align: center;\n\t\t\twidth: 100%;\n\t\t\tmargin: auto;\n\t\t\tcolor: white;\n\t\t\tfont-size: 3rem;\n\t\t}\n\t}\n\t@media (max-width: 1024px) {\n\t\t.hero {\n\t\t\theight: 300px;\n\t\t\th1 {\n\t\t\t\tfont-size: 2.5rem;\n\t\t\t}\n\t\t}\n\t}\n\t@media (max-width: 768px) {\n\t\t.hero {\n\t\t\theight: 200px;\n\t\t\th1 {\n\t\t\t\tfont-size: 2rem;\n\t\t\t\tpadding: 50px;\n\t\t\t}\n\t\t}\n\t}\n\t@media (max-width: 480px) {\n\t\t.hero {\n\t\t\theight: 200px;\n\t\t\tmargin: 0;\n\t\t\th1 {\n\t\t\t\tpadding: 40px 20px;\n\t\t\t\tfont-size: 1.7rem;\n\t\t\t}\n\t\t}\n\t}\n']))),Mt=n(39),Tt=n.n(Mt),Ft=j.c.button(Q||(Q=Object(p.a)(['\n\tfont-family: "Overpass", sans-serif;\n\tcursor: pointer;\n\tbackground: ',";\n\tborder-radius: 4px;\n\tborder: none;\n\tcolor: white;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n\tfont-weight: 500;\n\ttransition: 0.2s;\n\twidth: max-content;\n\t:hover {\n\t\tfilter: brightness(0.9);\n\t}\n\t:disabled {\n\t\tfilter: brightness(0.8);\n\t\topacity: 0.7;\n\t}\n\tfont-size: ",";\n\tpadding: ",";\n\t@media (max-width: 640px) {\n\t\tfont-size: ",";\n\t}\n\t","\n"])),(function(t){return t.color}),(function(t){var e=t.size;return"small"===e?"0.9rem":"medium"===e?"1.1rem":"large"===e?"1.5rem":"0"}),(function(t){var e=t.size;return"small"===e?"3px 8px":"medium"===e?"5px 12px":"large"===e?"8px 16px":"0"}),(function(t){var e=t.size;return"small"===e?"0.8rem":"medium"===e?"0.95rem":"large"===e?"1.15rem":"0"}),(function(t){return t.customStyle})),At=function(t){var e=t.children,n=t.color,a=void 0===n?"green":n,r=t.size,i=void 0===r?"medium":r,c=t.onClick,s=t.className,o=t.disabled,d=t.isLoading,l=t.customStyle,u="small"===i?5:"medium"===i?10:"large"===i?15:0;return Object(S.jsx)(Ft,{color:"red"===a?"#F15858":"#70c7a7",disabled:o||!1,size:i,onClick:c,className:s,customStyle:l,children:d?Object(S.jsx)(Tt.a,{size:u,color:"white"}):e})},It=j.c.button(X||(X=Object(p.a)(["\n\tcursor: pointer;\n\tcolor: ",";\n\tfont-weight: 500;\n\tfont-size: ",";\n\tborder: none;\n\tbackground: none;\n\t:hover {\n\t\tfilter: brightness(0.9);\n\t}\n\t:disabled {\n\t\tfilter: brightness(0.8);\n\t\topacity: 0.7;\n\t}\n\t@media (max-width: 640px) {\n\t\tfont-size: ",";\n\t}\n\t","\n"])),(function(t){return t.color}),(function(t){var e=t.size;return"small"===e?"0.8rem":"medium"===e?"1rem":"large"===e?"1.5rem":"0"}),(function(t){var e=t.size;return"small"===e?"0.8rem":"medium"===e?"0.95rem":"large"===e?"1.15rem":"0"}),(function(t){return t.customStyle})),Dt=function(t){var e=t.children,n=t.color,a=void 0===n?"green":n,r=t.size,i=void 0===r?"medium":r,c=t.onClick,s=t.disabled,o=t.className,d=t.customStyle;return Object(S.jsx)(It,{onClick:c,disabled:s||!1,size:i,color:"red"===a?"#F15858":"#70c7a7",className:o,customStyle:d,children:e})},Rt=n(36),Ut=function(){var t=Object(d.useState)({email:null,password:null}),e=Object(x.a)(t,2),n=e[0],a=e[1],r=Object(I.f)(),i=Object(d.useContext)(N).client,c=Object(d.useContext)(_),s=c.user,o=c.loadingUser,l=c.setUser,u=c.setAccessToken,m=s.isLoading,p=function(t){a(Object(g.a)(Object(g.a)({},n),{},Object(b.a)({},t.target.name,t.target.value)))},j=function(){var t=Object(v.a)(O.a.mark((function t(){var e,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o(!0),t.next=3,i("/user/auth/login",{method:"POST",body:n,shouldShowMessage:"default"});case 3:e=t.sent,a=e.data,e.ok&&(u(a.accessToken),l().then((function(){return r.push("/")}))),o(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(S.jsx)(qt,{children:Object(S.jsxs)("div",{className:"form-container",children:[Object(S.jsx)($,{children:"Log in"}),Object(S.jsxs)("form",{children:[Object(S.jsx)("input",{name:"email",type:"email",onChange:p,placeholder:"Email",required:!0,autoComplete:"email"}),Object(S.jsx)("input",{name:"password",type:"password",onChange:p,placeholder:"Password",required:!0,autoComplete:"password"}),Object(S.jsx)(At,{disabled:m,isLoading:m,onClick:j,children:m?Object(S.jsx)(Rt.ClipLoader,{color:"#fff",size:"25"}):"Log in"}),Object(S.jsxs)("p",{children:["Don't have an accound? ",Object(S.jsx)(h.b,{to:"/register",children:"Sign up"})]})]})]})})},$t=Object(d.memo)(Ut),qt=j.c.div(Z||(Z=Object(p.a)(["\n\tmax-width: 1200px;\n\tpadding: 0 50px;\n\tmargin: auto;\n\t.form-container {\n\t\tmax-width: 400px;\n\t\tmargin: auto;\n\t\tmargin-top: 50px;\n\t\tpadding: 50px;\n\t\tbackground: ",";\n\t\tborder-radius: 4px;\n\t\th1 {\n\t\t\ttext-align: center;\n\t\t\tmargin-bottom: 50px;\n\t\t}\n\n\t\tform {\n\t\t\twidth: 100%;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\tinput {\n\t\t\t\twidth: 100%;\n\t\t\t\tmargin: 10px 0;\n\t\t\t\theight: 35px;\n\t\t\t\tfont-size: 1rem;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\tpadding: 5px 10px;\n\t\t\t\tborder: none;\n\t\t\t\tbackground: #edf1f5;\n\t\t\t}\n\t\t\tp {\n\t\t\t\tmargin-top: 50px;\n\t\t\t\ta {\n\t\t\t\t\tcolor: #70c7a7;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbutton {\n\t\t\tmargin-top: 30px;\n\t\t}\n\t}\n\t@media (max-width: 768px) {\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\t.form-container {\n\t\t\tpadding: 50px;\n\t\t\tmargin: 0;\n\t\t\tmax-width: 100%;\n\t\t\theight: 80vh;\n\t\t}\n\t}\n\t@media (max-width: 480px) {\n\t\t.form-container {\n\t\t\tpadding: 50px 20px;\n\t\t\tmargin: 0;\n\t\t\tmax-width: 100%;\n\t\t\theight: 80vh;\n\t\t}\n\t}\n"])),(function(t){return t.theme.commentBg})),Bt=n(27),Ht=n.n(Bt),Yt=j.c.div(tt||(tt=Object(p.a)(["\n\twidth: 100%;\n\tpadding-top: ","px;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"])),(function(t){return t.padding||"0"})),Wt=function(t){var e=t.size,n=t.padding,a=void 0===n?0:n;return Object(S.jsx)(Yt,{padding:a,children:Object(S.jsx)(Ht.a,{color:"#70c7a7",size:e||50})})},Gt=n(93),Jt=function(t){var e=t.username,n=t.avatar_url,a=t.date,r=t.isEdited;return Object(S.jsx)(Vt,{children:Object(S.jsxs)(h.b,{className:"user",to:"/user/".concat(e),children:[Object(S.jsx)("img",{src:n,alt:""}),Object(S.jsxs)("div",{className:"username-date",children:[Object(S.jsx)("span",{className:"username",children:e}),!!a&&Object(S.jsxs)("span",{className:"date",children:[Object(Gt.a)(new Date(1e3*a),new Date,{addSuffix:!0}),r&&Object(S.jsx)("span",{className:"edited",children:"(edited)"})]})]})]})})},Vt=j.c.div(et||(et=Object(p.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\t.username-date {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\t.user {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tmargin-right: 15px;\n\t\timg {\n\t\t\twidth: 40px;\n\t\t\theight: 40px;\n\t\t\tborder-radius: 7px;\n\t\t\tmargin-right: 10px;\n\t\t}\n\t\tspan.username {\n\t\t\tfont-size: 1rem;\n\t\t\tcolor: #70c7a7;\n\t\t}\n\t}\n\tspan.date,\n\tspan.edited {\n\t\tfont-size: 0.8rem;\n\t\tcolor: grey;\n\t}\n\t.edited {\n\t\tmargin-left: 5px;\n\t}\n\t@media (max-width: 768px) {\n\t\t.user {\n\t\t\timg {\n\t\t\t\twidth: 30px;\n\t\t\t\theight: 30px;\n\t\t\t}\n\t\t\tspan.username {\n\t\t\t\tfont-size: 0.8rem;\n\t\t\t}\n\t\t}\n\t\tspan.date,\n\t\tspan.edited {\n\t\t\tfont-size: 0.75rem;\n\t\t}\n\t}\n"]))),Kt=function(t){var e=t.comment,n=t.getComments,a=Object(d.useState)(e.text),r=Object(x.a)(a,2),i=r[0],c=r[1],s=Object(d.useState)(!1),o=Object(x.a)(s,2),l=o[0],u=o[1],m=Object(d.useState)(!1),p=Object(x.a)(m,2),h=p[0],j=p[1],b=Object(d.useContext)(_).user.user_id,g=Object(d.useContext)(N),f=g.showModal,w=g.client,y=Object(d.useRef)(null);Object(d.useEffect)((function(){l&&!h&&u(!1)}),[e]),Object(d.useLayoutEffect)((function(){if(null!=y.current){var t=y.current.scrollHeight;y.current.style.height=t+"px",l&&(y.current.selectionStart=y.current.value.length,y.current.selectionEnd=y.current.value.length,y.current.focus())}}),[y.current,l]);var k=function(){var t=Object(v.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.next=3,w("/comments/anime/".concat(e.comment_id),{method:"PUT",body:{newComment:i},shouldShowMessage:"default"});case 3:if(a=t.sent,!a.ok){t.next=8;break}return t.next=8,n();case 8:u(!1),j(!1);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(S.jsxs)(Qt,{children:[Object(S.jsxs)("div",{className:"top-bar",children:[Object(S.jsx)(Jt,{username:e.username,avatar_url:e.avatar,date:e.created_at,isEdited:e.is_edited}),b==e.user_id&&Object(S.jsx)("div",{className:"actions",children:l?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Dt,{size:"small",color:"red",onClick:function(){return u(!1)},disabled:h,children:"Cancel"}),Object(S.jsx)(At,{customStyle:"margin-left: 10px;",size:"small",onClick:k,disabled:h,children:"Submit"})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Dt,{size:"small",onClick:function(){u(!0)},disabled:h,children:"Edit"}),Object(S.jsx)(Dt,{color:"red",size:"small",customStyle:"margin-left: 10px;",onClick:function(){return f("DELETE_COMMENT",{getComments:n,comment:e,type:"anime"})},disabled:h,children:"Delete"})]})})]}),l?Object(S.jsx)("textarea",{ref:y,name:"newComment",defaultValue:i,onChange:function(t){return c(t.target.value)}}):Object(S.jsx)("p",{className:"comment",children:e.text})]})},Qt=j.c.div(nt||(nt=Object(p.a)(["\n\tborder-radius: 4px;\n\tpadding: 15px;\n\tmargin: 10px 0;\n\tbackground: ",";\n\t.top-bar {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n\t.comment-data {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t.user-data {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t}\n\t\timg {\n\t\t\twidth: 30px;\n\t\t\theight: 30px;\n\t\t\tobject-fit: cover;\n\t\t\tmargin-right: 10px;\n\t\t\tborder-radius: 4px;\n\t\t}\n\t\t.username {\n\t\t\tcolor: #70c7a7;\n\t\t}\n\t\t.date {\n\t\t\tfont-size: 0.85rem;\n\t\t\tmargin-left: 20px;\n\t\t\tcolor: grey;\n\t\t}\n\t}\n\t.actions {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\tp {\n\t\tmargin-top: 15px;\n\t\twhite-space: pre-line;\n\t}\n\ttextarea {\n\t\tmargin: 5px 0;\n\t\tpadding: 5px;\n\t\twidth: 100%;\n\t\tfont-size: 1rem;\n\t\theight: unset;\n\t\tborder-radius: 4px;\n\t\tborder: none;\n\t}\n\t@media (max-width: 768px) {\n\t\tp,\n\t\ttextarea {\n\t\t\tfont-size: 0.9rem;\n\t\t}\n\t}\n"])),(function(t){return t.theme.commentBg})),Xt=function(t){var e=t.anime_id,n=Object(d.useState)([]),a=Object(x.a)(n,2),r=a[0],i=a[1],c=Object(d.useState)(!0),s=Object(x.a)(c,2),o=s[0],l=s[1],u=Object(d.useState)(!1),m=Object(x.a)(u,2),p=m[0],h=m[1],j=Object(d.useContext)(N).client,b=function(){var t=Object(v.a)(O.a.mark((function t(){var n,a,r,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("/comments/anime/".concat(e));case 2:n=t.sent,a=n.data,r=n.ok,c=n.message,r?i(a):console.log(c),l(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(d.useEffect)((function(){b()}),[]);var g=Object(d.useState)(""),f=Object(x.a)(g,2),w=f[0],y=f[1],k=function(){var t=Object(v.a)(O.a.mark((function t(n){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),h(!0),t.next=4,j("/comments/anime/".concat(e),{method:"POST",body:{comment:w},shouldShowMessage:"default"});case 4:if(a=t.sent,!a.ok){t.next=10;break}return t.next=9,b();case 9:y("");case 10:h(!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsxs)(Zt,{children:[Object(S.jsx)(q,{children:"Comments"}),Object(S.jsxs)(te,{onSubmit:k,children:[Object(S.jsx)("textarea",{name:"comment",onChange:function(t){return y(t.target.value)},disabled:p,value:w,placeholder:"Add your comment"}),Object(S.jsx)("br",{}),Object(S.jsx)(At,{disabled:p,customStyle:"padding: 7px 10px; font-size: 1.2rem;",children:"Send"})]}),Object(S.jsxs)("div",{className:"all-comments",children:[o?Object(S.jsx)(Wt,{size:50}):null,null===r||void 0===r?void 0:r.map((function(t){return Object(S.jsx)(Kt,{comment:t,getComments:b},t.comment_id)}))]})]})},Zt=j.c.section(at||(at=Object(p.a)(["\n\tmax-width: 1200px;\n\tpadding: 0 50px;\n\tmargin: auto;\n\n\t.all-comments {\n\t\tmargin-top: 20px;\n\t}\n\t@media (max-width: 768px) {\n\t\tpadding: 0 20px;\n\t}\n"]))),te=j.c.form(rt||(rt=Object(p.a)(["\n\ttextarea {\n\t\twidth: 100%;\n\t\theight: 100px;\n\t\tfont-size: 1.2rem;\n\t\tborder-radius: 4px;\n\t\tborder: none;\n\t\tpadding: 10px;\n\t\tmargin-bottom: 10px;\n\t}\n\t@media (max-width: 768px) {\n\t\ttextarea {\n\t\t\tfont-size: 1rem;\n\t\t}\n\t}\n"]))),ee=function(t){var e=t.data,n=t.favAnime,a=t.handleAddToFavorites,r=t.handleRemoveFromFavorites,i=t.isLoading,c=n.isFavorite?"Remove":"Add to Favorites";return Object(S.jsxs)(ne,{children:[Object(S.jsx)($,{customStyle:"margin-bottom: 10px;",children:e.title.english||e.title.romaji}),Object(S.jsxs)("div",{className:"img-and-desc",children:[Object(S.jsxs)("div",{className:"mobile-img-cont",children:[Object(S.jsx)("img",{className:"mobile-img",src:e.coverImage.extraLarge,alt:""}),Object(S.jsx)(At,{disabled:n.isLoading,isLoading:n.isLoading||i,onClick:function(){return n.isFavorite?r():a()},className:"fav-btn",size:"small",color:n.isFavorite?"red":"green",children:c})]}),Object(S.jsx)("p",{dangerouslySetInnerHTML:{__html:e.description}})]}),Object(S.jsx)("ul",{className:"genres",children:e.genres.map((function(t,e){return Object(S.jsx)(h.b,{to:"/search?genre=".concat(t),children:t},e)}))}),e.trailer&&Object(S.jsx)("iframe",{allowFullScreen:!0,className:"trailer",title:e.title,width:"100%",height:"350px",src:"https://www.youtube.com/embed/".concat(e.trailer.id)})]})},ne=j.c.section(it||(it=Object(p.a)(["\n\twidth: 60%;\n\tmargin-left: 50px;\n\tmargin-top: 0px;\n\n\t.fav-btn {\n\t\tdisplay: none;\n\t}\n\tp {\n\t\tfont-size: 1.1rem;\n\t\tmargin-bottom: 20px;\n\t}\n\t.mobile-img {\n\t\tdisplay: none;\n\t\tborder-radius: 7px;\n\t}\n\t.trailer {\n\t\tmargin: 20px 0;\n\t}\n\t.genres {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tmargin-top: 20px;\n\t\ta {\n\t\t\tborder: 1px rgba(0, 0, 0, 0.4) solid;\n\t\t\tcolor: #4c5264;\n\t\t\tbackground-color: white;\n\t\t\tborder-radius: 7px;\n\t\t\tmargin: 5px 0;\n\t\t\tmargin-right: 10px;\n\t\t\tpadding: 2px 5px;\n\t\t}\n\t}\n\n\t@media screen and (max-width: 768px) {\n\t\twidth: 100%;\n\t\tmargin: 0;\n\t\t.img-and-desc {\n\t\t\tdisplay: flex;\n\t\t\tmargin-bottom: 10px;\n\t\t\tp {\n\t\t\t\tfont-size: 1rem;\n\t\t\t\twidth: 70%;\n\t\t\t}\n\t\t\t.mobile-img-cont {\n\t\t\t\twidth: 30%;\n\t\t\t\theight: auto;\n\t\t\t\tmargin-right: 15px;\n\n\t\t\t\t.mobile-img {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tmargin-bottom: 15px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.fav-btn {\n\t\t\tdisplay: block;\n\t\t}\n\t\t.genres {\n\t\t\tmargin-top: 5px;\n\t\t}\n\n\t\t@media screen and (max-width: 480px) {\n\t\t\tmargin-top: 20px;\n\t\t\t.img-and-desc {\n\t\t\t\tdisplay: block;\n\t\t\t\tmargin-bottom: 10px;\n\t\t\t\tp {\n\t\t\t\t\tfont-size: 0.8rem;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tmargin-bottom: 0;\n\t\t\t\t\tmargin-top: 20px;\n\t\t\t\t}\n\t\t\t\t.mobile-img-cont {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tmargin-right: 0px;\n\t\t\t\t}\n\t\t\t}\n\t\t\tiframe {\n\t\t\t\theight: 220px;\n\t\t\t}\n\t\t\t.genres {\n\t\t\t\tli {\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\tmargin: 5px 5px 5px 0;\n\t\t\t\t\tpadding: 2px 5px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]))),ae=function(t){var e,n,a,r=t.data,i=t.favAnime,c=t.handleAddToFavorites,s=t.handleRemoveFromFavorites,o=t.isLoading,d=i.isFavorite?"Remove":"Add to Favorites";return Object(S.jsxs)(re,{children:[Object(S.jsx)("img",{className:"desktop-img",src:r.coverImage.extraLarge,alt:""}),Object(S.jsx)(At,{disabled:i.isLoading,isLoading:i.isLoading||o,onClick:function(){return i.isFavorite?s():c()},className:"fav-btn",size:"small",color:i.isFavorite?"red":"green",children:d}),Object(S.jsxs)("ul",{className:"details",children:[Object(S.jsxs)("li",{children:["Season",Object(S.jsxs)("span",{children:[r.season," ",r.seasonYear]})]}),Object(S.jsxs)("li",{children:["Format ",Object(S.jsx)("span",{children:r.format})]}),Object(S.jsxs)("li",{children:["Episodes ",Object(S.jsx)("span",{children:r.episodes})]}),Object(S.jsxs)("li",{children:["Duration ",Object(S.jsxs)("span",{children:[r.duration," min"]})]}),Object(S.jsxs)("li",{children:["Status ",Object(S.jsx)("span",{children:r.status})]}),Object(S.jsxs)("li",{children:["Studio ",Object(S.jsx)("span",{children:null===(e=r.studios)||void 0===e||null===(n=e.edges[0])||void 0===n||null===(a=n.node)||void 0===a?void 0:a.name})]})]})]})},re=j.c.section(ct||(ct=Object(p.a)(["\n\twidth: 35%;\n\timg {\n\t\twidth: 100%;\n\t\tborder-radius: 5px;\n\t\tbox-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);\n\t\tmargin-bottom: 15px;\n\t}\n\t.details {\n\t\tmargin: 20px 0;\n\t\tpadding: 5px 20px;\n\t\tborder-radius: 3px;\n\t\tbackground-color: white;\n\t\tbox-shadow: 2px 2px 2px 2px rgba(0, 0, 0, 0.1);\n\t\tli {\n\t\t\twidth: 100%;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\tmargin: 10px 0;\n\t\t\tcolor: black;\n\t\t\tfont-size: 1.1rem;\n\t\t\tspan {\n\t\t\t\tcolor: #4c5264;\n\t\t\t\tfont-size: 1rem;\n\t\t\t}\n\t\t}\n\t}\n\t@media screen and (max-width: 768px) {\n\t\twidth: 100%;\n\t\t.details {\n\t\t\tmargin: 0;\n\t\t\tpadding: 10px 20px;\n\t\t\tborder-radius: 0;\n\t\t\tbox-shadow: none;\n\t\t\tli {\n\t\t\t\tmargin: 5px 0;\n\t\t\t\tfont-size: 1rem;\n\t\t\t\tspan {\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.desktop-img {\n\t\t\tdisplay: none;\n\t\t}\n\t\t.fav-btn {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\t@media screen and (max-width: 480px) {\n\t\t.details {\n\t\t\tpadding: 5px 10px;\n\t\t\tli {\n\t\t\t\tfont-size: 0.9rem;\n\t\t\t\tspan {\n\t\t\t\t\tfont-size: 0.85rem;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]))),ie=function(t){var e=t.data;return e.hasOwnProperty("characters")?Object(S.jsxs)(ce,{children:[Object(S.jsx)(q,{children:"Main characters"}),Object(S.jsx)("div",{className:"characters-container",children:e.characters.edges.map((function(t){var e=t.node,n=e.name.full,a=e.image,r=e.id;return Object(S.jsx)(h.b,{to:"/character/".concat(r),children:Object(S.jsxs)("div",{className:"character-card",children:[Object(S.jsx)("img",{src:a.large,alt:n}),Object(S.jsx)("p",{children:n})]})},r)}))})]}):null},ce=j.c.section(st||(st=Object(p.a)(["\n\tmax-width: 1200px;\n\tpadding: 0 50px;\n\tmargin: 20px auto;\n\th2 {\n\t\tmargin: 20px 0;\n\t}\n\t.characters-container {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(6, minmax(120px, 1fr));\n\t\tjustify-content: space-between;\n\t\tcolumn-gap: 20px;\n\t\trow-gap: 20px;\n\t\t.character-card {\n\t\t\timg {\n\t\t\t\tborder-radius: 5px;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 210px;\n\t\t\t\tobject-fit: cover;\n\t\t\t}\n\t\t}\n\t}\n\t@media screen and (max-width: 1024px) {\n\t\t.characters-container {\n\t\t\tgrid-template-columns: repeat(5, minmax(120px, 1fr));\n\t\t}\n\t}\n\t@media screen and (max-width: 900px) {\n\t\t.characters-container {\n\t\t\t.character-card {\n\t\t\t\timg {\n\t\t\t\t\theight: 200px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t@media screen and (max-width: 768px) {\n\t\tpadding: 0 20px;\n\n\t\t.characters-container {\n\t\t\tgrid-template-columns: repeat(4, minmax(100px, 1fr));\n\t\t}\n\t}\n\t@media screen and (max-width: 620px) {\n\t\t.characters-container {\n\t\t\tgrid-template-columns: repeat(4, minmax(80px, 1fr));\n\t\t\t.character-card {\n\t\t\t\timg {\n\t\t\t\t\theight: 150px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t@media screen and (max-width: 480px) {\n\t\t.characters-container {\n\t\t\tgrid-template-columns: repeat(3, 1fr);\n\t\t\t.character-card {\n\t\t\t\tp {\n\t\t\t\t\tfont-size: 0.8rem;\n\t\t\t\t}\n\t\t\t\timg {\n\t\t\t\t\theight: 170px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t@media screen and (max-width: 400px) {\n\t\t.characters-container {\n\t\t\tgrid-template-columns: repeat(3, 1fr);\n\t\t\t.character-card {\n\t\t\t\timg {\n\t\t\t\t\theight: 140px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]))),se=j.c.div(ot||(ot=Object(p.a)(["\n\tposition: fixed;\n\ttop: 4rem;\n\tbottom: 2.5rem;\n\tleft: 0;\n\tright: 0;\n\tdisplay: flex;\n\tjustify-content: center;\n\talign-items: center;\n"]))),oe=function(t){var e=t.size;return Object(S.jsx)(se,{children:Object(S.jsx)(Ht.a,{color:"#70c7a7",size:e||50})})},de=function(){var t=Object(v.a)(O.a.mark((function t(e){var n,a,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"\n    query ($id: Int) {\n      Media(id: $id) {\n        id\n        title {\n          romaji\n          english\n          native\n        }\n        description\n        trailer {\n          id\n        }\n        bannerImage\n        coverImage {\n          extraLarge\n          large\n          medium\n          color\n        }\n        format\n        episodes\n        status\n        duration\n        startDate {\n          year\n          month\n          day\n        }\n        endDate {\n          year\n          month\n          day\n        }\n        season\n        seasonYear\n        studios(isMain: true) {\n          edges {\n            id\n            node {\n              name\n            }\n          }\n        }\n        genres\n        characters(sort: [ROLE, ID], role: MAIN) {\n          edges {\n            id\n            role\n            node {\n              id\n              name {\n                full\n              }\n              image {\n                large\n              }\n            }\n          }\n        }\n      }\n    }\n","https://graphql.anilist.co",n={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:"\n    query ($id: Int) {\n      Media(id: $id) {\n        id\n        title {\n          romaji\n          english\n          native\n        }\n        description\n        trailer {\n          id\n        }\n        bannerImage\n        coverImage {\n          extraLarge\n          large\n          medium\n          color\n        }\n        format\n        episodes\n        status\n        duration\n        startDate {\n          year\n          month\n          day\n        }\n        endDate {\n          year\n          month\n          day\n        }\n        season\n        seasonYear\n        studios(isMain: true) {\n          edges {\n            id\n            node {\n              name\n            }\n          }\n        }\n        genres\n        characters(sort: [ROLE, ID], role: MAIN) {\n          edges {\n            id\n            role\n            node {\n              id\n              name {\n                full\n              }\n              image {\n                large\n              }\n            }\n          }\n        }\n      }\n    }\n",variables:{id:e}})},t.next=4,fetch("https://graphql.anilist.co",n);case 4:return a=t.sent,t.next=7,a.json();case 7:return r=t.sent,t.abrupt("return",r.data.Media);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),le=function(t){var e=t.match,n=t.history,a=e.params.id,r=Object(d.useState)(!0),i=Object(x.a)(r,2),c=i[0],s=i[1],o=Object(d.useState)(null),l=Object(x.a)(o,2),u=l[0],m=l[1],p=Object(d.useContext)(N).client,h=Object(d.useState)({isFavorite:!1,isLoading:!0}),j=Object(x.a)(h,2),b=j[0],g=j[1];console.log("ANimePage rerender");var f=function(){var t=Object(v.a)(O.a.mark((function t(){var e,r,i,c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,de(a);case 2:if(e=t.sent){t.next=5;break}return t.abrupt("return",n.replace("/404"));case 5:return m(e),s(!1),t.next=9,p("/favorites/anime/is_favorite/".concat(a));case 9:r=t.sent,i=r.data,c=r.ok,g(c?{isFavorite:i.is_favorite,isLoading:!1}:{isFavorite:!1,isLoading:!1});case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(d.useEffect)((function(){f()}),[]);var w=function(){var t=Object(v.a)(O.a.mark((function t(){var e,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g({isFavorite:!1,isLoading:!0}),t.next=3,p("/favorites/anime/",{method:"POST",body:{anime_id:a,cover_image:null===u||void 0===u?void 0:u.coverImage.extraLarge,title:(null===u||void 0===u?void 0:u.title.english)||(null===u||void 0===u?void 0:u.title.romaji)},shouldShowMessage:"error"});case 3:e=t.sent,n=e.ok,g((function(t){return{isFavorite:!!n||t.isFavorite,isLoading:!1}}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(v.a)(O.a.mark((function t(){var e,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g({isFavorite:!1,isLoading:!0}),t.next=3,p("/favorites/anime/".concat(a),{method:"DELETE",shouldShowMessage:"error"});case 3:e=t.sent,n=e.ok,g((function(t){return{isFavorite:!n&&t.isFavorite,isLoading:!1}}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c?Object(S.jsx)(oe,{size:100}):Object(S.jsxs)(ue,{children:[Object(S.jsxs)("div",{className:"flex-container",children:[Object(S.jsx)(ae,{favAnime:b,handleAddToFavorites:w,handleRemoveFromFavorites:y,data:u,isLoading:c}),Object(S.jsx)(ee,{favAnime:b,handleAddToFavorites:w,handleRemoveFromFavorites:y,data:u,isLoading:c})]}),Object(S.jsx)(ie,{data:u}),Object(S.jsx)(Xt,{anime_id:e.params.id})]})},ue=j.c.div(dt||(dt=Object(p.a)(["\n\tpadding: 50px 0;\n\t.flex-container {\n\t\twidth: 100%;\n\t\tmax-width: 1200px;\n\t\tpadding: 0 50px;\n\t\tmargin: auto;\n\t\tdisplay: flex;\n\t}\n\n\t@media screen and (max-width: 768px) {\n\t\tpadding: 20px 0;\n\t\t.flex-container {\n\t\t\tflex-direction: column-reverse;\n\t\t\tpadding: 0 20px;\n\t\t}\n\t}\n\n\t@media screen and (max-width: 480px) {\n\t\tpadding: 0;\n\t\t.flex-container {\n\t\t}\n\t}\n"]))),me=function(){var t=Object(d.useContext)(_),e=t.user,n=t.setAccessToken,a=t.setUser,r=t.loadingUser,i=e.isLoading,c=(e.isLoggedIn,Object(d.useContext)(N).client),s=Object(I.f)(),o=Object(d.useState)({username:null,email:null,password:null,password2:null}),l=Object(x.a)(o,2),u=l[0],m=l[1],p=function(t){m(Object(g.a)(Object(g.a)({},u),{},Object(b.a)({},t.target.name,t.target.value)))},j=function(){var t=Object(v.a)(O.a.mark((function t(e){var i,o,d;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),r(!0),t.next=4,c("/user/auth/register",{method:"POST",body:u,shouldShowMessage:"default"});case 4:i=t.sent,o=i.ok,d=i.data,i.message,o&&(n(d.accessToken),a().then((function(){return s.push("/")}))),r(!1);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsx)(pe,{children:Object(S.jsxs)("div",{className:"form-container",children:[Object(S.jsx)($,{children:"Register"}),Object(S.jsxs)("form",{onSubmit:j,children:[Object(S.jsx)("input",{name:"username",type:"text",required:!0,placeholder:"Username",onChange:p}),Object(S.jsx)("input",{name:"email",type:"email",required:!0,placeholder:"Email",onChange:p}),Object(S.jsx)("input",{name:"password",type:"password",required:!0,placeholder:"Password",onChange:p}),Object(S.jsx)("input",{name:"password2",type:"password",required:!0,placeholder:"Confirm password",onChange:p}),Object(S.jsx)(At,{disabled:i,isLoading:i,customStyle:"\n\t\t\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t\t\t\twidth: 120px;\n\t\t\t\t\t\t\theight: 40px;\n\t\t\t\t\t\t",children:i?Object(S.jsx)(Rt.ClipLoader,{color:"#fff",size:"25"}):"Register"}),Object(S.jsxs)("p",{children:["Already signed up? ",Object(S.jsx)(h.b,{to:"/login",children:"Log in"})]})]})]})})},pe=j.c.div(lt||(lt=Object(p.a)(["\n\tmax-width: 1200px;\n\tpadding: 0 50px;\n\tmargin: auto;\n\t.form-container {\n\t\tmax-width: 400px;\n\t\tmargin: auto;\n\t\tmargin-top: 50px;\n\t\tpadding: 50px;\n\t\tbackground: ",";\n\t\tborder-radius: 4px;\n\t\th1 {\n\t\t\ttext-align: center;\n\t\t\tmargin-bottom: 50px;\n\t\t}\n\t\tform {\n\t\t\twidth: 100%;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\talign-items: center;\n\t\t\tinput {\n\t\t\t\twidth: 100%;\n\t\t\t\tmargin: 10px 0;\n\t\t\t\theight: 35px;\n\t\t\t\tfont-size: 1rem;\n\t\t\t\tborder-radius: 4px;\n\t\t\t\tpadding: 5px 10px;\n\t\t\t\tborder: none;\n\t\t\t\tbackground: #edf1f5;\n\t\t\t}\n\t\t\tp {\n\t\t\t\tmargin-top: 50px;\n\t\t\t\ta {\n\t\t\t\t\tcolor: #70c7a7;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tbutton {\n\t\t\tmargin-top: 30px;\n\t\t}\n\t}\n\t@media (max-width: 768px) {\n\t\tpadding: 0;\n\t\tmargin: 0;\n\t\t.form-container {\n\t\t\tpadding: 50px;\n\t\t\tmargin: 0;\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n\t@media (max-width: 480px) {\n\t\t.form-container {\n\t\t\tpadding: 50px 20px;\n\t\t\tmargin: 0;\n\t\t\tmax-width: 100%;\n\t\t}\n\t}\n"])),(function(t){return t.theme.commentBg})),xe=function(){var t,e,n=Object(d.useState)(null),a=Object(x.a)(n,2),r=a[0],i=a[1],c=Object(d.useState)(!0),s=Object(x.a)(c,2),o=s[0],l=s[1],u=Object(d.useContext)(N).client;return Object(d.useEffect)((function(){var t=!0;return l(!0),Object(v.a)(O.a.mark((function e(){var n,a,r,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u("/favorites/anime");case 2:return n=e.sent,a=n.data,e.next=6,u("/favorites/character");case 6:r=e.sent,c=r.data,t&&(i({anime:a,characters:c}),l(!1));case 9:case"end":return e.stop()}}),e)})))(),function(){t=!1}}),[]),o?Object(S.jsx)(Wt,{}):Object(S.jsxs)(je,{children:[Object(S.jsx)($,{children:"Favorites"}),Object(S.jsx)(q,{children:"Anime"}),(null===r||void 0===r||null===(t=r.anime)||void 0===t?void 0:t.length)?Object(S.jsx)("div",{className:"list",children:null===r||void 0===r?void 0:r.anime.map((function(t){return Object(S.jsx)(he,{item:t},t.anime_id)}))}):Object(S.jsxs)("p",{children:["You have no favorites. Why not to browse ",Object(S.jsx)(h.b,{to:"/",children:"anime"}),"?"]}),Object(S.jsx)(q,{children:"Chacarters"}),(null===r||void 0===r||null===(e=r.characters)||void 0===e?void 0:e.length)?Object(S.jsx)("div",{className:"list",children:null===r||void 0===r?void 0:r.characters.map((function(t){return Object(S.jsx)(he,{item:t},t.character_id)}))}):Object(S.jsxs)("p",{children:["You have no favorites. Why not to browse ",Object(S.jsx)(h.b,{to:"/",children:"characters"}),"?"]})]})},he=function(t){var e=t.item,n=e.anime_id?"/anime/".concat(e.anime_id):"/character/".concat(e.character_id),a=e.title||e.name;return Object(S.jsx)(be,{children:Object(S.jsxs)(h.b,{to:n,children:[Object(S.jsx)("img",{src:e.cover_image,alt:""}),Object(S.jsx)("p",{children:a})]})})},je=j.c.section(ut||(ut=Object(p.a)(["\n\twidth: 100%;\n\t.list {\n\t\twidth: 100%;\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(auto-fit, 120px);\n\t\tcolumn-gap: 20px;\n\t\trow-gap: 20px;\n\t\t@media (max-width: 640px) {\n\t\t\tgrid-template-columns: repeat(3, 1fr);\n\t\t}\n\t\t@media (max-width: 400px) {\n\t\t\tgrid-template-columns: repeat(2, 1fr);\n\t\t}\n\t}\n\tbutton {\n\t\tcursor: pointer;\n\t\twidth: max-content;\n\t\tborder: none;\n\t\tborder-radius: 4px;\n\t\tbackground-color: rgb(199, 77, 77);\n\t\tcolor: white;\n\t\tmargin-top: 5px;\n\t\tpadding: 3px 5px;\n\t\t&:disabled {\n\t\t\tbackground-color: grey;\n\t\t}\n\t}\n"]))),be=j.c.div(mt||(mt=Object(p.a)(["\n\twidth: 120px;\n\tdisplay: flex;\n\tflex-direction: column;\n\timg {\n\t\twidth: 100%;\n\t\taspect-ratio: 2 / 3;\n\t\tobject-fit: cover;\n\t\tborder-radius: 5px;\n\t}\n\tp {\n\t\tfont-size: 0.9rem;\n\t\theight: 30px;\n\t\tmargin-bottom: 5px;\n\t}\n\t@media (max-width: 640px) {\n\t\t/* grid-template-columns: repeat(3, 1fr); */\n\t\twidth: 100%;\n\t}\n"]))),ge=function(t){var e=t.category;return Object(S.jsx)(fe,{children:Object(S.jsxs)("ul",{className:"links",children:[Object(S.jsx)("li",{className:"profile"===e?"link-active":"link",children:Object(S.jsx)(h.b,{to:"/me/profile",children:"Profile"})}),Object(S.jsx)("li",{className:"favorites"===e?"link-active":"link",children:Object(S.jsx)(h.b,{to:"/me/favorites",children:"Favorites"})}),Object(S.jsx)("li",{className:"comments"===e?"link-active":"link",children:Object(S.jsx)(h.b,{to:"/me/comments",children:"Comments"})}),Object(S.jsx)("li",{className:"discussions"===e?"link-active":"link",children:Object(S.jsx)(h.b,{to:"/me/discussions",children:"Discussions"})}),Object(S.jsx)("li",{className:"settings"===e?"link-active":"link",children:Object(S.jsx)(h.b,{to:"/me/settings",children:"Settings"})}),Object(S.jsx)("li",{className:"social"===e?"link-active":"link",children:Object(S.jsx)(h.b,{to:"/me/social",children:"Social"})})]})})},fe=j.c.aside(pt||(pt=Object(p.a)(["\n\tborder-radius: 7px;\n\tmargin-right: 100px;\n\twidth: 200px;\n\theight: max-content;\n\t.links {\n\t\tlist-style: none;\n\t\tli {\n\t\t\twidth: max-content;\n\t\t\ta {\n\t\t\t\tdisplay: block;\n\t\t\t\twidth: max-content;\n\t\t\t\tmargin: 10px 0;\n\t\t\t\tfont-size: 1.5rem;\n\t\t\t}\n\t\t}\n\t}\n\t.link {\n\t\ta {\n\t\t\tcolor: ",";\n\t\t}\n\t}\n\t.link-active {\n\t\ta {\n\t\t\tborder-left: #70c7a7 4px solid;\n\t\t\tpadding-left: 20px;\n\t\t\tcolor: #70c7a7;\n\t\t}\n\t}\n\t@media (max-width: 1024px) {\n\t\tmargin-right: 50px;\n\t}\n\t@media (max-width: 768px) {\n\t\twidth: 100%;\n\t\tmargin-bottom: 20px;\n\t\t.links {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\toverflow-x: auto;\n\t\t\t> :last-child {\n\t\t\t\tmargin-right: 0 !important;\n\t\t\t}\n\t\t\tli {\n\t\t\t\tmargin-right: 25px;\n\t\t\t\ta {\n\t\t\t\t\tfont-size: 1rem;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.link-active {\n\t\t\ta {\n\t\t\t\tborder-left: none;\n\t\t\t\tpadding-left: 0px;\n\t\t\t\tcolor: #70c7a7;\n\t\t\t}\n\t\t}\n\t}\n"])),(function(t){return t.theme.header})),Oe=n(49),ve=n(91),we=function(){var t=Object(d.useState)(!1),e=Object(x.a)(t,2),n=e[0],a=e[1],r=Object(d.useContext)(_),i=r.user,c=r.setUser,s=Object(d.useContext)(N).client,o=i.isLoading,l=Object(d.useState)(i.about||""),u=Object(x.a)(l,2),m=u[0],p=u[1],h=Object(d.useState)(!1),j=Object(x.a)(h,2),b=j[0],g=j[1],f=Object(d.useRef)(null),w=function(){var t=Object(v.a)(O.a.mark((function t(){var e;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s("/user/auth/logout",{method:"DELETE",shouldShowMessage:"default"});case 2:e=t.sent,e.ok&&(localStorage.removeItem("accessToken"),window.location.replace("/"));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(d.useEffect)((function(){n&&f.current&&f.current.focus()}),[n]);var y=function(){var t=Object(v.a)(O.a.mark((function t(){var e;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!0),t.next=3,s("/user/profile/about",{method:"PUT",shouldShowMessage:"default",body:{newAbout:m}});case 3:e=t.sent,e.ok&&(g(!1),c());case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(S.jsxs)(ke,{children:[Object(S.jsx)($,{children:"Profile"}),Object(S.jsxs)("div",{className:"top",children:[Object(S.jsx)("div",{className:"avatar",children:Object(S.jsx)("img",{src:i.avatar_url,alt:""})}),Object(S.jsxs)("div",{className:"text",children:[Object(S.jsx)(q,{children:i.username}),o||!i.created_at?Object(S.jsx)(R.SkeletonTheme,{highlightColor:"#f5f5f5",color:"#c4c4c4",children:Object(S.jsx)(U.a,{width:"7rem",height:"10px"})}):Object(S.jsxs)("p",{children:["Member since ",Object(Oe.a)(Object(ve.a)(i.created_at.toString()),"MMMM y")]})]})]}),Object(S.jsxs)("div",{className:"about-user",children:[Object(S.jsxs)("div",{className:"about-header",children:[Object(S.jsx)(q,{children:"About me"}),n?Object(S.jsx)(Dt,{onClick:function(){return a(!1)},isLoading:b,disabled:b,children:"Cancel"}):Object(S.jsx)(Dt,{onClick:function(){return a(!0)},isLoading:b,disabled:b,children:"Edit"})]}),n?Object(S.jsxs)("div",{className:"edit-about",children:[Object(S.jsx)("textarea",{ref:f,value:m,onChange:function(t){return p(t.target.value)}}),Object(S.jsx)(At,{isLoading:b,disabled:b,onClick:y,children:"Submit"})]}):Object(S.jsx)(S.Fragment,{children:o?Object(S.jsxs)(R.SkeletonTheme,{highlightColor:"#f5f5f5",color:"#c4c4c4",children:[Object(S.jsx)(U.a,{width:"100%",height:"10px"}),Object(S.jsx)(U.a,{width:"100%",height:"10px"}),Object(S.jsx)(U.a,{width:"100%",height:"10px"}),Object(S.jsx)(U.a,{width:"100%",height:"10px"}),Object(S.jsx)(U.a,{width:"100%",height:"10px"})]}):Object(S.jsx)("p",{children:i.about?i.about:"Write about yourself"})}),Object(S.jsx)(Dt,{color:"red",onClick:w,customStyle:"margin-top: 20px;",children:"Logout"})]})]})},ye=Object(d.memo)(we),ke=j.c.section(xt||(xt=Object(p.a)(["\n\twidth: 100%;\n\n\t.top {\n\t\tdisplay: flex;\n\t\tmargin-bottom: 50px;\n\t\t.avatar {\n\t\t\tmargin-right: 50px;\n\t\t\timg {\n\t\t\t\twidth: 180px;\n\t\t\t\theight: 180px;\n\t\t\t\tborder-radius: 5px;\n\t\t\t\tobject-fit: cover;\n\t\t\t}\n\t\t}\n\t}\n\t.about-user {\n\t\t.about-header {\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\talign-items: center;\n\t\t}\n\t\tp {\n\t\t\tbackground: ",";\n\t\t\tborder-radius: 4px;\n\t\t\tpadding: 10px;\n\t\t}\n\t}\n\t.edit-about {\n\t\twidth: 100%;\n\t\ttextarea {\n\t\t\twidth: 100%;\n\t\t\tmin-height: 200px;\n\t\t\theight: max-content;\n\t\t\tborder: none;\n\t\t\tborder-radius: 4px;\n\t\t\tpadding: 10px;\n\t\t\tmargin: 10px 0;\n\t\t\tfont-size: 1rem;\n\t\t\tcolor: ",";\n\t\t\tbackground: ",";\n\t\t}\n\t}\n\t@media (max-width: 480px) {\n\t\t.top {\n\t\t\t.avatar {\n\t\t\t\tmargin-right: 30px;\n\t\t\t\timg {\n\t\t\t\t\twidth: 130px;\n\t\t\t\t\theight: 130px;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.text {\n\t\t\t\tp {\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"])),(function(t){return t.theme.commentBg}),(function(t){return t.theme.text}),(function(t){return t.theme.commentBg})),Se=n(94),Ce=j.c.div(ht||(ht=Object(p.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\timg {\n\t\tmax-width: 200px;\n\t\tmargin-bottom: 20px;\n\t}\n"]))),Ne=function(t){var e=t.src,n=t.header;return Object(S.jsxs)(Ce,{children:[Object(S.jsx)("img",{src:e,alt:""}),Object(S.jsx)(q,{children:n})]})},ze=function(){var t=Object(d.useState)([]),e=Object(x.a)(t,2),n=e[0],a=e[1],r=Object(d.useState)([]),i=Object(x.a)(r,2),c=i[0],s=i[1],o=Object(d.useState)(!0),l=Object(x.a)(o,2),u=l[0],m=l[1],p=Object(d.useContext)(N).client;return Object(d.useEffect)((function(){var t=!0;return function(){var e=Object(v.a)(O.a.mark((function e(){var n,r,i,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p("/comments/anime/user");case 2:return n=e.sent,r=n.data,e.next=6,p("/comments/character/user");case 6:i=e.sent,c=i.data,t&&(a(r),s(c),m(!1));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){t=!1}}),[]),Object(S.jsxs)(_e,{children:[Object(S.jsx)($,{children:"All comments"}),u?Object(S.jsx)(Wt,{size:50,padding:100}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(q,{children:"Anime comments"}),(null===n||void 0===n?void 0:n.length)?n.map((function(t){return Object(S.jsx)(Le,{comment:t},t.comment_id)})):Object(S.jsx)(Ne,{src:"/assets/images/empty_comments.png",header:"You have no comments"}),Object(S.jsx)(q,{children:"Character comments"}),(null===c||void 0===c?void 0:c.length)?c.map((function(t){return Object(S.jsx)(Le,{comment:t},t.comment_id)})):Object(S.jsx)(Ne,{src:"/assets/images/empty_comments.png",header:"You have no comments"})]})]})},Le=function(t){var e=t.comment,n=e.character_id?"/character/".concat(e.character_id):"/anime/".concat(e.anime_id),a=e.character_id?"Character":"Anime";return Object(S.jsxs)(Ee,{children:[Object(S.jsx)("p",{className:"comment",children:e.text}),Object(S.jsxs)("div",{className:"meta",children:[Object(S.jsxs)("span",{children:["Commented on ",Object(S.jsx)(h.b,{to:n,children:a})]}),Object(S.jsxs)("span",{className:"date",children:[Object(Se.a)(new Date(1e3*e.created_at),new Date)," ",e.is_edited&&"(edited)"]})]})]})},_e=j.c.section(jt||(jt=Object(p.a)(["\n\twidth: 100%;\n"]))),Ee=j.c.div(bt||(bt=Object(p.a)(["\n\tborder-radius: 4px;\n\tpadding: 15px;\n\tmargin: 10px 0;\n\tcolor: ",";\n\tbackground: ",";\n\n\tp.comment {\n\t\tcolor: ",";\n\t\tmargin-bottom: 15px;\n\t\tfont-size: 1rem;\n\t\t@media (max-width: 640px) {\n\t\t\tfont-size: 0.9rem;\n\t\t}\n\t}\n\t.meta {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tfont-size: 0.9rem;\n\t}\n\timg {\n\t\twidth: 20px;\n\t\tmargin-left: 20px;\n\t}\n"])),(function(t){return t.theme.text}),(function(t){return t.theme.commentBg}),(function(t){return t.theme.header})),Pe=j.c.section(gt||(gt=Object(p.a)(["\n\t.thread {\n\t\tmargin-bottom: 15px;\n\t\t@media (max-width: 640px) {\n\t\t\tmargin-bottom: 10px;\n\t\t}\n\t\th2 {\n\t\t\tfont-size: 1.5rem;\n\t\t\tmargin-bottom: 0;\n\t\t\t@media (max-width: 640px) {\n\t\t\t\tfont-size: 1.1rem;\n\t\t\t}\n\t\t}\n\t\tspan.date {\n\t\t\tcolor: grey;\n\t\t\t@media (max-width: 640px) {\n\t\t\t\tfont-size: 0.9rem;\n\t\t\t}\n\t\t}\n\t}\n"]))),Me=function(){var t=Object(d.useState)(null),e=Object(x.a)(t,2),n=e[0],a=e[1],r=Object(d.useState)(!0),i=Object(x.a)(r,2),c=i[0],s=i[1],o=Object(d.useContext)(N).client;return Object(d.useEffect)((function(){s(!0);var t=!0;return function(){var e=Object(v.a)(O.a.mark((function e(){var n,r;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o("/discussion/thread/user");case 2:n=e.sent,r=n.data,t&&(a(r),s(!1));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){t=!1}}),[]),Object(S.jsxs)(Pe,{children:[Object(S.jsx)($,{children:"Threads"}),c?Object(S.jsx)(S.Fragment,{children:"Loading..."}):null===n||void 0===n?void 0:n.map((function(t){return Object(S.jsxs)("div",{className:"thread",children:[Object(S.jsx)(h.b,{to:"/discussions/thread/".concat(t.thread_id),children:Object(S.jsx)("h2",{children:t.topic})}),Object(S.jsxs)("span",{className:"date",children:[Object(Se.a)(new Date(1e3*t.created_at),new Date)," ",t.is_edited&&"(edited)"]})]},t.thread_id)}))]})};function Te(){var t=Object(d.useRef)(null),e=Object(d.useState)(""),n=Object(x.a)(e,2),a=n[0],r=n[1],i=Object(d.useState)(null),c=Object(x.a)(i,2),s=c[0],o=c[1],l=Object(d.useState)(null),u=Object(x.a)(l,2),m=u[0],p=u[1],h=Object(d.useState)(""),j=Object(x.a)(h,2),b=j[0],g=j[1],f=Object(d.useContext)(_).user.avatar_url,w=Object(d.useContext)(N),y=w.showModalMessage,k=w.client,C=Object(d.useContext)(_).setUser,z=function(){var t=Object(v.a)(O.a.mark((function t(){var e,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g("Loading..."),r(""),m){t.next=4;break}return t.abrupt("return",y("Please select an image",!1));case 4:return t.next=6,k("/user/profile/avatar",{method:"PUT",body:{data:m},shouldShowMessage:"default"});case 6:e=t.sent,n=e.ok,g(""),n&&C();case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(S.jsxs)(Ie,{children:[Object(S.jsx)(q,{children:"Avatar"}),Object(S.jsxs)("div",{className:"avatar",children:[Object(S.jsx)(De,{className:"image",onClick:function(){var e;return null===t||void 0===t||null===(e=t.current)||void 0===e?void 0:e.click()},children:Object(S.jsxs)("div",{className:"line",children:[Object(S.jsx)("p",{children:b||"Click to choose an image"}),Object(S.jsx)("input",{ref:t,type:"file",accept:"image/*",defaultValue:a,onChange:function(t){if(t.target.files[0]){var e=t.target.files[0];if(e.size/1024>1500)return r(""),y("Image size must not exceed 1.5MB",!1);g(""),r(t.target.value);var n=new FileReader;n.readAsDataURL(e),n.onloadend=function(){p(n.result),o(n.result)},n.onerror=function(){y("Something went wrong",!1)}}}})]})}),s?Object(S.jsx)("img",{className:"image",src:s}):Object(S.jsx)("img",{className:"image",src:f,alt:""})]}),Object(S.jsx)(At,{disabled:!a,onClick:z,children:"Save"})]})}var Fe,Ae,Ie=j.c.div(ft||(ft=Object(p.a)(["\n\t.avatar {\n\t\tdisplay: flex;\n\t\tmargin-bottom: 20px;\n\t}\n\timg {\n\t\tobject-fit: cover;\n\t\tmargin-left: 20px;\n\t\tborder-radius: 4px;\n\t}\n\t.image {\n\t\twidth: 250px;\n\t\theight: 250px;\n\t}\n\t@media (max-width: 1024px) {\n\t\t.image {\n\t\t\twidth: 200px;\n\t\t\theight: 200px;\n\t\t}\n\t}\n\t@media (max-width: 480px) {\n\t\t.image {\n\t\t\twidth: 130px;\n\t\t\theight: 130px;\n\t\t}\n\t}\n"]))),De=j.c.div(Ot||(Ot=Object(p.a)(["\n\tcursor: pointer;\n\tborder-radius: 4px;\n\tbackground: ",";\n\tpadding: 20px;\n\t.line {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tborder: 2px gray dashed;\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n\t\tinput {\n\t\t\tdisplay: none;\n\t\t}\n\t\tp {\n\t\t\ttext-align: center;\n\t\t}\n\t}\n\t@media (max-width: 480px) {\n\t\tpadding: 10px;\n\n\t\t.line {\n\t\t\tp {\n\t\t\t\tfont-size: 0.9rem;\n\t\t\t}\n\t\t}\n\t}\n"])),(function(t){return t.theme.commentBg}));function Re(){var t=Object(d.useContext)(_),e=t.user,n=t.setUser,a=Object(d.useContext)(N),r=a.showModal,i=a.client,c=Object(d.useState)({isOpen:!1,type:"none"}),s=Object(x.a)(c,2),o=s[0],l=s[1],u=Object(d.useState)({text:"",isPending:!1}),m=Object(x.a)(u,2),p=m[0],h=m[1],j=Object(d.useState)({text:"",isPending:!1}),b=Object(x.a)(j,2),f=b[0],w=b[1],y=function(){var t=Object(v.a)(O.a.mark((function t(){var e,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h((function(t){return Object(g.a)(Object(g.a)({},t),{},{isPending:!0})})),t.next=3,i("/user/update/username",{method:"PUT",shouldShowMessage:"default",body:{newUsername:p.text.trim()}});case 3:e=t.sent,a=e.ok,h((function(t){return Object(g.a)(Object(g.a)({},t),{},{isPending:!1})})),a&&n();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=Object(v.a)(O.a.mark((function t(){var e,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w((function(t){return Object(g.a)(Object(g.a)({},t),{},{isPending:!0})})),t.next=3,i("/user/update/email",{method:"PUT",shouldShowMessage:"default",body:{newEmail:f.text.trim()}});case 3:e=t.sent,a=e.ok,w((function(t){return Object(g.a)(Object(g.a)({},t),{},{isPending:!1})})),a&&n();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(S.jsxs)($e,{children:[Object(S.jsxs)("div",{className:"username",children:[Object(S.jsxs)("div",{className:"top",children:[Object(S.jsx)(q,{children:"Username"}),o.isOpen&&"username"===o.type?Object(S.jsxs)("div",{className:"buttons",children:[Object(S.jsx)(Dt,{isLoading:p.isPending,disabled:p.isPending,onClick:function(){return l({isOpen:!1,type:"none"})},children:"Cancel"}),Object(S.jsx)(At,{isLoading:p.isPending,disabled:p.isPending,onClick:y,children:"Submit"})]}):Object(S.jsx)(Dt,{size:"medium",onClick:function(){return l({isOpen:!0,type:"username"})},children:"Change"})]}),o.isOpen&&"username"===o.type?Object(S.jsx)(qe,{disabled:f.isPending,value:p.text,onChange:function(t){return h({text:t.target.value,isPending:!1})},placeholder:"New username..."}):Object(S.jsx)("div",{className:"data",children:e.username})]}),Object(S.jsxs)("div",{className:"email",children:[Object(S.jsxs)("div",{className:"top",children:[Object(S.jsx)(q,{children:"Email"}),o.isOpen&&"email"===o.type?Object(S.jsxs)("div",{className:"buttons",children:[Object(S.jsx)(Dt,{isLoading:f.isPending,disabled:f.isPending,onClick:function(){return l({isOpen:!1,type:"none"})},children:"Cancel"}),Object(S.jsx)(At,{isLoading:f.isPending,disabled:f.isPending,onClick:k,children:"Submit"})]}):Object(S.jsx)(Dt,{size:"medium",onClick:function(){return l({isOpen:!0,type:"email"})},children:"Change"})]}),o.isOpen&&"email"===o.type?Object(S.jsx)(qe,{disabled:f.isPending,value:f.text,onChange:function(t){return w({text:t.target.value,isPending:!1})},placeholder:"New email..."}):Object(S.jsx)("div",{className:"data",children:e.email})]}),Object(S.jsxs)("div",{className:"password",children:[Object(S.jsxs)("div",{className:"top",children:[Object(S.jsx)(q,{children:"Password"}),Object(S.jsx)(Dt,{size:"medium",onClick:function(){return r("CHANGE_PASSWORD",null)},children:"Change"})]}),Object(S.jsx)("div",{className:"data",children:"********"})]})]})}var Ue,$e=j.c.div(Fe||(Fe=Object(p.a)(["\n\t.top {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tmargin-top: 40px;\n\t}\n\t.data {\n\t\tborder-radius: 4px;\n\t\tpadding: 10px;\n\t\tmargin: 10px 0;\n\t\tcolor: ",";\n\t\tbackground: ",";\n\t}\n\t.buttons {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tbutton {\n\t\t\tmargin-left: 10px;\n\t\t}\n\t}\n"])),(function(t){return t.theme.text}),(function(t){return t.theme.commentBg})),qe=j.c.input(Ae||(Ae=Object(p.a)(["\n\tdisplay: block;\n\tmin-width: 300px;\n\twidth: 100%;\n\theight: 30px;\n\tmargin: 25px 0;\n\tpadding: 0 5px;\n\tposition: relative;\n\tborder: none;\n\tborder-radius: 4px;\n\tfont-size: 1.1rem;\n\tbox-shadow: 0px 0px 5px rgb(0 0 0 / 5%);\n\tbackground-color: white;\n\t@media (max-width: 640px) {\n\t\tfont-size: 0.95rem;\n\t}\n"])));function Be(){return Object(S.jsxs)(We,{children:[Object(S.jsx)($,{children:"Settings"}),Object(S.jsxs)("div",{children:[Object(S.jsx)(Te,{}),Object(S.jsx)(Re,{})]})]})}var He,Ye,We=j.c.div(Ue||(Ue=Object(p.a)(["\n\twidth: 100%;\n"]))),Ge=function(){var t,e=Object(d.useState)(null),n=Object(x.a)(e,2),a=n[0],r=n[1],i=Object(d.useContext)(N).client,c=function(){var t=Object(v.a)(O.a.mark((function t(){var e,n,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i("/user/follow");case 2:e=t.sent,n=e.ok,a=e.data,n&&(r(a),console.log(a));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(d.useEffect)((function(){c()}),[]),Object(S.jsxs)(Je,{children:[Object(S.jsx)($,{children:"Social"}),Object(S.jsx)(q,{children:"Following"}),Object(S.jsx)("div",{className:"list",children:null===a||void 0===a||null===(t=a.following)||void 0===t?void 0:t.map((function(t){return Object(S.jsxs)(h.b,{className:"user-link",to:"/user/".concat(t.username),children:[Object(S.jsx)("img",{src:t.avatar,alt:""}),Object(S.jsx)("p",{children:t.username})]},t.username)}))}),Object(S.jsx)(q,{children:"Followers"}),Object(S.jsx)("div",{className:"list",children:null===a||void 0===a?void 0:a.followers.map((function(t){return Object(S.jsxs)(h.b,{className:"user-link",to:"/user/".concat(t.username),children:[Object(S.jsx)("img",{src:t.avatar,alt:""}),Object(S.jsx)("p",{children:t.username})]},t.username)}))})]})},Je=j.c.div(He||(He=Object(p.a)(["\n\t.list {\n\t\tdisplay: flex;\n\t}\n\t.user-link {\n\t\twidth: 100px;\n\t\tmargin-right: 10px;\n\t\tdisplay: block;\n\t\timg {\n\t\t\twidth: 100%;\n\t\t\tborder-radius: 10px;\n\t\t\taspect-ratio: 1 / 1;\n\t\t\tobject-fit: cover;\n\t\t}\n\t}\n"])));function Ve(){var t=Object(I.h)().category,e=Object(I.f)(),n=Object(d.useContext)(_).user,a=n.isLoading,r=n.isLoggedIn;return Object(d.useEffect)((function(){r||a||e.push("/login")}),[r,a]),a?Object(S.jsx)(Wt,{}):Object(S.jsx)(Qe,{children:Object(S.jsxs)("div",{className:"flex",children:[Object(S.jsx)(ge,{category:t}),"profile"===t&&Object(S.jsx)(ye,{}),"favorites"===t&&Object(S.jsx)(xe,{}),"comments"===t&&Object(S.jsx)(ze,{}),"discussions"===t&&Object(S.jsx)(Me,{}),"settings"===t&&Object(S.jsx)(Be,{}),"social"===t&&Object(S.jsx)(Ge,{})]})})}var Ke,Qe=j.c.div(Ye||(Ye=Object(p.a)(["\n\tmax-width: 1200px;\n\tpadding: 0 50px;\n\tmargin: 50px auto;\n\t.flex {\n\t\tdisplay: flex;\n\t}\n\timg.avatar {\n\t\twidth: 100px;\n\t}\n\t.preview-img {\n\t\theight: 200px;\n\t}\n\th1 {\n\t\tmargin-bottom: 20px;\n\t}\n\th2 {\n\t\tmargin-bottom: 15px;\n\t}\n\t@media (max-width: 768px) {\n\t\tpadding: 0 20px;\n\t\tmargin: 20px auto;\n\t\t.flex {\n\t\t\tdisplay: block;\n\t\t}\n\t}\n"]))),Xe={theme:"light",body:"#edf1f5",header:"#3f4453",text:"#4c5264",scrollbar:"#e4e4e4",boxShadow:"0px 0px 5px rgba(0, 0, 0, 0.05)",commentBg:"white"},Ze={theme:"dark",body:"#161e29",header:"#f5f5f5",text:"#d3d3d3",scrollbar:"darkgrey",boxShadow:"0px 0px 10px 3px rgba(255, 255, 255, 0.3)",commentBg:"#32343b"},tn=j.c.footer(Ke||(Ke=Object(p.a)(['\n\tbackground-color: #32343b;\n\t/* position: absolute; */\n\t/* bottom: 0; */\n\t/* left: 0; */\n\t/* right: 0; */\n\t.footer-container {\n\t\twidth: 100%;\n\t\tmax-width: 1200px;\n\t\tmargin: 0 auto;\n\t\tpadding: 10px 50px;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\t.logo {\n\t\t\tcolor: rgb(255, 255, 255);\n\t\t\tfont-size: 2rem;\n\t\t\tfont-weight: 600;\n\t\t\twidth: 230px;\n\t\t\tfilter: invert(0.2);\n\t\t\t&::after {\n\t\t\t\tcontent: "Find";\n\t\t\t\tcolor: #70c7a7;\n\t\t\t}\n\t\t}\n\t\tspan {\n\t\t\tcolor: #eeeeee;\n\t\t\tfont-size: 0.85rem;\n\t\t\tsmall {\n\t\t\t\tcolor: rgb(207, 83, 83);\n\t\t\t}\n\t\t}\n\t\tp {\n\t\t\tcolor: #eeeeee;\n\t\t\tfont-size: 0.85rem;\n\t\t\twidth: 230px;\n\t\t}\n\t}\n\n\t@media screen and (max-width: 768px) {\n\t\t.footer-container {\n\t\t\tpadding: 10px 0;\n\t\t\tflex-direction: column;\n\t\t\t.logo,\n\t\t\tp {\n\t\t\t\twidth: max-content;\n\t\t\t\tmargin: 10px 0;\n\t\t\t}\n\t\t}\n\t}\n\n\t@media screen and (max-width: 480px) {\n\t\t.footer-container {\n\t\t\t.logo {\n\t\t\t\tfont-size: 2rem;\n\t\t\t\tmargin: 5px 0;\n\t\t\t}\n\t\t\tp {\n\t\t\t\tmargin: 5px 0;\n\t\t\t}\n\t\t\tspan,\n\t\t\tp {\n\t\t\t\tfont-size: 0.9rem;\n\t\t\t\tfont-weight: 400;\n\t\t\t}\n\t\t}\n\t}\n'])));function en(){return Object(S.jsx)(tn,{children:Object(S.jsxs)("div",{className:"footer-container",children:[Object(S.jsx)("div",{className:"logo",children:"Ani"}),Object(S.jsxs)("span",{children:["Created with ",Object(S.jsx)("small",{children:"\u2764"})," by Sultan"]}),Object(S.jsxs)("p",{children:["Email:",Object(S.jsx)("a",{href:"mailto:turan.sultann@gmail.com",children:"turan.sultann@gmail.com"})]})]})})}var nn,an,rn,cn,sn=n(92),on=function(){var t=Object(d.useContext)(N),e=t.modalMessage,n=(t.showModalMessage,t.hideModalMessage),a=e.text,r=e.isSuccess,i=Object(d.createRef)();return Object(d.useEffect)((function(){if(a){var t=setTimeout((function(){n()}),3e3);return function(){return clearTimeout(t)}}}),[a]),Object(u.createPortal)(Object(S.jsx)(sn.a,{nodeRef:i,in:!!a,timeout:200,classNames:"message",unmountOnExit:!0,children:Object(S.jsxs)(dn,{isSuccess:r,ref:i,children:[Object(S.jsx)("p",{children:a}),Object(S.jsx)("span",{onClick:n,children:"\u2716"})]})}),document.querySelector("#root"))},dn=j.c.div(nn||(nn=Object(p.a)(["\n\tposition: fixed;\n\ttop: 0px;\n\tleft: 50%;\n\ttransform: translate(-50%, 50px);\n\tbackground: ",";\n\tpadding: 10px;\n\tborder-radius: 4px;\n\theight: max-content;\n\twidth: 400px;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tz-index: 2;\n\tp {\n\t\tcolor: ",";\n\t\tmargin-right: 10px;\n\t}\n\tspan {\n\t\tfont-size: 1.2rem;\n\t\tcursor: pointer;\n\t\tcolor: #303030;\n\t}\n\t&.message-enter {\n\t\ttransform: translate(-50%, 0px);\n\t\ttransition: 200ms;\n\t\topacity: 0;\n\t}\n\t&.message-enter-active {\n\t\ttransform: translate(-50%, 50px);\n\t\ttransition: 200ms;\n\t\topacity: 1;\n\t}\n\t&.message-exit {\n\t\ttransform: translate(-50%, 50px);\n\t\ttransition: 200ms;\n\t}\n\t&.message-exit-active {\n\t\ttransform: translate(-50%, 0px);\n\t\ttransition: 200ms;\n\t\topacity: 0;\n\t}\n\t@media (max-width: 480px) {\n\t\twidth: calc(100% - 40px);\n\t\tp {\n\t\t\tfont-size: 0.9rem;\n\t\t}\n\t}\n"])),(function(t){return t.isSuccess?"#c3f1c7":"#e4c4c4"}),(function(t){return t.isSuccess?"#00915c":"#C2185B"})),ln=j.c.input(an||(an=Object(p.a)(["\n\tdisplay: block;\n\tmin-width: 300px;\n\twidth: 100%;\n\theight: 30px;\n\tmargin: 25px 0;\n\tpadding: 0 5px;\n\tposition: relative;\n\tborder: none;\n\tborder-radius: 4px;\n\tfont-size: 1.1rem;\n\tbox-shadow: 0px 0px 5px rgb(0 0 0 / 5%);\n\tbackground-color: white;\n\t@media (max-width: 640px) {\n\t\tfont-size: 0.95rem;\n\t}\n"]))),un=j.c.textarea(rn||(rn=Object(p.a)(["\n\tmargin: 5px 0;\n\tpadding: 5px;\n\twidth: 600px;\n\theight: 300px;\n\tfont-size: 1rem;\n\tborder-radius: 4px;\n\tborder: none;\n\t@media (max-width: 640px) {\n\t\tfont-size: 0.9rem;\n\t}\n"]))),mn={CHANGE_PASSWORD:function(){var t=Object(d.useContext)(N),e=t.hideModal,n=t.client,a=t.showModalMessage,r=Object(d.useState)(!1),i=Object(x.a)(r,2),c=i[0],s=i[1],o=Object(d.useState)(""),l=Object(x.a)(o,2),u=l[0],m=l[1],p=Object(d.useState)(""),h=Object(x.a)(p,2),j=h[0],b=h[1],g=Object(d.useState)(""),f=Object(x.a)(g,2),w=f[0],y=f[1],k=function(){var t=Object(v.a)(O.a.mark((function t(){var r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s(!0),j===w){t.next=4;break}return s(!1),t.abrupt("return",a("Passwords don't match",!1));case 4:return t.next=6,n("/user/update/password",{method:"PUT",body:{oldPassword:u,newPassword:j},shouldShowMessage:"default"});case 6:r=t.sent,r.ok&&e(),s(!1);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(q,{children:"Change password"}),Object(S.jsx)(ln,{type:"password",value:u,onChange:function(t){return m(t.target.value)},placeholder:"Current password"}),Object(S.jsx)(ln,{type:"password",value:j,onChange:function(t){return b(t.target.value)},placeholder:"New password"}),Object(S.jsx)(ln,{type:"password",value:w,onChange:function(t){return y(t.target.value)},placeholder:"Confirm new password"}),Object(S.jsxs)("div",{className:"buttons",children:[Object(S.jsx)(Dt,{className:"cancel",onClick:function(){return e()},disabled:c,children:"Cancel"}),Object(S.jsx)(At,{onClick:k,disabled:c,isLoading:c,children:"Submit"})]})]})},OPEN_THREAD:function(){var t=Object(d.useState)(""),e=Object(x.a)(t,2),n=e[0],a=e[1],r=Object(d.useState)(""),i=Object(x.a)(r,2),c=i[0],s=i[1],o=Object(d.useState)(!1),l=Object(x.a)(o,2),u=l[0],m=l[1],p=Object(d.useContext)(N).client,h=Object(I.f)(),j=Object(d.useContext)(N).hideModal,b=function(){var t=Object(v.a)(O.a.mark((function t(){var e,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,p("/discussion/thread/",{method:"POST",body:{topic:n,body:c},shouldShowMessage:"error"});case 3:e=t.sent,a=e.data,e.ok&&(j(),h.push("/discussions/thread/".concat(a.thread_id))),m(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(q,{children:"Open a Thread"}),Object(S.jsx)(ln,{type:"text",placeholder:"Thread Topic",defaultValue:n,onChange:function(t){return a(t.target.value)},disabled:u}),Object(S.jsx)(un,{placeholder:"What to you want to discuss?",defaultValue:c,disabled:u,onChange:function(t){return s(t.target.value)}}),Object(S.jsxs)("div",{className:"buttons",children:[Object(S.jsx)(Dt,{onClick:j,className:"cancel",disabled:u,children:"Cancel"}),Object(S.jsx)(At,{onClick:b,disabled:u,children:"Create a thread"})]})]})},DEFAULT:function(){return null},DELETE_THREAD:function(){var t=Object(d.useContext)(N),e=t.hideModal,n=t.modal,a=t.client,r=n.props,i=r.thread,c=r.getThread,s=Object(d.useState)(!1),o=Object(x.a)(s,2),l=o[0],u=o[1],m=function(){var t=Object(v.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u(!0),t.next=3,a("/discussion/thread/".concat(i.thread_id),{method:"DELETE",shouldShowMessage:"default"});case 3:n=t.sent,n.ok&&(c(),e()),u(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(q,{children:"Delete thread"}),Object(S.jsxs)("p",{children:["Are you sure you want to delete the thread? ",Object(S.jsx)("br",{}),Object(S.jsx)("span",{children:i.topic})]}),Object(S.jsxs)("div",{className:"buttons",children:[Object(S.jsx)(Dt,{onClick:e,className:"cancel",disabled:l,children:"Cancel"}),Object(S.jsx)(At,{onClick:m,disabled:l,isLoading:l,children:"Delete"})]})]})},DELETE_POST:function(){var t=Object(d.useContext)(N),e=t.hideModal,n=t.modal,a=t.client,r=Object(d.useState)(!1),i=Object(x.a)(r,2),c=i[0],s=i[1],o=n.props,l=o.post,u=o.getPosts,m=function(){var t=Object(v.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s(!0),t.next=3,a("/discussion/post/".concat(l.post_id),{method:"DELETE",shouldShowMessage:"default"});case 3:n=t.sent,n.ok&&u(),s(!1),e();case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(q,{children:"Delete post"}),Object(S.jsxs)("p",{children:["Are you sure you want to delete this post? ",Object(S.jsx)("br",{}),Object(S.jsx)("span",{children:l.body})]}),Object(S.jsxs)("div",{className:"buttons",children:[Object(S.jsx)(Dt,{onClick:function(){return e()},className:"cancel",disabled:c,children:"Cancel"}),Object(S.jsx)(At,{onClick:m,disabled:c,isLoading:c,children:"Delete"})]})]})},DELETE_COMMENT:function(){var t=Object(d.useState)(!1),e=Object(x.a)(t,2),n=e[0],a=e[1],r=Object(d.useContext)(N),i=r.hideModal,c=r.modal,s=r.client,o=c.props,l=o.comment,u=o.getComments,m=o.type,p=function(){var t=Object(v.a)(O.a.mark((function t(){var e;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a(!0),t.next=3,s("/comments/".concat(m,"/").concat(l.comment_id),{method:"DELETE",shouldShowMessage:"default"});case 3:if(e=t.sent,!e.ok){t.next=8;break}return t.next=8,u();case 8:a(!1),i();case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(q,{children:"Delete comment"}),Object(S.jsxs)("p",{children:["Are you sure you want to delete the comment? ",Object(S.jsx)("br",{}),Object(S.jsx)("span",{children:l.text})]}),Object(S.jsxs)("div",{className:"buttons",children:[Object(S.jsx)(Dt,{onClick:i,className:"cancel",disabled:n,children:"Cancel"}),Object(S.jsx)(At,{onClick:p,disabled:n,isLoading:n,children:"Delete"})]})]})}};function pn(){var t=Object(d.useContext)(N).modal,e=t.isOpen,n=t.type;if(!e)return null;var a=mn[n]||null;return m.a.createPortal(Object(S.jsx)(On,{children:Object(S.jsx)("div",{className:"container",children:Object(S.jsx)("div",{className:"content",children:Object(S.jsx)(a,{})})})}),document.querySelector(".App"))}var xn,hn,jn,bn,gn,fn,On=j.c.div(cn||(cn=Object(p.a)(["\n\tposition: fixed;\n\tbackground: rgba(0, 0, 0, 0.5);\n\ttop: 0;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tdisplay: flex;\n\talign-items: center;\n\tjustify-content: center;\n\n\t.container {\n\t\twidth: max-content;\n\t\tbackground: ",";\n\t\tpadding: 25px;\n\t\tborder-radius: 4px;\n\t\th2,\n\t\tp {\n\t\t\tmargin-bottom: 10px;\n\t\t}\n\t}\n\t.buttons {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t}\n\t@media (max-width: 768px) {\n\t\t.container {\n\t\t\twidth: calc(100% - 40px);\n\t\t\ttextarea {\n\t\t\t\twidth: 100%;\n\t\t\t\tfont-size: 0.95rem;\n\t\t\t}\n\t\t\tinput {\n\t\t\t\twidth: 100%;\n\t\t\t}\n\t\t}\n\t}\n"])),(function(t){return t.theme.body})),vn=n(43),wn=n.n(vn),yn=function(){var t=Object(v.a)(O.a.mark((function t(e){var n,a,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://graphql.anilist.co",n={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:"\nquery($id: Int){\n  Character(id: $id) {\n    id\n    name {\n      first\n      last\n      full\n      native\n      alternative\n    }\n    description\n    image {\n      large\n    }\n\t\t media(type: ANIME) {\n      edges {\n        node {\n\t\t\t\t\tid\n          type\n          title {\n            romaji\n            english\n            native\n            userPreferred\n          }\n\t\t\t\t\t coverImage {\n            extraLarge\n            large\n            medium\n            color\n          }\n        }\n      }\n    }\n  }\n}\n",variables:{id:e}})},t.next=3,fetch("https://graphql.anilist.co",n);case 3:return a=t.sent,t.next=6,a.json();case 6:return r=t.sent,t.abrupt("return",r.data.Character);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),kn=function(t){var e=t.comment,n=t.getComments,a=Object(d.useState)(e.text),r=Object(x.a)(a,2),i=r[0],c=r[1],s=Object(d.useState)(!1),o=Object(x.a)(s,2),l=o[0],u=o[1],m=Object(d.useState)(!1),p=Object(x.a)(m,2),h=p[0],j=p[1],b=Object(d.useContext)(_).user.user_id,g=Object(d.useContext)(N),f=g.showModal,w=g.client,y=Object(d.useRef)(null);Object(d.useEffect)((function(){l&&!h&&u(!1)}),[e]);var k=function(){var t=Object(v.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),t.next=3,w("/comments/character/".concat(e.comment_id),{method:"PUT",body:{new_comment:i},shouldShowMessage:"default"});case 3:if(a=t.sent,!a.ok){t.next=8;break}return t.next=8,n();case 8:u(!1),j(!1);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(d.useLayoutEffect)((function(){if(null!=y.current){var t=y.current.scrollHeight;y.current.style.height=t+"px",l&&(y.current.selectionStart=y.current.value.length,y.current.selectionEnd=y.current.value.length,y.current.focus())}}),[y.current,l]),Object(S.jsxs)(Sn,{children:[Object(S.jsxs)("div",{className:"top-bar",children:[Object(S.jsx)(Jt,{username:e.username,avatar_url:e.avatar,date:e.created_at,isEdited:e.is_edited}),b==e.user_id&&Object(S.jsx)("div",{className:"actions",children:l?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Dt,{size:"small",onClick:function(){return u(!1)},disabled:h,children:"Cancel"}),Object(S.jsx)(At,{size:"small",customStyle:"margin-left:15px;",onClick:k,disabled:h,children:"Submit"})]}):Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(Dt,{size:"small",onClick:function(){return u(!0)},disabled:h,children:"Edit"}),Object(S.jsx)(At,{color:"red",size:"small",customStyle:"margin-left: 15px;",onClick:function(){return f("DELETE_COMMENT",{getComments:n,comment:e,type:"character"})},disabled:h,children:"Delete"})]})})]}),l?Object(S.jsx)("textarea",{ref:y,name:"newComment",defaultValue:i,onChange:function(t){return c(t.target.value)}}):Object(S.jsx)("p",{className:"comment",children:e.text})]})},Sn=j.c.div(xn||(xn=Object(p.a)(["\n\tborder-radius: 4px;\n\tpadding: 15px;\n\tmargin: 10px 0;\n\tbackground: ",";\n\t.top-bar {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t}\n\t.comment-data {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t.user-data {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t}\n\t\timg {\n\t\t\twidth: 30px;\n\t\t\theight: 30px;\n\t\t\tobject-fit: cover;\n\t\t\tmargin-right: 10px;\n\t\t\tborder-radius: 4px;\n\t\t}\n\t\t.username {\n\t\t\tcolor: #70c7a7;\n\t\t}\n\t\t.date {\n\t\t\tfont-size: 0.85rem;\n\t\t\tmargin-left: 20px;\n\t\t\tcolor: grey;\n\t\t}\n\t}\n\t.actions {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t}\n\tp {\n\t\tmargin-top: 15px;\n\t\twhite-space: pre-line;\n\t}\n\ttextarea {\n\t\tmargin: 5px 0;\n\t\tpadding: 5px;\n\t\twidth: 100%;\n\t\tfont-size: 1rem;\n\t\theight: unset;\n\t\tborder-radius: 4px;\n\t\tborder: none;\n\t}\n\t@media (max-width: 768px) {\n\t\tp,\n\t\ttextarea {\n\t\t\tfont-size: 0.9rem;\n\t\t}\n\t}\n"])),(function(t){return t.theme.commentBg})),Cn=function(t){var e=t.character_id,n=Object(d.useState)([]),a=Object(x.a)(n,2),r=a[0],i=a[1],c=Object(d.useState)(!0),s=Object(x.a)(c,2),o=s[0],l=s[1],u=Object(d.useState)(!1),m=Object(x.a)(u,2),p=m[0],h=m[1],j=Object(d.useContext)(N).client,b=function(){var t=Object(v.a)(O.a.mark((function t(){var n,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,j("/comments/character/".concat(e));case 3:n=t.sent,a=n.data,i(a),l(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(d.useEffect)((function(){var t=!0;return j("/comments/character/".concat(e)).then((function(e){var n=e.data;t&&(i(n),l(!1))})),function(){t=!1}}),[]);var g=Object(d.useState)(""),f=Object(x.a)(g,2),w=f[0],y=f[1],k=function(){var t=Object(v.a)(O.a.mark((function t(n){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),h(!0),t.next=4,j("/comments/character/".concat(e),{method:"POST",body:{comment:w},shouldShowMessage:"default"});case 4:if(a=t.sent,!a.ok){t.next=10;break}return t.next=9,b();case 9:y("");case 10:h(!1);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(S.jsxs)(Nn,{children:[Object(S.jsx)(q,{children:"Comments"}),Object(S.jsxs)(zn,{onSubmit:k,children:[Object(S.jsx)("textarea",{name:"comment",onChange:function(t){return y(t.target.value)},disabled:p,value:w,placeholder:"Add your comment"}),Object(S.jsx)("br",{}),Object(S.jsx)(At,{disabled:p,customStyle:"padding: 7px 10px; font-size: 1.2rem;",children:"Send"})]}),Object(S.jsxs)("div",{className:"all-comments",children:[o?Object(S.jsx)(Wt,{size:50}):null,null===r||void 0===r?void 0:r.map((function(t){return Object(S.jsx)(kn,{comment:t,getComments:b},t.comment_id)}))]})]})},Nn=j.c.section(hn||(hn=Object(p.a)(["\n\twidth: 100%;\n\tmargin: auto;\n\n\t.all-comments {\n\t\tmargin-top: 20px;\n\t}\n"]))),zn=j.c.form(jn||(jn=Object(p.a)(["\n\ttextarea {\n\t\twidth: 100%;\n\t\theight: 100px;\n\t\tfont-size: 1.2rem;\n\t\tborder-radius: 4px;\n\t\tborder: none;\n\t\tpadding: 10px;\n\t\tmargin-bottom: 10px;\n\t}\n\t@media (max-width: 768px) {\n\t\ttextarea {\n\t\t\tfont-size: 1rem;\n\t\t}\n\t}\n"])));wn.a.setOptions({breaks:!0});var Ln,_n,En,Pn=function(t){var e=t.match.params.id,n=Object(d.useState)(null),a=Object(x.a)(n,2),r=a[0],i=a[1],c=Object(d.useState)(!0),s=Object(x.a)(c,2),o=s[0],l=s[1],u=Object(d.useState)({isFavorite:!1,isLoading:!0}),m=Object(x.a)(u,2),p=m[0],j=m[1],b=Object(d.useContext)(N).client,g=Object(d.useState)(!1),f=Object(x.a)(g,2),w=f[0],y=f[1],k=P(),C=Object(x.a)(k,1)[0];Object(d.useEffect)((function(){var t=!0;return yn(e).then((function(e){t&&(i(e),l(!1))})),b("/favorites/character/is_favorite/".concat(e)).then((function(t){var e=t.ok,n=t.data;j(e?{isFavorite:n.is_favorite,isLoading:!1}:{isFavorite:!1,isLoading:!1})})),function(){t=!1}}),[]),Object(d.useEffect)((function(){y(C<768)}),[C]);var z=function(){var t=Object(v.a)(O.a.mark((function t(){var n,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j({isFavorite:!1,isLoading:!0}),t.next=3,b("/favorites/character/",{method:"POST",body:{character_id:e,cover_image:null===r||void 0===r?void 0:r.image.large,name:null===r||void 0===r?void 0:r.name.full},shouldShowMessage:"error"});case 3:n=t.sent,a=n.ok,j((function(t){return{isFavorite:!!a||t.isFavorite,isLoading:!1}}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(){var t=Object(v.a)(O.a.mark((function t(){var n,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return j({isFavorite:!1,isLoading:!0}),t.next=3,b("/favorites/character/".concat(e),{method:"DELETE",shouldShowMessage:"error"});case 3:n=t.sent,a=n.ok,j((function(t){return{isFavorite:!a&&t.isFavorite,isLoading:!1}}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return o?Object(S.jsx)(Wt,{}):Object(S.jsxs)(Tn,{children:[Object(S.jsxs)("section",{className:"top",children:[w&&Object(S.jsx)($,{children:null===r||void 0===r?void 0:r.name.full}),Object(S.jsxs)("div",{className:"image",children:[Object(S.jsx)("img",{src:(null===r||void 0===r?void 0:r.image.extraLarge)||(null===r||void 0===r?void 0:r.image.large),alt:""}),Object(S.jsx)(At,{size:"small",color:p.isFavorite?"red":"green",onClick:function(){return p.isFavorite?L():z()},disabled:p.isLoading,isLoading:p.isLoading,children:p.isFavorite?"Remove":"Add to Favorites"})]}),Object(S.jsxs)("div",{className:"text",children:[!w&&Object(S.jsx)($,{children:null===r||void 0===r?void 0:r.name.full}),Object(S.jsx)("div",{dangerouslySetInnerHTML:{__html:(null===r||void 0===r?void 0:r.description)?wn()(null===r||void 0===r?void 0:r.description):""}})]})]}),Object(S.jsxs)("section",{className:"relation",children:[Object(S.jsx)(q,{children:"Appears in"}),Object(S.jsx)(Fn,{children:r.media.edges.map((function(t){var e=t.node;return Object(S.jsx)(An,{children:Object(S.jsxs)(h.b,{to:"/anime/".concat(e.id),children:[Object(S.jsx)("img",{src:e.coverImage.extraLarge||e.coverImage.large,alt:""}),Object(S.jsx)("br",{}),Object(S.jsx)("p",{children:e.title.english||e.title.romaji})]})},e.id)}))})]}),Object(S.jsx)("section",{className:"comments",children:Object(S.jsx)(Cn,{character_id:e})})]})},Mn=Object(d.memo)(Pn),Tn=j.c.div(bn||(bn=Object(p.a)(["\n\tmax-width: 1200px;\n\tpadding: 50px;\n\tmargin: auto;\n\t@media (max-width: 768px) {\n\t\tpadding: 20px;\n\t}\n\tsection.top {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\theight: max-content;\n\t\t.text {\n\t\t\twidth: 70%;\n\t\t\tp {\n\t\t\t\tfont-size: 1.1rem;\n\t\t\t}\n\t\t\tdel {\n\t\t\t\tbackground-color: ",";\n\t\t\t\t:hover {\n\t\t\t\t\tbackground-color: unset;\n\t\t\t\t\ttext-decoration: none;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.image {\n\t\t\twidth: 30%;\n\t\t\tmargin-right: 50px;\n\t\t\timg {\n\t\t\t\twidth: 100%;\n\t\t\t\theight: auto;\n\t\t\t\tmargin-bottom: 10px;\n\t\t\t\tborder-radius: 5px;\n\t\t\t\tbox-shadow: 0px 0px 10px rgba(0, 0, 0, 0.5);\n\t\t\t}\n\t\t}\n\t}\n\tsection.relation {\n\t\tmargin: 30px 0;\n\t}\n\t@media (max-width: 768px) {\n\t\tsection.top {\n\t\t\tflex-direction: column;\n\t\t\th1 {\n\t\t\t\ttext-align: center;\n\t\t\t}\n\t\t\t.text {\n\t\t\t\twidth: 100%;\n\t\t\t\tmargin-top: 20px;\n\t\t\t\tp {\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t}\n\t\t\t}\n\t\t\t.image {\n\t\t\t\twidth: 100%;\n\n\t\t\t\timg {\n\t\t\t\t\twidth: 200px;\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\tmargin: 0 auto;\n\t\t\t\t\tmargin-bottom: 20px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"])),(function(t){return t.theme.text})),Fn=j.c.section(gn||(gn=Object(p.a)(["\n\tdisplay: grid;\n\tgrid-template-columns: repeat(5, 1fr);\n\tcolumn-gap: 20px;\n\trow-gap: 20px;\n\t@media (max-width: 720px) {\n\t\tgrid-template-columns: repeat(4, 1fr);\n\t}\n\t@media (max-width: 640px) {\n\t\tgrid-template-columns: repeat(3, 1fr);\n\t}\n"]))),An=j.c.div(fn||(fn=Object(p.a)(["\n\twidth: 100%;\n\timg {\n\t\tborder-radius: 7px;\n\t\taspect-ratio: 2 / 3;\n\t\twidth: 100%;\n\t\theight: auto;\n\t\tobject-fit: cover;\n\t}\n"])));function In(){var t=Object(d.useState)([]),e=Object(x.a)(t,2),n=e[0],a=e[1],r=Object(d.useState)(!0),i=Object(x.a)(r,2),c=i[0],s=i[1],o=Object(d.useContext)(N),l=o.showModal,u=o.client,m=P(),p=Object(x.a)(m,1)[0];return Object(d.useEffect)((function(){var t=!0;return u("/discussion/thread/all").then((function(e){var n=e.data;t&&(a(n),s(!1))})),function(){t=!1}}),[]),Object(S.jsxs)(Kn,{children:[Object(S.jsxs)(Vn,{children:[Object(S.jsx)($,{children:"Discussions"}),Object(S.jsx)(At,{size:p>768?"medium":"small",onClick:function(){return l("OPEN_THREAD",null)},children:"Open a Thread"})]}),Object(S.jsx)("p",{className:"intro",children:"Join open discussions about anime or open your own thread."}),!c&&n.length?n.map((function(t){return Object(S.jsxs)(Qn,{children:[Object(S.jsxs)(h.b,{className:"thread-link",to:"/discussions/thread/".concat(t.thread_id),children:[Object(S.jsx)("h2",{children:t.topic}),Object(S.jsx)("p",{children:t.body})]}),Object(S.jsx)(Jt,{username:t.username,avatar_url:t.avatar,date:t.created_at})]},t.thread_id)})):"Loading..."]})}var Dn,Rn,Un,$n,qn,Bn,Hn,Yn,Wn,Gn,Jn,Vn=j.c.div(Ln||(Ln=Object(p.a)(["\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n\tbutton {\n\t\tflex-shrink: 0;\n\t}\n"]))),Kn=j.c.div(_n||(_n=Object(p.a)(["\n\tmax-width: 1200px;\n\tpadding: 50px;\n\tmargin: auto;\n\t@media (max-width: 768px) {\n\t\tpadding: 20px;\n\t}\n\n\tp.intro {\n\t\tfont-size: 1.1rem;\n\t\tmargin-bottom: 20px;\n\t\t@media (max-width: 768px) {\n\t\t\tfont-size: 1rem;\n\t\t}\n\t\t@media (max-width: 640px) {\n\t\t\tfont-size: 0.9rem;\n\t\t}\n\t}\n"]))),Qn=j.c.div(En||(En=Object(p.a)(["\n\tbackground: ",";\n\tborder-radius: 4px;\n\tpadding: 20px;\n\tmargin: 20px 0;\n\ta.thread-link {\n\t\th2 {\n\t\t\tfont-size: 1.5rem;\n\t\t\tcolor: ",";\n\t\t\tfont-weight: 700;\n\t\t\t@media (max-width: 768px) {\n\t\t\t\tfont-size: 1.2rem;\n\t\t\t}\n\t\t\t@media (max-width: 640px) {\n\t\t\t\tfont-size: 1.1rem;\n\t\t\t}\n\t\t}\n\t\tp {\n\t\t\tmargin: 10px 0;\n\t\t\t@media (max-width: 640px) {\n\t\t\t\tfont-size: 0.9rem;\n\t\t\t}\n\t\t}\n\t}\n"])),(function(t){return t.theme.commentBg}),(function(t){return t.theme.text})),Xn=j.c.div(Dn||(Dn=Object(p.a)(["\n\tdisplay: flex;\n\talign-items: center;\n\twidth: max-content;\n\tspan.count {\n\t\tfont-size: 1.1rem;\n\t\tfont-weight: 600;\n\t\tmargin-right: 5px;\n\t\tcolor: ",';\n\t}\n\tbutton.heart {\n\t\tfont-size: 1.5rem;\n\t\tcolor: #ff5050;\n\t\tcursor: pointer;\n\t\tfont-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,\n\t\t\t"Open Sans", "Helvetica Neue", sans-serif;\n\t\tborder: none;\n\t\tbackground: transparent;\n\t\t&:disabled {\n\t\t\tcolor: #636262;\n\t\t}\n\t}\n'])),(function(t){return t.theme.text})),Zn=function(t){var e=t.count,n=t.isLiked,a=t.onClick,r=t.isPending,i={className:n?"heart liked":"heart unliked",iconCode:n?"&#x2665;":"&#x2661;"};return Object(S.jsxs)(Xn,{children:[Object(S.jsx)("span",{className:"count",children:!!Number(e)&&e}),Object(S.jsx)("button",{onClick:a,disabled:r,className:i.className,dangerouslySetInnerHTML:{__html:i.iconCode}})]})},ta=function t(e){var n,a=e.post,r=e.depth,i=void 0===r?0:r,c=e.thread,s=e.getPosts,o=Object(d.useState)(!1),l=Object(x.a)(o,2),u=l[0],m=l[1],p=Object(d.useState)({isLoading:!1,text:""}),h=Object(x.a)(p,2),j=h[0],b=h[1],f=Object(d.useState)(!1),w=Object(x.a)(f,2),y=w[0],k=w[1],C=Object(d.useState)({isLoading:!1,text:a.body}),z=Object(x.a)(C,2),L=z[0],E=z[1],P=Object(d.useContext)(_).user,M=Object(d.useContext)(N),T=M.showModal,F=M.client,A=Object(d.useState)(!1),I=Object(x.a)(A,2),D=I[0],R=I[1],U=function(){var t=Object(v.a)(O.a.mark((function t(){var e;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b((function(t){return Object(g.a)(Object(g.a)({},t),{},{isLoading:!0})})),t.next=3,F("/discussion/post/".concat(c.thread_id),{method:"POST",body:{parent_id:a.post_id,body:j.text},shouldShowMessage:"default"});case 3:e=t.sent,e.ok&&(s(),b({text:"",isLoading:!1}),m(!1)),b((function(t){return Object(g.a)(Object(g.a)({},t),{},{isLoading:!1})}));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),$=function(){var t=Object(v.a)(O.a.mark((function t(){var e;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return E((function(t){return Object(g.a)(Object(g.a)({},t),{},{isLoading:!0})})),t.next=3,F("/discussion/post/".concat(a.post_id),{method:"PUT",body:{body:L.text},shouldShowMessage:"default"});case 3:if(e=t.sent,!e.ok){t.next=9;break}return t.next=8,s();case 8:k(!1);case 9:E({text:a.body,isLoading:!1});case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),q=function(){var t=Object(v.a)(O.a.mark((function t(){var e;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return R(!0),t.next=3,F("/discussion/post/like/".concat(a.post_id),{method:"POST",shouldShowMessage:"error"});case 3:if(e=t.sent,!e.ok){t.next=8;break}return t.next=8,s();case 8:R(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=Object(v.a)(O.a.mark((function t(){var e;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return R(!0),t.next=3,F("/discussion/post/unlike/".concat(a.post_id),{method:"DELETE",shouldShowMessage:"error"});case 3:if(e=t.sent,!e.ok){t.next=8;break}return t.next=8,s();case 8:R(!1);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(S.jsx)(na,{depth:i,children:Object(S.jsxs)("div",{className:"wrapper",children:[Object(S.jsxs)("div",{className:"top",children:[Object(S.jsx)(Jt,{username:a.username,date:a.created_at,avatar_url:a.avatar,isEdited:a.is_edited}),!a.is_deleted&&Object(S.jsx)(Zn,{count:a.like_count,isLiked:a.is_liked,isPending:D,onClick:a.is_liked?B:q}),y&&!a.is_deleted?Object(S.jsxs)("div",{className:"edit-actions",children:[Object(S.jsxs)("div",{className:"left",children:[Object(S.jsx)(Dt,{size:"small",onClick:function(){k(!1),E({isLoading:!1,text:a.body})},disabled:L.isLoading,children:"Cancel"}),Object(S.jsx)(At,{size:"small",onClick:$,disabled:L.isLoading,customStyle:"padding: 2px 5px;",children:"Submit"})]}),Object(S.jsx)(At,{size:"small",color:"red",onClick:function(){return T("DELETE_POST",{post:a,getPosts:s})},disabled:L.isLoading,children:"Delete"})]}):P.username===a.username&&!a.is_deleted&&!u&&Object(S.jsx)(Dt,{onClick:function(){return k(!0)},children:"Edit"})]}),y&&!a.is_deleted?Object(S.jsx)("textarea",{className:"edit",value:L.text,onChange:function(t){return E((function(e){return Object(g.a)(Object(g.a)({},e),{},{text:t.target.value})}))}}):Object(S.jsx)("p",{className:"body",children:a.body}),u?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("textarea",{className:"reply",onChange:function(t){return b({text:t.target.value,isLoading:!1})},value:j.text,placeholder:"Add your comment"}),Object(S.jsxs)("div",{className:"send-actions",children:[Object(S.jsx)(Dt,{size:"small",disabled:j.isLoading,onClick:function(){return m(!1)},children:"Cancel"}),Object(S.jsx)(At,{size:"small",disabled:j.isLoading,onClick:function(){return U()},customStyle:"padding: 2px 5px;",children:"Send"})]})]}):!y&&!c.is_deleted&&!a.is_deleted&&Object(S.jsx)(Dt,{onClick:function(){return m(!0)},children:"Reply"}),null===a||void 0===a||null===(n=a.children)||void 0===n?void 0:n.map((function(e){return Object(S.jsx)(t,{post:e,thread:c,getPosts:s,depth:Number(i)+1},e.post_id)}))]})},a.post_id)},ea=Object(d.memo)(ta),na=j.c.div(Rn||(Rn=Object(p.a)(["\n\tmargin: 15px 0;\n\tpadding: ",";\n\tborder-left: 3px #b6b6b6 solid;\n\tborder-radius: 4px;\n\tbackground-color: ",";\n\t@media (max-width: 640px) {\n\t\tborder-left: 2px #b6b6b6 solid;\n\t}\n\t.wrapper {\n\t\tpadding-left: 20px;\n\t\t@media (max-width: 640px) {\n\t\t\tpadding-left: 10px;\n\t\t}\n\t}\n\t.top {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\t> button {\n\t\t\tmargin-left: 20px;\n\t\t}\n\t}\n\tp.body {\n\t\tmargin: 15px 0;\n\t\t@media (max-width: 768px) {\n\t\t\tfont-size: 0.9rem;\n\t\t\tmargin: 10px 0;\n\t\t\tfont-weight: 300;\n\t\t}\n\t}\n\t.edit-actions {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\t.left {\n\t\t\tdisplay: flex;\n\t\t\tbutton {\n\t\t\t\tmargin: 0 10px;\n\t\t\t}\n\t\t}\n\t}\n\t.send-actions {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tbutton {\n\t\t\tmargin-right: 10px;\n\t\t}\n\t}\n\ttextarea.reply,\n\ttextarea.edit {\n\t\twidth: 100%;\n\t\theight: 80px;\n\t\tfont-size: 1rem;\n\t\tborder-radius: 4px;\n\t\tpadding: 5px;\n\t\tmargin: 8px 0;\n\t\t@media (max-width: 640px) {\n\t\t\tfont-size: 0.9rem;\n\t\t}\n\t}\n\ttextarea.reply {\n\t\t/* border: none; */\n\t\tborder: 1px grey solid;\n\t}\n\ttextarea.edit {\n\t\tborder: 1px grey solid;\n\t}\n"])),(function(t){return 0===t.depth?"15px 15px 15px 0":"0px"}),(function(t){return t.theme.commentBg})),aa=function(t){var e=t.thread,n=Object(d.useState)({text:"",isLoading:!1}),a=Object(x.a)(n,2),r=a[0],i=a[1],c=Object(d.useState)([]),s=Object(x.a)(c,2),o=s[0],l=s[1],u=Object(d.useState)(!0),m=Object(x.a)(u,2),p=m[0],h=m[1],j=Object(d.useContext)(N).client;Object(d.useEffect)((function(){b().then((function(){return h(!1)}))}),[]);var b=function(){var t=Object(v.a)(O.a.mark((function t(){var n,a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j("/discussion/post/".concat(e.thread_id));case 2:n=t.sent,a=n.data,l(a);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=Object(v.a)(O.a.mark((function t(n,a){var c;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(Object(g.a)(Object(g.a)({},r),{},{isLoading:!0})),t.next=3,j("/discussion/post/".concat(e.thread_id),{method:"POST",body:{parent_id:n,body:a},shouldShowMessage:"default"});case 3:c=t.sent,c.ok&&b(),i({text:"",isLoading:!1});case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return p?Object(S.jsx)(Wt,{}):Object(S.jsxs)(S.Fragment,{children:[e.is_deleted?null:Object(S.jsxs)(ia,{children:[Object(S.jsx)("textarea",{name:"comment",onChange:function(t){return i({text:t.target.value,isLoading:!1})},value:r.text,placeholder:"Add your post"}),Object(S.jsx)("br",{}),Object(S.jsx)(At,{onClick:function(){return f(null,r.text)},disabled:r.isLoading,customStyle:"font-size: 1.2rem; padding: 5px 10px;",children:"Send"})]}),o?o.map((function(t){return Object(S.jsx)(ea,{post:t,thread:{thread_id:e.thread_id,is_deleted:e.is_deleted},getPosts:b},t.post_id)})):Object(S.jsx)("div",{children:"Nothing to display"})]})},ra=Object(d.memo)(aa),ia=j.c.div(Un||(Un=Object(p.a)(["\n\tmargin-bottom: 30px;\n\n\ttextarea {\n\t\twidth: 100%;\n\t\theight: 100px;\n\t\tfont-size: 1.2rem;\n\t\tborder-radius: 4px;\n\t\tborder: none;\n\t\tpadding: 10px;\n\t\tmargin-bottom: 10px;\n\t\t@media (max-width: 768px) {\n\t\t\tfont-size: 1rem;\n\t\t}\n\t\t@media (max-width: 640px) {\n\t\t\tfont-size: 0.9rem;\n\t\t}\n\t}\n"]))),ca=function(t){var e=t.thread,n=t.setThread,a=t.history,r=Object(d.useState)(!0),i=Object(x.a)(r,2),c=i[0],s=i[1],o=Object(d.useState)(!1),l=Object(x.a)(o,2),u=l[0],m=l[1],p=Object(d.useState)(!1),h=Object(x.a)(p,2),j=h[0],b=h[1],f=Object(d.useState)(!0),w=Object(x.a)(f,2),y=w[0],k=w[1],C=Object(d.useState)({topic:"",body:""}),z=Object(x.a)(C,2),L=z[0],E=z[1],P=Object(d.useContext)(_).user,M=Object(d.useContext)(N),T=M.showModal,F=M.client;Object(d.useEffect)((function(){P.isLoading||e.topic||A()}),[P.isLoading]);var A=function(){var t=Object(v.a)(O.a.mark((function t(){var r,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F("/discussion/thread/".concat(e.thread_id));case 2:if(r=t.sent,i=r.data){t.next=6;break}return t.abrupt("return",a.replace("/404"));case 6:s(!1),k(!1),b(!1),n(i),E({topic:i.topic,body:i.body});case 11:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=Object(v.a)(O.a.mark((function t(){var n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),t.next=3,F("/discussion/thread/".concat(e.thread_id),{method:"PUT",body:L,shouldShowMessage:"default"});case 3:n=t.sent,n.ok&&(A(),b(!1)),m(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),D=function(){var t=Object(v.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!0),t.next=3,F("/discussion/thread/like/".concat(e.thread_id),{method:"POST",shouldShowMessage:"error"});case 3:a=t.sent,a.ok&&(n((function(t){return Object(g.a)(Object(g.a)({},t),{},{is_liked:!0,like_count:Number(t.like_count)+1})})),k(!1));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(v.a)(O.a.mark((function t(){var a;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!0),t.next=3,F("/discussion/thread/like/".concat(e.thread_id),{method:"DELETE",shouldShowMessage:"error"});case 3:a=t.sent,a.ok&&(n((function(t){return Object(g.a)(Object(g.a)({},t),{},{is_liked:!1,like_count:Number(t.like_count)-1})})),k(!1));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c?Object(S.jsx)(Wt,{}):j?Object(S.jsxs)(sa,{children:[Object(S.jsx)("input",{type:"text",id:"edit-topic",value:L.topic,onChange:function(t){return E((function(e){return Object(g.a)(Object(g.a)({},e),{},{topic:t.target.value})}))},disabled:u}),Object(S.jsx)("textarea",{id:"edit-body",value:L.body,onChange:function(t){return E((function(e){return Object(g.a)(Object(g.a)({},e),{},{body:t.target.value})}))},disabled:u}),Object(S.jsxs)("div",{className:"buttons",children:[Object(S.jsxs)("div",{className:"left",children:[Object(S.jsx)(Dt,{onClick:function(){return b(!1)},children:"Cancel"}),Object(S.jsx)(At,{onClick:I,disabled:u,children:"Submit"})]}),Object(S.jsx)(Dt,{color:"red",onClick:function(){T("DELETE_THREAD",{thread:e,getThread:A})},children:"Delete"})]})]}):Object(S.jsxs)(sa,{children:[Object(S.jsx)("h1",{children:e.topic}),Object(S.jsx)("p",{className:"body",children:e.body}),Object(S.jsxs)("div",{className:"actions",children:[Object(S.jsx)(Jt,{avatar_url:e.avatar,username:e.username,date:e.created_at,isEdited:e.isEdited}),Object(S.jsxs)("div",{className:"like-edit",children:[Object(S.jsx)(Zn,{count:e.like_count,isLiked:e.is_liked,isPending:y,onClick:e.is_liked?R:D}),e.user_id!==P.user_id||e.is_deleted?null:Object(S.jsx)(Dt,{onClick:function(){return b(!0)},children:"Edit"})]})]})]})},sa=j.c.div($n||($n=Object(p.a)(["\n\tmargin-bottom: 50px;\n\t@media (max-width: 640px) {\n\t\tmargin-bottom: 30px;\n\t}\n\th1 {\n\t\tfont-size: 2.2rem;\n\t\t@media (max-width: 768px) {\n\t\t\tfont-size: 1.7rem;\n\t\t}\n\t\t@media (max-width: 640px) {\n\t\t\tfont-size: 1.4rem;\n\t\t}\n\t}\n\tp.body {\n\t\twhite-space: pre-line;\n\t\tfont-size: 1.1rem;\n\t\tmargin: 10px 0;\n\t\t@media (max-width: 640px) {\n\t\t\tfont-size: 0.9rem;\n\t\t}\n\t}\n\t.actions {\n\t\tdisplay: flex;\n\t\t.like-edit {\n\t\t\tdisplay: flex;\n\t\t\t> * {\n\t\t\t\tmargin-right: 15px;\n\t\t\t}\n\t\t}\n\t}\n\t// edit\n\tinput#edit-topic {\n\t\tfont-size: 1.1rem;\n\t\tmargin-bottom: 15px;\n\t\tpadding: 5px 8px;\n\t\twidth: 100%;\n\t\tborder: none;\n\t\tborder-radius: 4px;\n\t\t@media (max-width: 640px) {\n\t\t\tfont-size: 0.9rem;\n\t\t}\n\t}\n\ttextarea {\n\t\twidth: 100%;\n\t\theight: 100px;\n\t\tfont-size: 1rem;\n\t\tborder-radius: 4px;\n\t\tborder: none;\n\t\tpadding: 10px;\n\t\tmargin-bottom: 10px;\n\t\t@media (max-width: 640px) {\n\t\t\tfont-size: 0.85rem;\n\t\t}\n\t}\n\n\t.buttons {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\t.left {\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\t> button {\n\t\t\t\tmargin-right: 15px;\n\t\t\t}\n\t\t}\n\t}\n"]))),oa=function(t){var e=t.match,n=t.history,a=Object(d.useState)({thread_id:e.params.thread_id}),r=Object(x.a)(a,2),i=r[0],c=r[1];return Object(S.jsx)(da,{children:Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)(ca,{thread:i,setThread:c,history:n}),Object(S.jsx)(ra,{thread:i})]})})},da=j.c.div(qn||(qn=Object(p.a)(["\n\twidth: 100%;\n\tmax-width: 1200px;\n\tpadding: 0 50px;\n\tmargin: 30px auto;\n\t@media (max-width: 768px) {\n\t\tpadding: 0 20px;\n\t}\n"])));function la(){return Object(S.jsxs)("div",{children:[Object(S.jsx)($,{children:"Oops! Not found..."}),Object(S.jsx)("p",{children:"The page you requested cannot be found."})]})}var ua,ma,pa,xa,ha=function(t){var e,n,a=t.match,r=t.history,i=Object(d.useContext)(_).user,c=Object(d.useState)(null),s=Object(x.a)(c,2),o=s[0],l=s[1],u=Object(d.useState)(!0),m=Object(x.a)(u,2),p=m[0],j=m[1],b=Object(d.useState)({isLoading:!0,isFollowing:!1}),g=Object(x.a)(b,2),f=g[0],w=g[1],y=P(),k=Object(x.a)(y,1)[0],C=Object(d.useContext)(N).client;Object(d.useEffect)((function(){i.isLoggedIn&&i.username===a.params.username&&r.replace("/me/profile")}),[i.isLoggedIn,a.params.username]),Object(d.useEffect)((function(){j(!0);var t=!0;return function(){var e=Object(v.a)(O.a.mark((function e(){var n,i,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C("/member/".concat(a.params.username));case 2:n=e.sent,i=n.data,c=n.status,i&&t&&(l(i),w({isLoading:!1,isFollowing:i.isFollowing}),j(!1)),404===c&&r.replace("/404");case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){t=!1}}),[a.params.username]);var z,L,E=function(){var t=Object(v.a)(O.a.mark((function t(){var e,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w((function(t){return{isFollowing:t.isFollowing,isLoading:!0}})),t.next=3,C("/member/".concat(a.params.username),{method:"POST",shouldShowMessage:"default"});case 3:e=t.sent,n=e.ok,w((function(t){return{isFollowing:!!n||t.isFollowing,isLoading:!1}}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),M=function(){var t=Object(v.a)(O.a.mark((function t(){var e,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return w((function(t){return{isFollowing:t.isFollowing,isLoading:!0}})),t.next=3,C("/member/".concat(a.params.username),{method:"DELETE",shouldShowMessage:"default"});case 3:e=t.sent,n=e.ok,w((function(t){return{isFollowing:!n&&t.isFollowing,isLoading:!1}}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return p?Object(S.jsx)(Wt,{}):k<640?Object(S.jsx)(fa,{children:Object(S.jsxs)(ya,{children:[Object(S.jsxs)("div",{className:"user-info-top",children:[Object(S.jsx)("div",{className:"avatar",children:Object(S.jsx)("img",{src:null===o||void 0===o?void 0:o.user.avatar_url,alt:""})}),Object(S.jsxs)("div",{className:"username-date",children:[Object(S.jsx)($,{children:null===o||void 0===o?void 0:o.user.username}),Object(S.jsxs)("p",{className:"member",children:["Member since ",Object(Oe.a)(new Date(i.created_at),"MMMM y")]}),Object(S.jsx)(At,{color:f.isFollowing?"red":"green",onClick:f.isFollowing?M:E,isLoading:f.isLoading,disabled:f.isLoading,children:f.isFollowing?"Unfollow":"Follow"})]})]}),Object(S.jsxs)("div",{className:"about",children:[Object(S.jsx)(q,{children:"About"}),Object(S.jsx)("p",{children:(null===o||void 0===o?void 0:o.user.about)||"Apparently, this user prefers to keep an air of mystery about them."})]}),Object(S.jsxs)("div",{className:"social",children:[Object(S.jsxs)("div",{className:"followers",children:[Object(S.jsx)(q,{children:"Follwers"}),Object(S.jsx)("div",{className:"list",children:null===o||void 0===o?void 0:o.followers.map((function(t){return Object(S.jsx)(ba,{username:t.username,avatar_url:t.avatar,isMobile:!0},t.username)}))})]}),Object(S.jsxs)("div",{className:"following",children:[Object(S.jsx)(q,{children:"Following"}),Object(S.jsx)("div",{className:"list",children:null===o||void 0===o?void 0:o.following.map((function(t){return Object(S.jsx)(ba,{username:t.username,avatar_url:t.avatar,isMobile:!0},t.username)}))})]})]}),Object(S.jsxs)("div",{className:"favorites",children:[Object(S.jsx)(q,{children:"Favorites"}),Object(S.jsx)("h3",{children:"Anime"}),Object(S.jsx)("div",{className:"list",children:null===o||void 0===o||null===(z=o.favorite_anime)||void 0===z?void 0:z.map((function(t){return Object(S.jsx)(wa,{children:Object(S.jsxs)(h.b,{to:"/anime/".concat(t.anime_id),children:[Object(S.jsx)("img",{src:t.cover_image,alt:""}),Object(S.jsx)("p",{children:t.title})]})},t.anime_id)}))}),(null===o||void 0===o?void 0:o.favorite_characters.length)?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h3",{children:"Characters"}),Object(S.jsx)("div",{className:"list",children:null===o||void 0===o||null===(L=o.favorite_characters)||void 0===L?void 0:L.map((function(t){return Object(S.jsx)(wa,{children:Object(S.jsxs)(h.b,{to:"/character/".concat(t.character_id),children:[Object(S.jsx)("img",{src:t.cover_image,alt:""}),Object(S.jsx)("p",{children:t.name})]})},t.character_id)}))})]}):null]}),(null===o||void 0===o?void 0:o.threads.length)&&Object(S.jsxs)("div",{className:"threads",children:[Object(S.jsx)(q,{children:"Threads"}),null===o||void 0===o?void 0:o.threads.map((function(t){return Object(S.jsx)(h.b,{to:"/discussions/thread/".concat(t.thread_id),children:t.topic},t.thread_id)}))]})]})}):Object(S.jsxs)(fa,{children:[Object(S.jsxs)(va,{children:[Object(S.jsx)("div",{className:"avatar-container",children:Object(S.jsx)("img",{src:null===o||void 0===o?void 0:o.user.avatar_url,alt:""})}),Object(S.jsx)(At,{color:f.isFollowing?"red":"green",onClick:f.isFollowing?M:E,isLoading:f.isLoading,disabled:f.isLoading,children:f.isFollowing?"Unfollow":"Follow"}),Object(S.jsxs)("div",{className:"social",children:[Object(S.jsxs)("div",{className:"followers",children:[Object(S.jsx)(q,{children:"Follwers"}),Object(S.jsx)("div",{className:"list",children:null===o||void 0===o?void 0:o.followers.map((function(t){return Object(S.jsx)(ba,{username:t.username,avatar_url:t.avatar},t.username)}))})]}),Object(S.jsxs)("div",{className:"following",children:[Object(S.jsx)(q,{children:"Following"}),Object(S.jsx)("div",{className:"list",children:null===o||void 0===o?void 0:o.following.map((function(t){return Object(S.jsx)(ba,{username:t.username,avatar_url:t.avatar},t.username)}))})]})]})]}),Object(S.jsxs)(Oa,{children:[Object(S.jsxs)("div",{className:"top",children:[Object(S.jsxs)($,{children:[null===o||void 0===o?void 0:o.user.username,"'s Profile"]}),Object(S.jsxs)("p",{className:"member",children:["Member since ",Object(Oe.a)(new Date(i.created_at),"MMMM y")]})]}),Object(S.jsxs)("div",{className:"about",children:[Object(S.jsx)(q,{children:"About"}),Object(S.jsx)("p",{children:(null===o||void 0===o?void 0:o.user.about)||"Apparently, this user prefers to keep an air of mystery about them."})]}),Object(S.jsxs)("div",{className:"favorites",children:[Object(S.jsx)(q,{children:"Favorites"}),Object(S.jsx)("h3",{children:"Anime"}),Object(S.jsx)("div",{className:"list",children:null===o||void 0===o||null===(e=o.favorite_anime)||void 0===e?void 0:e.map((function(t){return Object(S.jsx)(wa,{children:Object(S.jsxs)(h.b,{to:"/anime/".concat(t.anime_id),children:[Object(S.jsx)("img",{src:t.cover_image,alt:""}),Object(S.jsx)("p",{children:t.title})]})},t.anime_id)}))}),(null===o||void 0===o?void 0:o.favorite_characters.length)?Object(S.jsxs)(S.Fragment,{children:[Object(S.jsx)("h3",{children:"Characters"}),Object(S.jsx)("div",{className:"list",children:null===o||void 0===o||null===(n=o.favorite_characters)||void 0===n?void 0:n.map((function(t){return Object(S.jsx)(wa,{children:Object(S.jsxs)(h.b,{to:"/character/".concat(t.character_id),children:[Object(S.jsx)("img",{src:t.cover_image,alt:""}),Object(S.jsx)("p",{children:t.name})]})},t.character_id)}))})]}):null]}),(null===o||void 0===o?void 0:o.threads.length)?Object(S.jsxs)("div",{className:"threads",children:[Object(S.jsx)(q,{children:"Threads"}),null===o||void 0===o?void 0:o.threads.map((function(t){return Object(S.jsx)(h.b,{to:"/discussions/thread/".concat(t.thread_id),children:t.topic},t.thread_id)}))]}):null]})]})},ja=Object(d.memo)(ha),ba=function(t){var e=t.username,n=t.avatar_url,a=t.isMobile,r=void 0!==a&&a;return Object(S.jsx)(ga,{isMobile:r,children:Object(S.jsxs)(h.b,{className:"user-card",to:"/user/".concat(e),children:[Object(S.jsx)("img",{src:n,alt:""}),Object(S.jsx)("span",{children:e})]},e)})},ga=j.c.div(Bn||(Bn=Object(p.a)(["\n\tmargin-right: ",";\n\twidth: 50px;\n\t@media (max-width: 768px) {\n\t\twidth: ",";\n\t}\n\ta {\n\t\tspan {\n\t\t\tdisplay: block;\n\t\t\tcolor: ",";\n\t\t\tword-wrap: break-word;\n\t\t\tfont-size: 0.9rem;\n\t\t\t@media (max-width: 768px) {\n\t\t\t\tfont-size: 0.75rem;\n\t\t\t}\n\t\t}\n\t\timg {\n\t\t\twidth: 50px;\n\t\t\theight: 50px;\n\t\t\tobject-fit: cover;\n\t\t\tobject-position: center;\n\t\t\tborder-radius: 7px;\n\t\t\t@media (max-width: 768px) {\n\t\t\t\twidth: ",";\n\t\t\t\theight: ",";\n\t\t\t}\n\t\t}\n\t}\n"])),(function(t){return t.isMobile?"15px":"10px"}),(function(t){return t.isMobile?"60px":"40px"}),(function(t){return t.theme.text}),(function(t){return t.isMobile?"60px":"40px"}),(function(t){return t.isMobile?"60px":"40px"})),fa=j.c.section(Hn||(Hn=Object(p.a)(["\n\tmax-width: 1200px;\n\tpadding: 50px;\n\tmargin: auto;\n\tdisplay: flex;\n\t@media (max-width: 768px) {\n\t\tpadding: 20px;\n\t}\n\t@media (max-width: 640px) {\n\t\tdisplay: block;\n\t}\n"]))),Oa=j.c.div(Yn||(Yn=Object(p.a)(["\n\twidth: 100%;\n\t.about {\n\t\tmargin: 20px 0;\n\t}\n\th2 {\n\t\tmargin-bottom: 10px;\n\t}\n\th3 {\n\t\tmargin: 10px 0;\n\t}\n\t.list {\n\t\twidth: 100%;\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(auto-fill, 80px);\n\t\tcolumn-gap: 20px;\n\t\trow-gap: 20px;\n\t}\n\t.threads {\n\t\ta {\n\t\t\tfont-size: 1.2rem;\n\t\t\tcolor: ",";\n\t\t}\n\t}\n"])),(function(t){return t.theme.text})),va=j.c.aside(Wn||(Wn=Object(p.a)(["\n\tmargin-right: 100px;\n\t@media (max-width: 1024px) {\n\t\tmargin-right: 50px;\n\t}\n\t.avatar-container {\n\t\twidth: 250px;\n\t\theight: 250px;\n\t\tmargin-bottom: 20px;\n\t\t@media (max-width: 1024px) {\n\t\t\twidth: 180px;\n\t\t\theight: 180px;\n\t\t}\n\t\timg {\n\t\t\twidth: 100%;\n\t\t\theight: 100%;\n\t\t\tobject-fit: cover;\n\t\t\tborder-radius: 10px;\n\t\t}\n\t}\n\t.followers,\n\t.following {\n\t\tmargin-top: 20px;\n\t}\n\t.list {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\twidth: 250px;\n\t\t@media (max-width: 1024px) {\n\t\t\twidth: 180px;\n\t\t}\n\t}\n"]))),wa=j.c.div(Gn||(Gn=Object(p.a)(["\n\twidth: 80px;\n\tdisplay: flex;\n\tflex-direction: column;\n\timg {\n\t\twidth: 100%;\n\t\theight: 120px;\n\t\taspect-ratio: 2/3;\n\t\tobject-fit: cover;\n\t\tborder-radius: 5px;\n\t}\n\tp {\n\t\tfont-size: 0.85rem;\n\t\theight: 30px;\n\t\tmargin-bottom: 5px;\n\t\tword-wrap: break-word;\n\t}\n"]))),ya=j.c.div(Jn||(Jn=Object(p.a)(["\n\t.user-info-top {\n\t\tdisplay: flex;\n\t\t.avatar {\n\t\t\twidth: 120px;\n\t\t\timg {\n\t\t\t\twidth: 120px;\n\t\t\t\theight: 120px;\n\t\t\t\tobject-fit: cover;\n\t\t\t\tborder-radius: 10px;\n\t\t\t}\n\t\t}\n\t\t.username-date {\n\t\t\theight: 120px;\n\t\t\tdisplay: flex;\n\t\t\tflex-direction: column;\n\t\t\tmargin-left: 30px;\n\t\t\tp.member {\n\t\t\t\tfont-size: 0.8rem;\n\t\t\t}\n\t\t\tbutton {\n\t\t\t\tmargin-top: auto;\n\t\t\t}\n\t\t}\n\t}\n\th2 {\n\t\tmargin-top: 20px;\n\t}\n\t.social {\n\t\t.list {\n\t\t\tdisplay: flex;\n\t\t\twidth: 100%;\n\t\t\toverflow-x: auto;\n\t\t}\n\t}\n\t.favorites {\n\t\t.list {\n\t\t\tdisplay: flex;\n\t\t\twidth: 100%;\n\t\t\toverflow-x: auto;\n\t\t\tmargin: 10px 0;\n\t\t\t> * {\n\t\t\t\tflex-shrink: 0;\n\t\t\t\tmargin-right: 20px;\n\t\t\t}\n\t\t}\n\t}\n\t.threads a {\n\t\tfont-size: 1rem;\n\t\tcolor: ",";\n\t}\n"])),(function(t){return t.theme.text})),ka=n(44),Sa=function(){var t=Object(v.a)(O.a.mark((function t(e){var n,a,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"\n\t\tquery ($id: Int, $page: Int, $perPage: Int, $search: String, \n\t\t\t$genre: String, $isAdult: Boolean, $year: Int, $format: MediaFormat, $sort: [MediaSort]) \n\t\t{\n      Page (page: $page, perPage: $perPage) {\n        pageInfo {\n          total\n          currentPage\n          lastPage\n          hasNextPage\n          perPage\n        }\n\t\t\t\tmedia (id: $id, search: $search, genre: $genre, isAdult: $isAdult, \n\t\t\t\t\ttype: ANIME, seasonYear: $year, format: $format, sort: $sort) \n\t\t\t\t{\n          id\n\t\t\t\t\ttitle {\n\t\t\t\t\t\tromaji\n\t\t\t\t\t\tenglish\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tuserPreferred\n\t\t\t\t\t} \n          coverImage {\n\t\t\t\t\t\tmedium\n\t\t\t\t\t\tlarge\n\t\t\t\t\t\textraLarge\n\t\t\t\t\t\tcolor\n          }\n        }\n      }\n    }\n    ","https://graphql.anilist.co",n={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:"\n\t\tquery ($id: Int, $page: Int, $perPage: Int, $search: String, \n\t\t\t$genre: String, $isAdult: Boolean, $year: Int, $format: MediaFormat, $sort: [MediaSort]) \n\t\t{\n      Page (page: $page, perPage: $perPage) {\n        pageInfo {\n          total\n          currentPage\n          lastPage\n          hasNextPage\n          perPage\n        }\n\t\t\t\tmedia (id: $id, search: $search, genre: $genre, isAdult: $isAdult, \n\t\t\t\t\ttype: ANIME, seasonYear: $year, format: $format, sort: $sort) \n\t\t\t\t{\n          id\n\t\t\t\t\ttitle {\n\t\t\t\t\t\tromaji\n\t\t\t\t\t\tenglish\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tuserPreferred\n\t\t\t\t\t} \n          coverImage {\n\t\t\t\t\t\tmedium\n\t\t\t\t\t\tlarge\n\t\t\t\t\t\textraLarge\n\t\t\t\t\t\tcolor\n          }\n        }\n      }\n    }\n    ",variables:Object(g.a)(Object(g.a)({},e),{},{search:e.query,sort:e.query?["SEARCH_MATCH"]:["POPULARITY_DESC"]})})},t.prev=2,t.next=5,fetch("https://graphql.anilist.co",n);case 5:return a=t.sent,t.next=8,a.json();case 8:return r=t.sent,t.abrupt("return",r.data.Page);case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}(),Ca=n(48),Na=j.c.div(ua||(ua=Object(p.a)(["\n\twidth: 100%;\n\tdisplay: flex;\n\tflex-direction: column;\n\tjustify-content: center;\n\talign-items: center;\n\timg {\n\t\tmax-width: 200px;\n\t\tmargin-bottom: 20px;\n\t}\n"]))),za=function(){return Object(S.jsxs)(Na,{children:[Object(S.jsx)("img",{src:"/assets/images/no_results.png",alt:""}),Object(S.jsx)(q,{children:"No results found"})]})},La=function(t){var e=t.item,n=Object(d.useState)(!1),a=Object(x.a)(n,2),r=(a[0],a[1]),i=e.title.english?e.title.english:e.title.romaji,c=e.coverImage.large,s=e.coverImage.color;return Object(S.jsx)(Ea,{bgColor:s,children:Object(S.jsxs)(h.b,{to:"/anime/".concat(e.id),children:[Object(S.jsx)("img",{src:c,alt:i,onLoad:function(){return r(!0)}}),Object(S.jsx)("p",{children:i})]})})},_a=function(t){var e=t.item;return Object(S.jsxs)(Ea,{children:[Object(S.jsx)(R.SkeletonTheme,{highlightColor:"#a7dac7",color:"#cad4de",children:Object(S.jsx)(U.a,{className:"mask"},e)}),Object(S.jsx)("br",{}),Object(S.jsx)(R.SkeletonTheme,{highlightColor:"#a7dac7",color:"#cad4de",children:Object(S.jsx)(U.a,{width:"120px",height:"15px"},e)})]},e)},Ea=j.c.div(ma||(ma=Object(p.a)(["\n\twidth: 100%;\n\n\ta {\n\t\tdisplay: block;\n\t\tcolor: ",";\n\t}\n\timg,\n\t.mask {\n\t\twidth: 100%;\n\t\theight: auto;\n\t\t/* height: 255px; */\n\t\tobject-fit: cover;\n\t\taspect-ratio: auto 2 / 3;\n\t\tborder-radius: 8px;\n\t\tbackground: ",";\n\t}\n\t/* @media (max-width: 1100px) {\n\t\twidth: 150px;\n\t\timg,\n\t\t.mask {\n\t\t\theight: 210px;\n\t\t}\n\t}\n\t@media (max-width: 950px) {\n\t\twidth: 180px;\n\t\timg,\n\t\t.mask {\n\t\t\theight: 255px;\n\t\t}\n\t}\n\t@media (max-width: 900px) {\n\t\twidth: 150px;\n\t\timg,\n\t\t.mask {\n\t\t\theight: 210px;\n\t\t}\n\t}\n\t@media (max-width: 720px) {\n\t\twidth: 130px;\n\t\timg,\n\t\t.mask {\n\t\t\theight: 180px;\n\t\t}\n\t}\n\t@media (max-width: 640px) {\n\t\twidth: 150px;\n\t\timg,\n\t\t.mask {\n\t\t\theight: 210px;\n\t\t}\n\t}\n\t@media (max-width: 560px) {\n\t\twidth: 200px;\n\t\timg,\n\t\t.mask {\n\t\t\theight: 280px;\n\t\t}\n\t}\n\n\t@media (max-width: 480px) {\n\t\twidth: 180px;\n\t\timg,\n\t\t.mask {\n\t\t\theight: 255px;\n\t\t}\n\t}\n\t@media (max-width: 420px) {\n\t\twidth: 150px;\n\t\timg,\n\t\t.mask {\n\t\t\theight: 210px;\n\t\t}\n\t} */\n"])),(function(t){return t.theme.text}),(function(t){return t.bgColor})),Pa=new Array(18),Ma=function(){var t=Object(d.useState)([]),e=Object(x.a)(t,2),n=e[0],a=e[1],r=Object(d.useState)(!1),i=Object(x.a)(r,2),c=i[0],s=i[1],o=Object(d.useState)(0),l=Object(x.a)(o,2),u=l[0],m=l[1],p=Object(d.useState)(!0),h=Object(x.a)(p,2),j=h[0],b=h[1],f=Object(d.useState)(!0),w=Object(x.a)(f,2),y=w[0],k=w[1],C=Object(I.g)(),N=function(){var t=Object(v.a)(O.a.mark((function t(){var e,n,r,i;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return b(!0),e=new URLSearchParams(C.search),n=e.entries(),r=Object.fromEntries(n),t.next=6,Sa(Object(g.a)(Object(g.a)({},r),{},{page:u}));case 6:if((i=t.sent).media.length){t.next=9;break}return t.abrupt("return",s(!0));case 9:s(!1),k(i.pageInfo.hasNextPage),a((function(t){return[].concat(Object(ka.a)(t),Object(ka.a)(i.media))})),b(!1);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(d.useEffect)((function(){var t=Y(C.search),e=t.genre,n=t.query,r=t.format,i=t.season,c=t.year;e||n||r||i||c?(s(!1),m(1),a([]),N()):s(!0)}),[C]),Object(d.useEffect)((function(){u>1&&N()}),[u]);var z=function(){return Object(S.jsx)(S.Fragment,{children:j&&!n.length?Pa.map((function(t){return Object(S.jsx)(_a,{item:t},t)})):n.map((function(t){return Object(S.jsx)(La,{item:t},t.id)}))})};return Object(S.jsxs)(Ta,{children:[Object(S.jsx)(zt,{}),c?Object(S.jsx)(za,{}):Object(S.jsx)(Ca.a,{className:"grid",dataLength:n.length,next:function(){return m((function(t){return t+1}))},pullDownToRefreshThreshold:50,hasMore:y,loader:[1,2,3,4,5,6].map((function(t){return Object(S.jsx)(_a,{item:t},t)})),children:Object(S.jsx)(z,{})})]})},Ta=j.c.div(pa||(pa=Object(p.a)(["\n\t.grid {\n\t\tmargin: 0 auto;\n\t\tmax-width: 1200px;\n\t\tpadding: 0 50px;\n\t\tdisplay: grid;\n\t\t/* grid-template-columns: repeat(auto-fit, minmax(100px, 180px)); */\n\t\tgrid-template-columns: repeat(5, 1fr);\n\t\t/* grid-template-columns: masonry; */\n\t\tcolumn-gap: 30px;\n\t\trow-gap: 30px;\n\t}\n\t@media (max-width: 950px) {\n\t\t.grid {\n\t\t\tgrid-template-columns: repeat(4, auto);\n\t\t}\n\t}\n\t@media (max-width: 768px) {\n\t\t.grid {\n\t\t\tpadding: 0 20px;\n\t\t}\n\t}\n\t@media (max-width: 640px) {\n\t\t.grid {\n\t\t\tgrid-template-columns: repeat(3, auto);\n\t\t}\n\t}\n\t@media (max-width: 560px) {\n\t\t.grid {\n\t\t\tgrid-template-columns: repeat(2, auto);\n\t\t}\n\t}\n"]))),Fa=function(){var t=Object(d.useState)(Xe),e=Object(x.a)(t,2),n=e[0],a=e[1],r=Object(d.useContext)(_),i=(r.user,r.setUser);Object(d.useEffect)((function(){i().then((function(t){}));var t=localStorage.getItem("theme");a("dark"===t?Ze:Xe)}),[]);return Object(S.jsx)(j.a,{theme:n,children:Object(S.jsxs)(h.a,{children:[Object(S.jsx)(Ia,{}),Object(S.jsxs)("div",{className:"App",children:[Object(S.jsx)(T,{theme:n.theme,switchTheme:function(t){a("dark"===t?Ze:Xe),localStorage.setItem("theme",t)}}),Object(S.jsx)("main",{children:Object(S.jsxs)(I.c,{children:[Object(S.jsx)(I.a,{exact:!0,path:"/",component:Et}),Object(S.jsx)(I.a,{exact:!0,path:"/anime/:id",component:le}),Object(S.jsx)(I.a,{exact:!0,path:"/character/:id",component:Mn}),Object(S.jsx)(I.a,{exact:!0,path:"/user/:username",component:ja}),Object(S.jsx)(I.a,{exact:!0,path:"/search",component:Ma}),Object(S.jsx)(I.a,{exact:!0,path:"/me/:category",component:Ve}),Object(S.jsx)(I.a,{exact:!0,path:"/login",component:$t}),Object(S.jsx)(I.a,{exact:!0,path:"/register",component:me}),Object(S.jsx)(I.a,{exact:!0,path:"/discussions/all",component:In}),Object(S.jsx)(I.a,{exact:!0,path:"/discussions/thread/:thread_id",component:oa}),Object(S.jsx)(I.a,{exact:!0,path:"/404",component:la}),Object(S.jsx)(I.a,{path:"*",component:la})]})}),Object(S.jsx)(en,{})]}),Object(S.jsx)(on,{}),Object(S.jsx)(pn,{})]})})},Aa=Object(d.memo)(Fa),Ia=Object(j.b)(xa||(xa=Object(p.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n\t\tbox-sizing: border-box;\n\t\tfont-family: 'Overpass', sans-serif;\n\t}\n\tbody {\n\t\tbackground: ",";\n\t}\n\n\tmain {\n  \tmin-height: calc(100vh - 10rem);\n\t}\n\n\ta {\n\t\ttext-decoration: none;\n\t}\n\th1, h2, h3, h4 {\n\t\tcolor: ",";\n\t}\n\tp {\n\t\tcolor: ",";\n\t}\n"])),(function(t){return t.theme.body}),(function(t){return t.theme.header}),(function(t){return t.theme.text}));Object(u.render)(Object(S.jsx)(l.a.StrictMode,{children:Object(S.jsx)(z,{children:Object(S.jsx)(E,{children:Object(S.jsx)(Aa,{})})})}),document.getElementById("root"))}},[[89,1,2]]]);
//# sourceMappingURL=main.7eff2ba3.chunk.js.map