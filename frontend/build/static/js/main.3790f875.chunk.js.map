{"version":3,"sources":["components/Navbar.jsx","api/anime/homeListAPI.js","components/Home/Carousel.jsx","utlis/getUrlObj.js","components/Search/SearchBox.jsx","components/Search/SelectList.js","components/Search/OptionList.jsx","components/Search/SearchSection.jsx","pages/HomePage.jsx","api/user/auth.js","UserContext.js","pages/LoginPage.jsx","api/anime/searchAPI.js","pages/SearchPage.jsx","api/anime/animeAPI.js","api/user/comment.js","components/Anime/Comments.jsx","api/user/favorite.js","components/Anime/RightSide.jsx","components/Anime/LeftSide.jsx","components/Anime/Characters.jsx","pages/AnimePage.jsx","pages/RegisterPage.jsx","api/user/user.update.js","components/User/UploadAvatar.jsx","components/User/Favorites.jsx","components/User/Sidebar.jsx","pages/UserPage.jsx","utlis/theme.js","App.js","index.js"],"names":["Nav","styled","nav","Navbar","user","theme","switchTheme","className","to","onClick","src","alt","username","homeListQuery","a","options","method","headers","Accept","body","JSON","stringify","query","fetch","res","json","data","console","log","Carousel","header","list","containerRef","useRef","scrollContainer","direction","current","scrollLeft","clientWidth","Section","ref","map","item","index","id","coverImage","extraLarge","title","english","romaji","highlightColor","color","width","height","section","text","scrollbar","getUrlObj","str","entries","URLSearchParams","Object","fromEntries","Div","div","boxShadow","SearchBox","location","history","useState","search","setQuery","type","value","onChange","e","target","trim","onKeyDown","key","newParams","url","toString","push","selectLists","name","reverse","List","isOpen","OptionList","setIsOpen","listEl","ul","useEffect","document","addEventListener","option","params","filterByOption","Container","AllFilters","SearchSection","useLocation","useHistory","FiltersBox","SelectedFilters","filter","setFilter","obj","arr","removeFilter","Home","trending","setTrending","top","setTop","getAnimes","media","Authorization","localStorage","getItem","tokenHandler","ok","loginHandler","form","message","token","setItem","registerHandler","UserContext","createContext","Login","email","password","setForm","loading","setLoading","setMessage","useContext","setUser","handleChange","handleSubmit","preventDefault","onSubmit","placeholder","required","disabled","searchQuery","variables","sort","Page","SearchPage","Search","result","setResult","page","setPage","getData","prevResult","urlParams","searchAPI","concat","dataLength","length","next","prev","hasMore","CardBox","bgColor","Card","loaded","setLoaded","image","style","display","onLoad","animeQuery","Media","getComments","page_id","postComment","comment","Comments","allComments","setAllComments","setText","then","avatar","formatDistanceToNow","Date","created_at","commentBg","addToFavorites","user_id","cover_image","getFavorites","removeFavorite","RightSide","handleFavorites","isFavorite","dangerouslySetInnerHTML","__html","description","genres","genre","trailer","allowFullScreen","LeftSide","season","seasonYear","format","episodes","duration","status","studios","edges","node","Characters","characters","full","large","Anime","match","setData","setIsFavorite","animeAPI","checkIsFavorite","favorites","some","Register","password2","uploadAvatar","UploadAvatar","fileInput","setFileInput","previewImg","setPreviewImg","b64Img","setB64Img","accept","file","files","size","reader","FileReader","readAsDataURL","onloadend","onerror","Favorites","CardContainer","setloading","handleRemove","SideNav","aside","Sidebar","User","oldPassword","setOldPass","newPassword","setNewPass","updatePassword","removeItem","defaultValue","lightTheme","darkTheme","GlobalStyle","createGlobalStyle","App","setTheme","getUserData","userTheme","Provider","exact","path","component","ReactDOM","render","StrictMode","getElementById"],"mappings":"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AEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,IAAMzC,GAAI,IAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,KAAM4B,KAAM,QAC9B,CAAEa,KAAM,KAAMzC,GAAI,K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","file":"static/js/main.3790f875.chunk.js","sourcesContent":["import React from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport styled from \"styled-components\"\r\n\r\nconst Nav = styled.nav`\r\n\twidth: 100%;\r\n\t/* background-color: #4c5264; //current color */\r\n\tbackground-color: #32343b;\r\n\r\n\t.nav-container {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tpadding: 0 50px;\r\n\t\twidth: 100%;\r\n\t\tmax-width: 1200px;\r\n\t\theight: 4rem;\r\n\t\tmargin: auto;\r\n\t\tspan.logo {\r\n\t\t\tcursor: pointer;\r\n\t\t\tborder-radius: 7px;\r\n\t\t\tfont-size: 2.5rem;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: white;\r\n\t\t\t&::after {\r\n\t\t\t\tcontent: \"Find\";\r\n\t\t\t\tcolor: #70c7a7;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.nav-links {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tcolor: white;\r\n\t\ta {\r\n\t\t\tfont-size: 1.2rem;\r\n\t\t\tcolor: white;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tborder-bottom: 2px #70c7a7 solid;\r\n\t\t}\r\n\t\timg {\r\n\t\t\tcursor: pointer;\r\n\t\t\theight: 25px;\r\n\t\t\tfilter: invert(1);\r\n\t\t\tmargin-right: 20px;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 768px) {\r\n\t\t.nav-container {\r\n\t\t\theight: 3.5rem;\r\n\t\t\tpadding: 0 20px;\r\n\t\t\tspan {\r\n\t\t\t\tfont-size: 2rem;\r\n\t\t\t}\r\n\t\t\t.nav-links a {\r\n\t\t\t\tfont-size: 1rem;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`\r\nexport default function Navbar({ user, theme, switchTheme }) {\r\n\tconst handleClick = () => {\r\n\t\tswitchTheme(theme === \"light\" ? \"dark\" : \"light\")\r\n\t}\r\n\treturn (\r\n\t\t<Nav>\r\n\t\t\t<div className=\"nav-container\">\r\n\t\t\t\t<Link to=\"/\">\r\n\t\t\t\t\t<span className=\"logo\">Ani</span>\r\n\t\t\t\t</Link>\r\n\t\t\t\t<div className=\"nav-links\">\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tonClick={handleClick}\r\n\t\t\t\t\t\tsrc={`/assets/icons/${theme === \"dark\" ? \"moon\" : \"sun\"}.svg`}\r\n\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{user ? (\r\n\t\t\t\t\t\t<Link to={`/user/${user.username}`}>{user.username}</Link>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Link to=\"/login\">Login</Link> |\r\n\t\t\t\t\t\t\t<Link to=\"/register\">Register</Link>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Nav>\r\n\t)\r\n}\r\n","const homeListQuery = async () => {\r\n\tconst query = `\r\n  query popular {\r\n    trending: Page (page: 1) {\r\n      pageInfo {\r\n        total\r\n        currentPage\r\n        lastPage\r\n        hasNextPage\r\n        perPage\r\n      }\r\n      media(sort: TRENDING_DESC) {\r\n        id\r\n        title {\r\n          romaji\r\n          english\r\n          native\r\n          userPreferred\r\n        }\r\n        coverImage {\r\n          extraLarge\r\n          color\r\n        }\r\n      }\r\n    }\r\n    top: Page (page: 1) {\r\n      pageInfo {\r\n        total\r\n        currentPage\r\n        lastPage\r\n        hasNextPage\r\n        perPage\r\n      }\r\n      media(sort: POPULARITY_DESC) {\r\n        id\r\n        title {\r\n          romaji\r\n          english\r\n          native\r\n          userPreferred\r\n        }\r\n        coverImage {\r\n          extraLarge\r\n          color\r\n        }\r\n      }\r\n    }\r\n  }\r\n  \r\n    `\r\n\tconst url = \"https://graphql.anilist.co\",\r\n\t\toptions = {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\tAccept: \"application/json\",\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({ query }),\r\n\t\t}\r\n\ttry {\r\n\t\tconst res = await fetch(url, options)\r\n\t\tconst { data } = await res.json()\r\n\t\treturn data\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t}\r\n}\r\n\r\nexport default homeListQuery\r\n","import { useRef } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport styled from \"styled-components\"\r\nimport Skeleton, { SkeletonTheme } from \"react-loading-skeleton\"\r\n\r\nexport default function Carousel({ header, list }) {\r\n\tconst containerRef = useRef()\r\n\tconst skeletonArray = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]\r\n\r\n\tconst scrollContainer = direction => {\r\n\t\tif (direction === \"next\") {\r\n\t\t\tcontainerRef.current.scrollLeft += containerRef.current.clientWidth\r\n\t\t}\r\n\t\tif (direction === \"prev\") {\r\n\t\t\tcontainerRef.current.scrollLeft -= containerRef.current.clientWidth\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Section>\r\n\t\t\t<h2>{header}</h2>\r\n\t\t\t<img\r\n\t\t\t\tonClick={() => scrollContainer(\"next\")}\r\n\t\t\t\tclassName=\"next-btn\"\r\n\t\t\t\tsrc=\"/assets/icons/right-chevron.svg\"\r\n\t\t\t\talt=\"\"\r\n\t\t\t/>\r\n\t\t\t<img\r\n\t\t\t\tonClick={() => scrollContainer(\"prev\")}\r\n\t\t\t\tclassName=\"prev-btn\"\r\n\t\t\t\tsrc=\"/assets/icons/left-chevron.svg\"\r\n\t\t\t\talt=\"\"\r\n\t\t\t/>\r\n\t\t\t<div className=\"carousel\">\r\n\t\t\t\t<div ref={containerRef} className=\"card-container\">\r\n\t\t\t\t\t{list\r\n\t\t\t\t\t\t? list.map((item, index) => (\r\n\t\t\t\t\t\t\t\t<Link key={index} to={`/anime/${item.id}`}>\r\n\t\t\t\t\t\t\t\t\t<div className=\"card\">\r\n\t\t\t\t\t\t\t\t\t\t<img src={item.coverImage.extraLarge} alt=\"\" />\r\n\t\t\t\t\t\t\t\t\t\t<p>{item.title.english || item.title.romaji}</p>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t  ))\r\n\t\t\t\t\t\t: skeletonArray.map(item => (\r\n\t\t\t\t\t\t\t\t<div key={item} className=\"card\">\r\n\t\t\t\t\t\t\t\t\t<SkeletonTheme highlightColor=\"#a7dac7\" color=\"#cad4de\">\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton width=\"150px\" height=\"210px\" key={item} />\r\n\t\t\t\t\t\t\t\t\t</SkeletonTheme>\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<SkeletonTheme highlightColor=\"#a7dac7\" color=\"#cad4de\">\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton width=\"150px\" height=\"10px\" key={item} />\r\n\t\t\t\t\t\t\t\t\t</SkeletonTheme>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t  ))}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</Section>\r\n\t)\r\n}\r\n\r\nconst Section = styled.section`\r\n\twidth: 100%;\r\n\tmax-width: 1200px;\r\n\tpadding: 0 50px;\r\n\tmargin: auto;\r\n\tmargin-bottom: 50px;\r\n\tposition: relative;\r\n\th2 {\r\n\t\tfont-size: 2.5rem;\r\n\t\tmargin-bottom: 20px;\r\n\t\tcolor: ${({ theme }) => theme.header};\r\n\t}\r\n\t.next-btn,\r\n\t.prev-btn {\r\n\t\tcursor: pointer;\r\n\t\twidth: 40px;\r\n\t\tpadding: 10px;\r\n\t\tbackground-color: #4c5264;\r\n\t\tborder-radius: 50%;\r\n\t\tposition: absolute;\r\n\t\tright: 0;\r\n\t\ttop: 50%;\r\n\t\ttransform: translateY(-50%);\r\n\t\topacity: 0.4;\r\n\t\ttransition: 0.2s;\r\n\t\t&:hover {\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t}\r\n\t.next-btn {\r\n\t\tright: 0;\r\n\t}\r\n\t.prev-btn {\r\n\t\tleft: 0;\r\n\t}\r\n\t.card-container {\r\n\t\tdisplay: flex;\r\n\t\twidth: 100%;\r\n\t\tscroll-behavior: smooth;\r\n\t\toverflow-x: hidden;\r\n\t\t.card {\r\n\t\t\tmargin-right: 15px;\r\n\t\t\twidth: 150px;\r\n\t\t\timg {\r\n\t\t\t\tborder-radius: 7px;\r\n\t\t\t\twidth: 150px;\r\n\t\t\t\theight: 210px;\r\n\t\t\t}\r\n\t\t\tp {\r\n\t\t\t\tcolor: ${({ theme }) => theme.text};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@media screen and (max-width: 768px) {\r\n\t\tpadding: 0 20px;\r\n\t\th2 {\r\n\t\t\tfont-size: 2rem;\r\n\t\t}\r\n\t\t.next-btn,\r\n\t\t.prev-btn {\r\n\t\t\twidth: 40px;\r\n\t\t\theight: 30px;\r\n\t\t\tpadding: 6px;\r\n\t\t\tbackground-color: #4c5264;\r\n\t\t\tborder-radius: 60px;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 5%;\r\n\t\t}\r\n\t\t.next-btn {\r\n\t\t\tright: 20px;\r\n\t\t}\r\n\t\t.prev-btn {\r\n\t\t\tleft: unset;\r\n\t\t\tright: 70px;\r\n\t\t}\r\n\t\t.carousel {\r\n\t\t\toverflow-x: hidden;\r\n\t\t}\r\n\t\t.card-container {\r\n\t\t\toverflow-x: scroll;\r\n\t\t\t::-webkit-scrollbar-track {\r\n\t\t\t\tbackground-color: ${({ theme }) => theme.scrollbar};\r\n\t\t\t\tborder-radius: 4px;\r\n\t\t\t}\r\n\t\t\t::-webkit-scrollbar {\r\n\t\t\t\tborder-radius: 4px;\r\n\t\t\t\theight: 7px;\r\n\t\t\t\tbackground-color: #f5f5f5;\r\n\t\t\t}\r\n\t\t\t::-webkit-scrollbar-thumb {\r\n\t\t\t\tbackground-color: #58a086;\r\n\t\t\t\tborder-radius: 4px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 480px) {\r\n\t\tmargin-bottom: 40px;\r\n\t\th2 {\r\n\t\t\tfont-size: 1.5rem;\r\n\t\t}\r\n\t\t.next-btn,\r\n\t\t.prev-btn {\r\n\t\t\twidth: 35px;\r\n\t\t\theight: 27px;\r\n\t\t\ttop: 4%;\r\n\t\t}\r\n\t\t.next-btn {\r\n\t\t\tright: 20px;\r\n\t\t}\r\n\t\t.prev-btn {\r\n\t\t\tright: 60px;\r\n\t\t}\r\n\t\t.card-container {\r\n\t\t\t.card {\r\n\t\t\t\twidth: 120px;\r\n\t\t\t\timg {\r\n\t\t\t\t\twidth: 120px;\r\n\t\t\t\t\theight: 170px;\r\n\t\t\t\t}\r\n\t\t\t\tp {\r\n\t\t\t\t\tfont-size: 0.85rem;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`\r\n","export default function getUrlObj(str) {\r\n\tconst urlParams = new URLSearchParams(str)\r\n\tconst entries = urlParams.entries()\r\n\treturn Object.fromEntries(entries)\r\n}\r\n","import React, { useState } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport getUrlObj from \"../../utlis/getUrlObj\"\r\nconst Div = styled.div`\r\n\twidth: 100%;\r\n\tmargin-top: 50px;\r\n\th2 {\r\n\t\tfont-size: 2.5rem;\r\n\t\tcolor: ${({ theme }) => theme.header};\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\t.input-container {\r\n\t\twidth: 100%;\r\n\t\theight: 40px;\r\n\t\tposition: relative;\r\n\t\tborder: none;\r\n\t\tbox-shadow: ${({ theme }) => theme.boxShadow};\r\n\t\tborder-radius: 7px;\r\n\t\tbackground-color: white;\r\n\t\timg {\r\n\t\t\twidth: 23px;\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 50%;\r\n\t\t\ttransform: translateY(-50%);\r\n\t\t\tleft: 15px;\r\n\t\t\tfilter: invert(0.7);\r\n\t\t}\r\n\t\tinput {\r\n\t\t\theight: 100%;\r\n\t\t\twidth: 100%;\r\n\t\t\tborder: none;\r\n\t\t\tbackground: transparent;\r\n\t\t\tfont-size: 1.1rem;\r\n\t\t\tfont-weight: 300;\r\n\t\t\tpadding-left: 50px;\r\n\t\t\tcolor: #4c5264;\r\n\t\t}\r\n\t}\r\n\r\n\t@media (max-width: 768px) {\r\n\t\tmargin: 20px 0;\r\n\t\th2 {\r\n\t\t\tfont-size: 1.7rem;\r\n\t\t}\r\n\t\t.input-container {\r\n\t\t\theight: 30px;\r\n\t\t\tinput {\r\n\t\t\t\tfont-size: 1rem;\r\n\t\t\t\tpadding-left: 40px;\r\n\t\t\t}\r\n\t\t\timg {\r\n\t\t\t\tleft: 10px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`\r\n\r\nexport default function SearchBox({ location, history }) {\r\n\tconst [query, setQuery] = useState(getUrlObj(location.search).query || \"\")\r\n\r\n\tconst handleSubmit = e => {\r\n\t\tif (e.key === \"Enter\" && query) {\r\n\t\t\tconst newParams = { ...getUrlObj(location.search), query }\r\n\t\t\tconst url = new URLSearchParams(newParams).toString()\r\n\t\t\thistory.push(\"/search?\" + url)\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<Div>\r\n\t\t\t<h2>Search anime</h2>\r\n\t\t\t<div className=\"input-container\">\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc=\"https://img.icons8.com/ios-glyphs/100/000000/search.png\"\r\n\t\t\t\t\talt=\"search\"\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\tvalue={query}\r\n\t\t\t\t\tonChange={e => setQuery(() => e.target.value.trim())}\r\n\t\t\t\t\tonKeyDown={handleSubmit}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</Div>\r\n\t)\r\n}\r\n","const genres = [\r\n\t{\r\n\t\tname: \"Action\",\r\n\t\tid: \"Action\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Adventure\",\r\n\t\tid: \"Adventure\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Comedy\",\r\n\t\tid: \"Comedy\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Drama\",\r\n\t\tid: \"Drama\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Ecchi\",\r\n\t\tid: \"Ecchi\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Fantasy\",\r\n\t\tid: \"Fantasy\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Horror\",\r\n\t\tid: \"Horror\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Mahou Shoujo\",\r\n\t\tid: \"Mahou Shoujo\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Mecha\",\r\n\t\tid: \"Mecha\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Music\",\r\n\t\tid: \"Music\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Mystery\",\r\n\t\tid: \"Mystery\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Psychological\",\r\n\t\tid: \"Psychological\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Romance\",\r\n\t\tid: \"Romance\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Sci-Fi\",\r\n\t\tid: \"Sci-Fi\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Slice of Life\",\r\n\t\tid: \"Slice of Life\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Sports\",\r\n\t\tid: \"Sports\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Supernatural\",\r\n\t\tid: \"Supernatural\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n\t{\r\n\t\tname: \"Thriller\",\r\n\t\tid: \"Supernatural\",\r\n\t\ttype: \"genre\",\r\n\t},\r\n]\r\nconst seasons = [\r\n\t{\r\n\t\tname: \"Summer\",\r\n\t\tid: \"SUMMER\",\r\n\t\ttype: \"season\",\r\n\t},\r\n\t{\r\n\t\tname: \"Spring\",\r\n\t\tid: \"SPRING\",\r\n\t\ttype: \"season\",\r\n\t},\r\n\t{\r\n\t\tname: \"Fall\",\r\n\t\tid: \"FALL\",\r\n\t\ttype: \"season\",\r\n\t},\r\n\t{\r\n\t\tname: \"Winter\",\r\n\t\tid: \"WINTER\",\r\n\t\ttype: \"season\",\r\n\t},\r\n]\r\nconst year = [\r\n\t{ name: 1950, id: 1950, type: \"year\" },\r\n\t{ name: 1951, id: 1951, type: \"year\" },\r\n\t{ name: 1952, id: 1952, type: \"year\" },\r\n\t{ name: 1953, id: 1953, type: \"year\" },\r\n\t{ name: 1954, id: 1954, type: \"year\" },\r\n\t{ name: 1955, id: 1955, type: \"year\" },\r\n\t{ name: 1956, id: 1956, type: \"year\" },\r\n\t{ name: 1957, id: 1957, type: \"year\" },\r\n\t{ name: 1958, id: 1958, type: \"year\" },\r\n\t{ name: 1959, id: 1959, type: \"year\" },\r\n\t{ name: 1960, id: 1960, type: \"year\" },\r\n\t{ name: 1961, id: 1961, type: \"year\" },\r\n\t{ name: 1962, id: 1962, type: \"year\" },\r\n\t{ name: 1963, id: 1963, type: \"year\" },\r\n\t{ name: 1964, id: 1964, type: \"year\" },\r\n\t{ name: 1965, id: 1965, type: \"year\" },\r\n\t{ name: 1966, id: 1966, type: \"year\" },\r\n\t{ name: 1967, id: 1967, type: \"year\" },\r\n\t{ name: 1968, id: 1968, type: \"year\" },\r\n\t{ name: 1969, id: 1969, type: \"year\" },\r\n\t{ name: 1970, id: 1970, type: \"year\" },\r\n\t{ name: 1971, id: 1971, type: \"year\" },\r\n\t{ name: 1972, id: 1972, type: \"year\" },\r\n\t{ name: 1973, id: 1973, type: \"year\" },\r\n\t{ name: 1974, id: 1974, type: \"year\" },\r\n\t{ name: 1975, id: 1975, type: \"year\" },\r\n\t{ name: 1976, id: 1976, type: \"year\" },\r\n\t{ name: 1977, id: 1977, type: \"year\" },\r\n\t{ name: 1978, id: 1978, type: \"year\" },\r\n\t{ name: 1979, id: 1979, type: \"year\" },\r\n\t{ name: 1980, id: 1980, type: \"year\" },\r\n\t{ name: 1981, id: 1981, type: \"year\" },\r\n\t{ name: 1982, id: 1982, type: \"year\" },\r\n\t{ name: 1983, id: 1983, type: \"year\" },\r\n\t{ name: 1984, id: 1984, type: \"year\" },\r\n\t{ name: 1985, id: 1985, type: \"year\" },\r\n\t{ name: 1986, id: 1986, type: \"year\" },\r\n\t{ name: 1987, id: 1987, type: \"year\" },\r\n\t{ name: 1988, id: 1988, type: \"year\" },\r\n\t{ name: 1989, id: 1989, type: \"year\" },\r\n\t{ name: 1990, id: 1990, type: \"year\" },\r\n\t{ name: 1991, id: 1991, type: \"year\" },\r\n\t{ name: 1992, id: 1992, type: \"year\" },\r\n\t{ name: 1993, id: 1993, type: \"year\" },\r\n\t{ name: 1994, id: 1994, type: \"year\" },\r\n\t{ name: 1995, id: 1995, type: \"year\" },\r\n\t{ name: 1996, id: 1996, type: \"year\" },\r\n\t{ name: 1997, id: 1997, type: \"year\" },\r\n\t{ name: 1998, id: 1998, type: \"year\" },\r\n\t{ name: 1999, id: 1999, type: \"year\" },\r\n\t{ name: 2000, id: 2000, type: \"year\" },\r\n\t{ name: 2001, id: 2001, type: \"year\" },\r\n\t{ name: 2002, id: 2002, type: \"year\" },\r\n\t{ name: 2003, id: 2003, type: \"year\" },\r\n\t{ name: 2004, id: 2004, type: \"year\" },\r\n\t{ name: 2005, id: 2005, type: \"year\" },\r\n\t{ name: 2006, id: 2006, type: \"year\" },\r\n\t{ name: 2007, id: 2007, type: \"year\" },\r\n\t{ name: 2008, id: 2008, type: \"year\" },\r\n\t{ name: 2009, id: 2009, type: \"year\" },\r\n\t{ name: 2010, id: 2010, type: \"year\" },\r\n\t{ name: 2011, id: 2011, type: \"year\" },\r\n\t{ name: 2012, id: 2012, type: \"year\" },\r\n\t{ name: 2013, id: 2013, type: \"year\" },\r\n\t{ name: 2014, id: 2014, type: \"year\" },\r\n\t{ name: 2015, id: 2015, type: \"year\" },\r\n\t{ name: 2016, id: 2016, type: \"year\" },\r\n\t{ name: 2017, id: 2017, type: \"year\" },\r\n\t{ name: 2018, id: 2018, type: \"year\" },\r\n\t{ name: 2019, id: 2019, type: \"year\" },\r\n\t{ name: 2020, id: 2020, type: \"year\" },\r\n\t{ name: 2021, id: 2021, type: \"year\" },\r\n]\r\nconst formats = [\r\n\t{\r\n\t\tname: \"tv\",\r\n\t\tid: \"TV\",\r\n\t\ttype: \"format\",\r\n\t},\r\n\t{\r\n\t\tname: \"ova\",\r\n\t\tid: \"OVA\",\r\n\t\ttype: \"format\",\r\n\t},\r\n\t{\r\n\t\tname: \"movie\",\r\n\t\tid: \"MOVIE\",\r\n\t\ttype: \"format\",\r\n\t},\r\n\t{\r\n\t\tname: \"special\",\r\n\t\tid: \"SPECIAL\",\r\n\t\ttype: \"format\",\r\n\t},\r\n\t{\r\n\t\tname: \"ona\",\r\n\t\tid: \"ONA\",\r\n\t\ttype: \"format\",\r\n\t},\r\n\t{\r\n\t\tname: \"music\",\r\n\t\tid: \"MUSIC\",\r\n\t\ttype: \"format\",\r\n\t},\r\n]\r\nexport const selectLists = [\r\n\t{\r\n\t\ttype: \"Genre\",\r\n\t\tlist: genres,\r\n\t},\r\n\t{\r\n\t\ttype: \"Season\",\r\n\t\tlist: seasons,\r\n\t},\r\n\t{\r\n\t\ttype: \"Year\",\r\n\t\tlist: year.reverse(),\r\n\t},\r\n\t{\r\n\t\ttype: \"Format\",\r\n\t\tlist: formats,\r\n\t},\r\n]\r\n","import React, { useRef, useState, useEffect } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport getUrlObj from \"../../utlis/getUrlObj\"\r\nconst List = styled.div`\r\n\twidth: unset;\r\n\theight: max-content;\r\n\tposition: relative;\r\n\t.selected {\r\n\t\tcursor: pointer;\r\n\t\twidth: 150px;\r\n\t\theight: 30px;\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 7px;\r\n\t\tbox-shadow: ${({ theme }) => theme.boxShadow};\r\n\r\n\t\tmargin-bottom: 10px;\r\n\t\tpadding: 0 15px;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tposition: relative;\r\n\t\t.mask {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\tz-index: 2;\r\n\t\t}\r\n\t\tspan {\r\n\t\t\tfont-size: 0.9rem;\r\n\t\t\tcolor: #979797;\r\n\t\t\tpadding: 8px 0;\r\n\t\t}\r\n\t\timg {\r\n\t\t\twidth: 15px;\r\n\t\t\theight: 15px;\r\n\t\t\tfilter: invert(0.7);\r\n\t\t\tmargin: 8px 0;\r\n\t\t}\r\n\t\t.cover {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\tz-index: 1;\r\n\t\t}\r\n\t}\r\n\t.box {\r\n\t\tlist-style: none;\r\n\t\twidth: 150px;\r\n\t\theight: max-content;\r\n\t\tmax-height: 300px;\r\n\t\tpadding: 10px;\r\n\t\toverflow-y: auto;\r\n\t\tbackground-color: white;\r\n\t\tborder-radius: 7px;\r\n\t\tbox-shadow: ${({ theme }) => theme.boxShadow};\r\n\t\tposition: absolute;\r\n\t\tdisplay: ${({ isOpen }) => (isOpen ? \"block\" : \"none\")};\r\n\t\tz-index: 2;\r\n\t\t::-webkit-scrollbar-track {\r\n\t\t\tbackground-color: ${({ theme }) => theme.scrollbar};\r\n\t\t}\r\n\t\t::-webkit-scrollbar {\r\n\t\t\tborder-radius: 4px;\r\n\t\t\twidth: 5px;\r\n\t\t\tbackground-color: #f5f5f5;\r\n\t\t}\r\n\t\t::-webkit-scrollbar-thumb {\r\n\t\t\tbackground-color: #7e7e7e;\r\n\t\t\tborder-radius: 4px;\r\n\t\t}\r\n\t\tli.option {\r\n\t\t\tcursor: pointer;\r\n\t\t\tfont-size: 0.9rem;\r\n\t\t\tcolor: rgb(63, 63, 63);\r\n\t\t\tpadding: 5px;\r\n\t\t\tborder-radius: 4px;\r\n\t\t\ttransition: 0.2s;\r\n\t\t\t&:hover {\r\n\t\t\t\tbackground-color: #e0e0e0;\r\n\t\t\t\tcolor: #43b375;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t@media (max-width: 768px) {\r\n\t\t&:nth-child(2n) {\r\n\t\t\tjustify-self: end;\r\n\t\t}\r\n\t}\r\n\t@media (max-width: 480px) {\r\n\t\t.selected,\r\n\t\t.box {\r\n\t\t\twidth: 120px;\r\n\t\t}\r\n\t}\r\n`\r\nexport default function OptionList({ item, location, history }) {\r\n\tconst [isOpen, setIsOpen] = useState(false)\r\n\tconst listEl = useRef()\r\n\tconst ul = useRef()\r\n\tuseEffect(() => {\r\n\t\tdocument.addEventListener(\"click\", e => {\r\n\t\t\tif (e.target !== listEl.current) setIsOpen(false)\r\n\t\t})\r\n\t}, [listEl])\r\n\tconst filterByOption = option => {\r\n\t\tconst params = { ...getUrlObj(location.search), [option.type]: option.id }\r\n\t\tconst url = new URLSearchParams(params).toString()\r\n\t\thistory.push(\"/search?\" + url)\r\n\t}\r\n\treturn (\r\n\t\t<List className=\"list-container\" isOpen={isOpen}>\r\n\t\t\t<div className=\"selected\">\r\n\t\t\t\t<div\r\n\t\t\t\t\tref={listEl}\r\n\t\t\t\t\tclassName=\"mask\"\r\n\t\t\t\t\tonClick={() => setIsOpen(!isOpen)}></div>\r\n\t\t\t\t<span>{item.type}</span>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc=\"https://img.icons8.com/ios-glyphs/30/000000/chevron-down.png\"\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<ul ref={ul} className=\"box\">\r\n\t\t\t\t{item.list.map(option => (\r\n\t\t\t\t\t<li\r\n\t\t\t\t\t\tkey={option.name}\r\n\t\t\t\t\t\tclassName=\"option\"\r\n\t\t\t\t\t\tonClick={() => filterByOption(option)}>\r\n\t\t\t\t\t\t{option.name}\r\n\t\t\t\t\t</li>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t</List>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport { useLocation, useHistory } from \"react-router-dom\"\r\nimport SearchBox from \"./SearchBox\"\r\nimport { selectLists } from \"./SelectList\"\r\nimport OptionList from \"./OptionList\"\r\nimport getUrlObj from \"../../utlis/getUrlObj\"\r\n\r\nconst Container = styled.div`\r\n\tmax-width: 1200px;\r\n\tpadding: 0 50px;\r\n\tmargin: auto;\r\n\t@media (max-width: 768px) {\r\n\t\tpadding: 0 20px;\r\n\t}\r\n`\r\nconst AllFilters = styled.div`\r\n\twidth: 100%;\r\n\tmargin: 50px auto;\r\n\t.options-container {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\twidth: 100%;\r\n\t}\r\n\t@media (max-width: 768px) {\r\n\t\tmargin: 20px auto;\r\n\t\t.options-container {\r\n\t\t\tdisplay: grid;\r\n\t\t\tgrid-template-columns: 1fr 1fr;\r\n\t\t}\r\n\t}\r\n`\r\n\r\nexport default function SearchSection() {\r\n\tconst location = useLocation()\r\n\tconst history = useHistory()\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<SearchBox location={location} history={history} />\r\n\t\t\t<AllFilters>\r\n\t\t\t\t<div className=\"options-container\">\r\n\t\t\t\t\t{selectLists.map((item, index) => (\r\n\t\t\t\t\t\t<OptionList\r\n\t\t\t\t\t\t\tkey={index}\r\n\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\tlocation={location}\r\n\t\t\t\t\t\t\thistory={history}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</div>\r\n\t\t\t</AllFilters>\r\n\t\t\t<SelectedFilters location={location} history={history} />\r\n\t\t</Container>\r\n\t)\r\n}\r\n\r\nconst FiltersBox = styled.div`\r\n\tdisplay: flex;\r\n\tmargin: 15px 0;\r\n\t.filter {\r\n\t\tcolor: white;\r\n\t\tborder-radius: 7px;\r\n\t\tmargin-right: 20px;\r\n\t\tbackground: #4c5264;\r\n\t\twidth: max-content;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\theight: 25px;\r\n\t\twidth: max-content;\r\n\t\tpadding: 0 4px;\r\n\t}\r\n\timg {\r\n\t\tmargin-left: 5px;\r\n\t\twidth: 15px;\r\n\t\tfilter: invert(1);\r\n\t\theight: auto;\r\n\t}\r\n`\r\nconst SelectedFilters = ({ history, location }) => {\r\n\tconst [filter, setFilter] = useState([])\r\n\tconst obj = getUrlObj(location.search)\r\n\r\n\tuseEffect(() => {\r\n\t\tlet arr = []\r\n\t\tfor (let key in obj) {\r\n\t\t\tif (obj[key]) {\r\n\t\t\t\tarr.push({ type: key, value: obj[key] })\r\n\t\t\t}\r\n\t\t}\r\n\t\tsetFilter(arr)\r\n\t}, [location])\r\n\r\n\tconst removeFilter = filter => {\r\n\t\tdelete obj[filter.type]\r\n\t\tconst url = new URLSearchParams(obj).toString()\r\n\t\thistory.push(\"/search?\" + url)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<FiltersBox>\r\n\t\t\t{filter.map((e, index) => (\r\n\t\t\t\t<div key={index} className=\"filter\">\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t<b>{e.type}:</b> {e.value}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tonClick={() => removeFilter(e)}\r\n\t\t\t\t\t\tsrc=\"./assets/icons/x.svg\"\r\n\t\t\t\t\t\talt=\"\"\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t))}\r\n\t\t</FiltersBox>\r\n\t)\r\n}\r\n","import React, { useEffect, useState } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport homeListQuery from \"../api/anime/homeListAPI\"\r\nimport Carousel from \"../components/Home/Carousel\"\r\nimport SearchSection from \"../components/Search/SearchSection\"\r\nconst Container = styled.div`\r\n\t.hero {\r\n\t\tbackground: url(\"/assets/images/background.jpg\");\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-size: cover;\r\n\t\twidth: 100%;\r\n\t\theight: 400px;\r\n\t\tposition: relative;\r\n\t\t.hero-container {\r\n\t\t\tposition: absolute;\r\n\t\t\ttop: 0;\r\n\t\t\tleft: 0;\r\n\t\t\tright: 0;\r\n\t\t\tbottom: 0;\r\n\t\t\tbackground-color: rgba(0, 0, 0, 0.7);\r\n\t\t}\r\n\t\th1 {\r\n\t\t\tmax-width: 1200px;\r\n\t\t\tpadding: 100px 50px;\r\n\t\t\ttext-align: center;\r\n\t\t\twidth: 100%;\r\n\t\t\tmargin: auto;\r\n\t\t\tcolor: white;\r\n\t\t\tfont-size: 3rem;\r\n\t\t}\r\n\t}\r\n\r\n\t@media (max-width: 768px) {\r\n\t\t.hero {\r\n\t\t\theight: 200px;\r\n\t\t\th1 {\r\n\t\t\t\tfont-size: 2rem;\r\n\t\t\t\tpadding: 50px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t@media (max-width: 480px) {\r\n\t\t.hero {\r\n\t\t\theight: 200px;\r\n\t\t\tmargin: 0;\r\n\t\t\th1 {\r\n\t\t\t\tpadding: 40px 20px;\r\n\t\t\t\tfont-size: 1.7rem;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`\r\nexport default function Home() {\r\n\tconst [trending, setTrending] = useState(null)\r\n\tconst [top, setTop] = useState(null)\r\n\r\n\tconst getAnimes = async () => {\r\n\t\ttry {\r\n\t\t\tconst { top, trending } = await homeListQuery()\r\n\t\t\tsetTrending(trending.media)\r\n\t\t\tsetTop(top.media)\r\n\t\t} catch (error) {\r\n\t\t\tconsole.log(error)\r\n\t\t}\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tgetAnimes()\r\n\t}, [])\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<div className=\"hero\">\r\n\t\t\t\t<div className=\"hero-container\">\r\n\t\t\t\t\t<h1>\r\n\t\t\t\t\t\tDiscover the world of anime using the world's largest anime database\r\n\t\t\t\t\t</h1>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t<SearchSection />\r\n\t\t\t<Carousel header=\"Popular this season\" list={trending} />\r\n\t\t\t<Carousel header=\"Top animes of all time\" list={top} />\r\n\t\t</Container>\r\n\t)\r\n}\r\n","const options = (method, body) => {\r\n\t\treturn {\r\n\t\t\tmethod,\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\tAuthorization: localStorage.getItem(\"auth\"),\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify(body) || null,\r\n\t\t}\r\n\t},\r\n\turl = \"http://localhost:80\"\r\n\r\nexport const tokenHandler = async () => {\r\n\tconst res = await fetch(`${url}/api/auth/`, options(\"GET\"))\r\n\tif (res.ok) {\r\n\t\tconst { data } = await res.json()\r\n\t\treturn data\r\n\t}\r\n\treturn null\r\n}\r\n\r\nexport const loginHandler = async form => {\r\n\tconst res = await fetch(`${url}/api/auth/login`, options(\"POST\", form))\r\n\tconst { message, data, token } = await res.json()\r\n\r\n\tif (res.ok) {\r\n\t\tlocalStorage.setItem(\"auth\", token)\r\n\t\treturn { data, message }\r\n\t}\r\n\treturn { message }\r\n}\r\n\r\nexport const registerHandler = async form => {\r\n\tconst res = await fetch(`${url}/api/auth/register`, options(\"POST\", form))\r\n\tconsole.log(res)\r\n\tconst { message, data, token } = await res.json()\r\n\r\n\tif (res.ok) {\r\n\t\tlocalStorage.setItem(\"auth\", token)\r\n\t\treturn { data, message }\r\n\t}\r\n\treturn { message }\r\n}\r\n","import { createContext } from \"react\"\r\n\r\nconst UserContext = createContext(null)\r\n\r\nexport default UserContext\r\n","import React, { useState, useContext } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport styled from \"styled-components\"\r\nimport { loginHandler } from \"../api/user/auth\"\r\nimport UserContext from \"../UserContext\"\r\n\r\nconst Div = styled.div`\r\n\tmax-width: 1100px;\r\n\tpadding: 0 50px;\r\n\tmargin: auto;\r\n\th1 {\r\n\t\tmargin-top: 50px;\r\n\r\n\t\ttext-align: center;\r\n\t}\r\n\tform {\r\n\t\tmargin: 0 auto;\r\n\t\tmargin-top: 50px;\r\n\t\twidth: 500px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tinput {\r\n\t\t\twidth: 100%;\r\n\t\t\tmargin: 10px 0;\r\n\t\t\theight: 40px;\r\n\t\t\tfont-size: 1.2rem;\r\n\t\t}\r\n\t\tbutton {\r\n\t\t\twidth: 200px;\r\n\t\t\theight: 50px;\r\n\t\t}\r\n\t}\r\n`\r\nexport default function Login() {\r\n\tconst [form, setForm] = useState({ email: null, password: null })\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst [message, setMessage] = useState(null)\r\n\tconst { user, setUser } = useContext(UserContext)\r\n\tconst handleChange = e => {\r\n\t\tsetForm({ ...form, [e.target.name]: e.target.value })\r\n\t}\r\n\r\n\tconst handleSubmit = async e => {\r\n\t\te.preventDefault()\r\n\t\tsetLoading(true)\r\n\t\tconst { data, message } = await loginHandler(form)\r\n\t\tsetLoading(false)\r\n\t\tsetMessage(message)\r\n\t\tif (data) {\r\n\t\t\tsetUser(data)\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Div>\r\n\t\t\t<h1>Log in</h1>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t/>\r\n\t\t\t\t<button disabled={loading} type=\"submit\">\r\n\t\t\t\t\tLog in\r\n\t\t\t\t</button>\r\n\t\t\t\t<Link to=\"/register\">register</Link>\r\n\t\t\t\t<span>{message}</span>\r\n\t\t\t</form>\r\n\t\t</Div>\r\n\t)\r\n}\r\n","const searchQuery = async variables => {\r\n\tconst query = `\r\n\t\tquery ($id: Int, $page: Int, $perPage: Int, $search: String, \r\n\t\t\t$genre: String, $isAdult: Boolean, $year: Int, $format: MediaFormat, $sort: [MediaSort]) \r\n\t\t{\r\n      Page (page: $page, perPage: $perPage) {\r\n        pageInfo {\r\n          total\r\n          currentPage\r\n          lastPage\r\n          hasNextPage\r\n          perPage\r\n        }\r\n\t\t\t\tmedia (id: $id, search: $search, genre: $genre, isAdult: $isAdult, \r\n\t\t\t\t\ttype: ANIME, seasonYear: $year, format: $format, sort: $sort) \r\n\t\t\t\t{\r\n          id\r\n\t\t\t\t\ttitle {\r\n\t\t\t\t\t\tromaji\r\n\t\t\t\t\t\tenglish\r\n\t\t\t\t\t\tnative\r\n\t\t\t\t\t\tuserPreferred\r\n\t\t\t\t\t} \r\n          coverImage {\r\n\t\t\t\t\t\textraLarge\r\n\t\t\t\t\t\tcolor\r\n          }\r\n        }\r\n      }\r\n    }\r\n    `\r\n\tconsole.log(\"graphql vars\", variables)\r\n\tconst url = \"https://graphql.anilist.co\",\r\n\t\toptions = {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\tAccept: \"application/json\",\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tquery: query,\r\n\t\t\t\tvariables: {\r\n\t\t\t\t\t...variables,\r\n\t\t\t\t\tsearch: variables.query,\r\n\t\t\t\t\tsort: variables.query ? [\"SEARCH_MATCH\"] : [\"POPULARITY_DESC\"],\r\n\t\t\t\t},\r\n\t\t\t}),\r\n\t\t}\r\n\ttry {\r\n\t\tconst res = await fetch(url, options)\r\n\t\tconst json = await res.json()\r\n\t\treturn json.data.Page\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t}\r\n}\r\nexport default searchQuery\r\n","import React, { useState, useEffect } from \"react\"\r\nimport { useLocation, Link } from \"react-router-dom\"\r\nimport styled from \"styled-components\"\r\nimport searchAPI from \"../api/anime/searchAPI\"\r\nimport SearchSection from \"../components/Search/SearchSection\"\r\nimport InfiniteScroll from \"react-infinite-scroll-component\"\r\nimport Skeleton, { SkeletonTheme } from \"react-loading-skeleton\"\r\nconst SearchPage = styled.div`\r\n\t.grid {\r\n\t\tmargin: 0 auto;\r\n\t\tmax-width: 1200px;\r\n\t\tpadding: 0 50px;\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(5, auto);\r\n\t\tjustify-content: space-between;\r\n\t\trow-gap: 30px;\r\n\t}\r\n\t@media (max-width: 950px) {\r\n\t\t.grid {\r\n\t\t\tgrid-template-columns: repeat(4, auto);\r\n\t\t}\r\n\t}\r\n\t@media (max-width: 768px) {\r\n\t\t.grid {\r\n\t\t\tpadding: 0 20px;\r\n\t\t}\r\n\t}\r\n\t@media (max-width: 640px) {\r\n\t\t.grid {\r\n\t\t\tgrid-template-columns: repeat(3, auto);\r\n\t\t}\r\n\t}\r\n\t@media (max-width: 560px) {\r\n\t\t.grid {\r\n\t\t\tgrid-template-columns: repeat(2, auto);\r\n\t\t}\r\n\t}\r\n`\r\n\r\nexport default function Search() {\r\n\tconst [result, setResult] = useState([])\r\n\tconst [page, setPage] = useState(1)\r\n\tconst location = useLocation()\r\n\tconst array = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18]\r\n\tconst getData = async (params, prevResult) => {\r\n\t\tconst urlParams = new URLSearchParams(params)\r\n\t\tconst entries = urlParams.entries()\r\n\t\tconst newParams = Object.fromEntries(entries)\r\n\t\tconst data = await searchAPI({ ...newParams, page })\r\n\t\tsetResult(prevResult.concat(data.media))\r\n\t}\r\n\tuseEffect(() => {\r\n\t\tsetPage(1)\r\n\t\tsetResult([])\r\n\t\tgetData(location.search, [])\r\n\t}, [location])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (page > 1) {\r\n\t\t\tgetData(location.search, result)\r\n\t\t}\r\n\t}, [page])\r\n\treturn (\r\n\t\t<SearchPage>\r\n\t\t\t<SearchSection />\r\n\r\n\t\t\t<InfiniteScroll\r\n\t\t\t\tdataLength={result.length}\r\n\t\t\t\tnext={() => setPage(prev => prev + 1)}\r\n\t\t\t\thasMore={true}>\r\n\t\t\t\t<div className=\"grid\">\r\n\t\t\t\t\t{result.length\r\n\t\t\t\t\t\t? result.map((e, index) => <Card item={e} key={index} />)\r\n\t\t\t\t\t\t: array.map(item => (\r\n\t\t\t\t\t\t\t\t<CardBox>\r\n\t\t\t\t\t\t\t\t\t<SkeletonTheme highlightColor=\"#a7dac7\" color=\"#cad4de\">\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton key={item} className=\"mask\" />\r\n\t\t\t\t\t\t\t\t\t</SkeletonTheme>\r\n\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t<SkeletonTheme highlightColor=\"#a7dac7\" color=\"#cad4de\">\r\n\t\t\t\t\t\t\t\t\t\t<Skeleton width=\"120px\" height=\"15px\" key={item} />\r\n\t\t\t\t\t\t\t\t\t</SkeletonTheme>\r\n\t\t\t\t\t\t\t\t</CardBox>\r\n\t\t\t\t\t\t  ))}\r\n\t\t\t\t</div>\r\n\t\t\t</InfiniteScroll>\r\n\t\t</SearchPage>\r\n\t)\r\n}\r\nconst CardBox = styled.div`\r\n\twidth: 180px;\r\n\ta {\r\n\t\tdisplay: block;\r\n\t\tcolor: ${({ theme }) => theme.text};\r\n\t}\r\n\timg,\r\n\t.mask {\r\n\t\twidth: 100%;\r\n\t\theight: 255px;\r\n\t\tobject-fit: cover;\r\n\t\tborder-radius: 8px;\r\n\t\tbackground: ${({ bgColor }) => bgColor};\r\n\t}\r\n\t@media (max-width: 1100px) {\r\n\t\twidth: 150px;\r\n\t\timg,\r\n\t\t.mask {\r\n\t\t\theight: 210px;\r\n\t\t}\r\n\t}\r\n\t@media (max-width: 950px) {\r\n\t\twidth: 180px;\r\n\t\timg,\r\n\t\t.mask {\r\n\t\t\theight: 255px;\r\n\t\t}\r\n\t}\r\n\t@media (max-width: 900px) {\r\n\t\twidth: 150px;\r\n\t\timg,\r\n\t\t.mask {\r\n\t\t\theight: 210px;\r\n\t\t}\r\n\t}\r\n\t@media (max-width: 720px) {\r\n\t\twidth: 130px;\r\n\t\timg,\r\n\t\t.mask {\r\n\t\t\theight: 180px;\r\n\t\t}\r\n\t}\r\n\t@media (max-width: 640px) {\r\n\t\twidth: 150px;\r\n\t\timg,\r\n\t\t.mask {\r\n\t\t\theight: 210px;\r\n\t\t}\r\n\t}\r\n\t@media (max-width: 560px) {\r\n\t\twidth: 200px;\r\n\t\timg,\r\n\t\t.mask {\r\n\t\t\theight: 280px;\r\n\t\t}\r\n\t}\r\n\r\n\t@media (max-width: 480px) {\r\n\t\twidth: 180px;\r\n\t\timg,\r\n\t\t.mask {\r\n\t\t\theight: 255px;\r\n\t\t}\r\n\t}\r\n\t@media (max-width: 420px) {\r\n\t\twidth: 150px;\r\n\t\timg,\r\n\t\t.mask {\r\n\t\t\theight: 210px;\r\n\t\t}\r\n\t}\r\n`\r\nconst Card = ({ item }) => {\r\n\tconst [loaded, setLoaded] = useState(false)\r\n\tconst title = item.title.english ? item.title.english : item.title.romaji\r\n\tconst image = item.coverImage.extraLarge\r\n\tconst bgColor = item.coverImage.color\r\n\r\n\treturn (\r\n\t\t<CardBox bgColor={bgColor}>\r\n\t\t\t<Link to={`/anime/${item.id}`}>\r\n\t\t\t\t<img\r\n\t\t\t\t\tstyle={loaded ? {} : { display: \"none\" }}\r\n\t\t\t\t\tsrc={image}\r\n\t\t\t\t\talt=\"\"\r\n\t\t\t\t\tonLoad={() => setLoaded(true)}\r\n\t\t\t\t/>\r\n\t\t\t\t{loaded ? null : <div className=\"mask\"></div>}\r\n\t\t\t\t<p>{title}</p>\r\n\t\t\t</Link>\r\n\t\t</CardBox>\r\n\t)\r\n}\r\n","const animeQuery = async id => {\r\n\tconst query = `\r\n    query ($id: Int) {\r\n      Media(id: $id) {\r\n        id\r\n        title {\r\n          romaji\r\n          english\r\n          native\r\n        }\r\n        description\r\n        trailer {\r\n          id\r\n        }\r\n        bannerImage\r\n        coverImage {\r\n          extraLarge\r\n          large\r\n          medium\r\n          color\r\n        }\r\n        format\r\n        episodes\r\n        status\r\n        duration\r\n        startDate {\r\n          year\r\n          month\r\n          day\r\n        }\r\n        endDate {\r\n          year\r\n          month\r\n          day\r\n        }\r\n        season\r\n        seasonYear\r\n        studios(isMain: true) {\r\n          edges {\r\n            id\r\n            node {\r\n              name\r\n            }\r\n          }\r\n        }\r\n        genres\r\n        characters(sort: [ROLE, ID], role: MAIN) {\r\n          edges {\r\n            id\r\n            role\r\n            node {\r\n              id\r\n              name {\r\n                full\r\n              }\r\n              image {\r\n                large\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n`\r\n\tconst url = \"https://graphql.anilist.co\",\r\n\t\toptions = {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\tAccept: \"application/json\",\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tquery,\r\n\t\t\t\tvariables: { id },\r\n\t\t\t}),\r\n\t\t}\r\n\tconst res = await fetch(url, options)\r\n\tconst json = await res.json()\r\n\treturn json.data.Media\r\n}\r\nexport default animeQuery\r\n","const url = \"http://localhost:80\"\r\n\r\nconst getComments = async page_id => {\r\n\tconst res = await fetch(`${url}/api/user/comment/?page_id=${page_id}`)\r\n\tconst { data } = await res.json()\r\n\treturn data\r\n}\r\n\r\nconst postComment = async (comment, page_id) => {\r\n\tconst res = await fetch(`${url}/api/user/comment`, {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\tAccept: \"application/json\",\r\n\t\t\tAuthorization: localStorage.getItem(\"auth\"),\r\n\t\t},\r\n\t\tbody: JSON.stringify({\r\n\t\t\tcomment,\r\n\t\t\tpage_id,\r\n\t\t}),\r\n\t})\r\n\tconst { data } = await res.json()\r\n\treturn data\r\n}\r\n\r\nexport { getComments, postComment }\r\n","import React, { useEffect, useState, useContext } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport { getComments, postComment } from \"../../api/user/comment\"\r\nimport UserContext from \"../../UserContext\"\r\nimport { formatDistanceToNow } from \"date-fns\"\r\n\r\nexport default function Comments({ page_id }) {\r\n\tconst [allComments, setAllComments] = useState(null)\r\n\tconst [text, setText] = useState(\"\")\r\n\tconst { user } = useContext(UserContext)\r\n\r\n\tuseEffect(() => {\r\n\t\tgetComments(page_id).then(data => {\r\n\t\t\tsetAllComments(data)\r\n\t\t})\r\n\t}, [])\r\n\r\n\tconst handleSubmit = async e => {\r\n\t\te.preventDefault()\r\n\t\tif (user && text.trim()) {\r\n\t\t\tpostComment(text, page_id).then(data => {\r\n\t\t\t\tsetText(\"\")\r\n\t\t\t\tsetAllComments(data)\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Container>\r\n\t\t\t<h2>Comments</h2>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<textarea\r\n\t\t\t\t\tname=\"comment\"\r\n\t\t\t\t\tonChange={e => setText(e.target.value)}\r\n\t\t\t\t\tvalue={text}\r\n\t\t\t\t\tplaceholder=\"Add your comment\"></textarea>\r\n\t\t\t\t<br />\r\n\t\t\t\t<button type=\"submit\">Send</button>\r\n\t\t\t</form>\r\n\t\t\t<div className=\"all-comments\">\r\n\t\t\t\t{allComments &&\r\n\t\t\t\t\tallComments.map((item, index) => (\r\n\t\t\t\t\t\t<div key={index} className=\"comment-box\">\r\n\t\t\t\t\t\t\t<div className=\"user-data\">\r\n\t\t\t\t\t\t\t\t<img src={item.avatar} alt=\"\" />\r\n\t\t\t\t\t\t\t\t<span className=\"username\">{item.username}</span>\r\n\t\t\t\t\t\t\t\t<span className=\"date\">\r\n\t\t\t\t\t\t\t\t\t{formatDistanceToNow(new Date(item.created_at * 1000))} ago\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p className=\"comment\">{item.text}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</Container>\r\n\t)\r\n}\r\n\r\nconst Container = styled.section`\r\n\tmax-width: 1200px;\r\n\tpadding: 0 50px;\r\n\tmargin: auto;\r\n\th2 {\r\n\t\tcolor: ${({ theme }) => theme.header};\r\n\t\tfont-size: 2.5rem;\r\n\t}\r\n\ttextarea {\r\n\t\twidth: 100%;\r\n\t\theight: 100px;\r\n\t\tfont-size: 1.2rem;\r\n\t\tborder-radius: 4px;\r\n\t\tborder: none;\r\n\t\tpadding: 10px;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\tbutton {\r\n\t\tcursor: pointer;\r\n\t\tpadding: 5px 10px;\r\n\t\tbackground: #70c7a7;\r\n\t\tfont-size: 1.2rem;\r\n\t\tborder-radius: 4px;\r\n\t\tborder: none;\r\n\t\tcolor: ${({ theme }) => theme.header};\r\n\t}\r\n\t.all-comments {\r\n\t\tmargin-top: 20px;\r\n\t}\r\n\t.comment-box {\r\n\t\tborder-radius: 4px;\r\n\t\tpadding: 15px;\r\n\t\tmargin: 10px 0;\r\n\t\tcolor: ${({ theme }) => theme.text};\r\n\t\tbackground: ${({ theme }) => theme.commentBg};\r\n\t\t.user-data {\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\timg {\r\n\t\t\t\twidth: 30px;\r\n\t\t\t\theight: 30px;\r\n\t\t\t\tobject-fit: cover;\r\n\t\t\t\tmargin-right: 10px;\r\n\t\t\t\tborder-radius: 4px;\r\n\t\t\t}\r\n\t\t\t.username {\r\n\t\t\t\tcolor: #70c7a7;\r\n\t\t\t}\r\n\t\t\t.date {\r\n\t\t\t\tmargin-left: auto;\r\n\t\t\t}\r\n\t\t}\r\n\t\tp {\r\n\t\t\tmargin-top: 15px;\r\n\t\t}\r\n\t}\r\n`\r\n","const options = (method = \"GET\", body = null) => {\r\n\t\treturn {\r\n\t\t\tmethod,\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\tAuthorization: localStorage.getItem(\"auth\"),\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({ data: body }) || null,\r\n\t\t}\r\n\t},\r\n\turl = \"http://localhost:80\"\r\n\r\nexport const addToFavorites = async (user_id, page_id, cover_image, title) => {\r\n\ttry {\r\n\t\tconst res = await fetch(`${url}/api/user/favorites/`, {\r\n\t\t\tmethod: \"POST\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\tAuthorization: localStorage.getItem(\"auth\"),\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\tpage_id,\r\n\t\t\t\tcover_image,\r\n\t\t\t\ttitle,\r\n\t\t\t}),\r\n\t\t})\r\n\t\tconst { message, data } = await res.json()\r\n\t\treturn { message, data }\r\n\t} catch (e) {\r\n\t\treturn { message: e.message }\r\n\t}\r\n}\r\n\r\nexport const getFavorites = async user_id => {\r\n\ttry {\r\n\t\tconst res = await fetch(`${url}/api/user/favorites/`, {\r\n\t\t\tmethod: \"GET\",\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\tAuthorization: localStorage.getItem(\"auth\"),\r\n\t\t\t},\r\n\t\t})\r\n\t\tif (res.ok) {\r\n\t\t\tconst { data } = await res.json()\r\n\t\t\treturn data\r\n\t\t}\r\n\t\treturn null\r\n\t} catch (e) {\r\n\t\treturn null\r\n\t}\r\n}\r\n\r\nexport const removeFavorite = async page_id => {\r\n\ttry {\r\n\t\tconst res = await fetch(\r\n\t\t\t`${url}/api/user/favorites/${page_id}`,\r\n\t\t\toptions(\"DELETE\")\r\n\t\t)\r\n\t\tconst json = await res.json()\r\n\r\n\t\treturn json\r\n\t} catch (e) {\r\n\t\treturn { message: e }\r\n\t}\r\n}\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport { Link } from \"react-router-dom\"\r\nconst Section = styled.section`\r\n\twidth: 60%;\r\n\tmargin-left: 50px;\r\n\tmargin-top: 0px;\r\n\th1 {\r\n\t\tfont-size: 3rem;\r\n\t\tfont-weight: 900;\r\n\t\tmargin-bottom: 10px;\r\n\t\tpadding: 0;\r\n\t\tcolor: ${({ theme }) => theme.header};\r\n\t}\r\n\tp {\r\n\t\tfont-size: 1.1rem;\r\n\t\tmargin-bottom: 20px;\r\n\t\tcolor: ${({ theme }) => theme.text};\r\n\t}\r\n\t.mobile-img {\r\n\t\tdisplay: none;\r\n\t\tborder-radius: 7px;\r\n\t}\r\n\t.trailer {\r\n\t\tmargin: 20px 0;\r\n\t}\r\n\t.genres {\r\n\t\tdisplay: flex;\r\n\t\tflex-wrap: wrap;\r\n\t\tmargin-top: 20px;\r\n\t\ta {\r\n\t\t\tborder: 1px rgba(0, 0, 0, 0.4) solid;\r\n\t\t\tcolor: #4c5264;\r\n\t\t\tbackground-color: white;\r\n\t\t\tborder-radius: 7px;\r\n\t\t\tmargin: 5px 0;\r\n\t\t\tmargin-right: 10px;\r\n\t\t\tpadding: 2px 5px;\r\n\t\t}\r\n\t}\r\n\t.add-btn {\r\n\t\tcursor: pointer;\r\n\t\tborder: none;\r\n\t\tborder-radius: 4px;\r\n\t\tbackground-color: #70c7a7;\r\n\t\twidth: max-content;\r\n\t\tpadding: 3px 5px;\r\n\t\tcolor: whitesmoke;\r\n\t\ttransition: 0.2s;\r\n\t\tbox-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.3);\r\n\t\t&:hover {\r\n\t\t\tbackground-color: #5d9e86;\r\n\t\t\tcolor: white;\r\n\t\t}\r\n\t\t&:disabled {\r\n\t\t\tbackground-color: grey;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 768px) {\r\n\t\twidth: 100%;\r\n\t\tmargin: 0;\r\n\t\th1 {\r\n\t\t\tfont-size: 2rem;\r\n\t\t}\r\n\t\t.img-and-desc {\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin-bottom: 10px;\r\n\t\t\tp {\r\n\t\t\t\tfont-size: 1rem;\r\n\t\t\t\twidth: 70%;\r\n\t\t\t}\r\n\t\t\t.mobile-img-cont {\r\n\t\t\t\twidth: 30%;\r\n\t\t\t\theight: auto;\r\n\t\t\t\tmargin-right: 15px;\r\n\t\t\t\t.mobile-img {\r\n\t\t\t\t\tdisplay: block;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.genres {\r\n\t\t\tmargin-top: 5px;\r\n\t\t}\r\n\r\n\t\t@media screen and (max-width: 480px) {\r\n\t\t\tmargin-top: 20px;\r\n\t\t\th1 {\r\n\t\t\t\tfont-size: 1.8rem;\r\n\t\t\t}\r\n\t\t\t.img-and-desc {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\tmargin-bottom: 10px;\r\n\t\t\t\tp {\r\n\t\t\t\t\tfont-size: 0.8rem;\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tmargin-bottom: 0;\r\n\t\t\t\t\tmargin-top: 20px;\r\n\t\t\t\t}\r\n\t\t\t\t.mobile-img-cont {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\tmargin-right: 0px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tiframe {\r\n\t\t\t\theight: 220px;\r\n\t\t\t}\r\n\t\t\t.genres {\r\n\t\t\t\tli {\r\n\t\t\t\t\tfont-size: 0.9rem;\r\n\t\t\t\t\tmargin: 5px 5px 5px 0;\r\n\t\t\t\t\tpadding: 2px 5px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`\r\nexport default function RightSide({ data, handleFavorites, isFavorite }) {\r\n\treturn (\r\n\t\t<Section>\r\n\t\t\t<h1>{data.title.english || data.title.romaji}</h1>\r\n\t\t\t<div className=\"img-and-desc\">\r\n\t\t\t\t<div className=\"mobile-img-cont\">\r\n\t\t\t\t\t<img className=\"mobile-img\" src={data.coverImage.extraLarge} alt=\"\" />\r\n\t\t\t\t</div>\r\n\t\t\t\t<p dangerouslySetInnerHTML={{ __html: data.description }}></p>\r\n\t\t\t</div>\r\n\t\t\t<button\r\n\t\t\t\tdisabled={isFavorite}\r\n\t\t\t\tclassName=\"add-btn\"\r\n\t\t\t\tonClick={() => handleFavorites()}>\r\n\t\t\t\t{isFavorite ? \"Added\" : \"Add to Favorites\"}\r\n\t\t\t</button>\r\n\t\t\t<ul className=\"genres\">\r\n\t\t\t\t{data.genres.map((genre, index) => (\r\n\t\t\t\t\t<Link key={index} to={`/search?genre=${genre}`}>\r\n\t\t\t\t\t\t{genre}\r\n\t\t\t\t\t</Link>\r\n\t\t\t\t))}\r\n\t\t\t</ul>\r\n\t\t\t{data.trailer && (\r\n\t\t\t\t<iframe\r\n\t\t\t\t\tallowFullScreen\r\n\t\t\t\t\tclassName=\"trailer\"\r\n\t\t\t\t\ttitle={data.title}\r\n\t\t\t\t\twidth=\"100%\"\r\n\t\t\t\t\theight=\"350px\"\r\n\t\t\t\t\tsrc={`https://www.youtube.com/embed/${data.trailer.id}`}></iframe>\r\n\t\t\t)}\r\n\t\t</Section>\r\n\t)\r\n}\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport { Link } from \"react-router-dom\"\r\nconst Section = styled.section`\r\n\twidth: 35%;\r\n\timg {\r\n\t\twidth: 100%;\r\n\t\tborder-radius: 5px;\r\n\t\tbox-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);\r\n\t}\r\n\t.details {\r\n\t\tmargin: 20px 0;\r\n\t\tpadding: 5px 20px;\r\n\t\tborder-radius: 3px;\r\n\t\tbackground-color: white;\r\n\t\tbox-shadow: 2px 2px 2px 2px rgba(0, 0, 0, 0.1);\r\n\t\tli {\r\n\t\t\twidth: 100%;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tmargin: 10px 0;\r\n\t\t\tcolor: black;\r\n\t\t\tfont-size: 1.1rem;\r\n\t\t\tspan {\r\n\t\t\t\tcolor: #4c5264;\r\n\t\t\t\tfont-size: 1rem;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 768px) {\r\n\t\twidth: 100%;\r\n\t\t.details {\r\n\t\t\tmargin: 0;\r\n\t\t\tpadding: 10px 20px;\r\n\t\t\tborder-radius: 0;\r\n\t\t\tbox-shadow: none;\r\n\t\t\tli {\r\n\t\t\t\tmargin: 5px 0;\r\n\t\t\t\tfont-size: 1rem;\r\n\t\t\t\tspan {\r\n\t\t\t\t\tfont-size: 0.9rem;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\t.desktop-img {\r\n\t\t\tdisplay: none;\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 480px) {\r\n\t\t.details {\r\n\t\t\tpadding: 5px 10px;\r\n\t\t\tli {\r\n\t\t\t\tfont-size: 0.9rem;\r\n\t\t\t\tspan {\r\n\t\t\t\t\tfont-size: 0.85rem;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`\r\nexport default function LeftSide({ data, handleFavorites, isFavorite }) {\r\n\treturn (\r\n\t\t<Section>\r\n\t\t\t<img className=\"desktop-img\" src={data.coverImage.extraLarge} alt=\"\" />\r\n\t\t\t<button\r\n\t\t\t\tdisabled={isFavorite}\r\n\t\t\t\tclassName=\"add-btn\"\r\n\t\t\t\tonClick={() => handleFavorites()}>\r\n\t\t\t\t{isFavorite ? \"Added\" : \"Add to Favorites\"}\r\n\t\t\t</button>\r\n\t\t\t<ul className=\"details\">\r\n\t\t\t\t<li>\r\n\t\t\t\t\tSeason\r\n\t\t\t\t\t<span>\r\n\t\t\t\t\t\t{data.season} {data.seasonYear}\r\n\t\t\t\t\t</span>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\tFormat <span>{data.format}</span>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\tEpisodes <span>{data.episodes}</span>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\tDuration <span>{data.duration} min</span>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\tStatus <span>{data.status}</span>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li>\r\n\t\t\t\t\tStudio <span>{data.studios?.edges[0]?.node?.name}</span>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</Section>\r\n\t)\r\n}\r\n","import React from \"react\"\r\nimport styled from \"styled-components\"\r\nimport { Link } from \"react-router-dom\"\r\n\r\nexport default function Characters({ data }) {\r\n\treturn (\r\n\t\t<Section>\r\n\t\t\t<h2>Main characters</h2>\r\n\t\t\t<div className=\"characters-container\">\r\n\t\t\t\t{data.characters.edges.map(\r\n\t\t\t\t\t({\r\n\t\t\t\t\t\tnode: {\r\n\t\t\t\t\t\t\tname: { full: name },\r\n\t\t\t\t\t\t\timage,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}) => (\r\n\t\t\t\t\t\t<div className=\"character-card\" key={name}>\r\n\t\t\t\t\t\t\t<img src={image.large} alt={name} />\r\n\t\t\t\t\t\t\t<p>{name}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)\r\n\t\t\t\t)}\r\n\t\t\t</div>\r\n\t\t</Section>\r\n\t)\r\n}\r\nconst Section = styled.section`\r\n\tmax-width: 1200px;\r\n\tpadding: 0 50px;\r\n\tmargin: 20px auto;\r\n\th2 {\r\n\t\tmargin: 20px 0;\r\n\t\tpadding: 0;\r\n\t\tfont-size: 2.5rem;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: ${({ theme }) => theme.header};\r\n\t}\r\n\t.characters-container {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(6, minmax(120px, 1fr));\r\n\t\tjustify-content: space-between;\r\n\t\tcolumn-gap: 20px;\r\n\t\trow-gap: 20px;\r\n\t\t.character-card {\r\n\t\t\timg {\r\n\t\t\t\tborder-radius: 5px;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 210px;\r\n\t\t\t\tobject-fit: cover;\r\n\t\t\t}\r\n\t\t\tp {\r\n\t\t\t\tcolor: ${({ theme }) => theme.text};\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 1024px) {\r\n\t\t.characters-container {\r\n\t\t\tgrid-template-columns: repeat(5, minmax(120px, 1fr));\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 900px) {\r\n\t\t.characters-container {\r\n\t\t\t.character-card {\r\n\t\t\t\timg {\r\n\t\t\t\t\theight: 200px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 768px) {\r\n\t\tpadding: 0 20px;\r\n\t\th2 {\r\n\t\t\tmargin: 20px 0;\r\n\t\t\tfont-size: 1.8rem;\r\n\t\t\tfont-weight: 600;\r\n\t\t}\r\n\t\t.characters-container {\r\n\t\t\tgrid-template-columns: repeat(4, minmax(100px, 1fr));\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 620px) {\r\n\t\t.characters-container {\r\n\t\t\tgrid-template-columns: repeat(4, minmax(80px, 1fr));\r\n\t\t\t.character-card {\r\n\t\t\t\timg {\r\n\t\t\t\t\theight: 150px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 480px) {\r\n\t\t.characters-container {\r\n\t\t\tgrid-template-columns: repeat(3, 1fr);\r\n\t\t\t.character-card {\r\n\t\t\t\tp {\r\n\t\t\t\t\tfont-size: 0.8rem;\r\n\t\t\t\t}\r\n\t\t\t\timg {\r\n\t\t\t\t\theight: 170px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t@media screen and (max-width: 400px) {\r\n\t\t.characters-container {\r\n\t\t\tgrid-template-columns: repeat(3, 1fr);\r\n\t\t\t.character-card {\r\n\t\t\t\timg {\r\n\t\t\t\t\theight: 140px;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n`\r\n","import React, { useContext, useEffect, useState } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport animeAPI from \"../api/anime/animeAPI\"\r\nimport Comments from \"../components/Anime/Comments\"\r\nimport { addToFavorites } from \"../api/user/favorite\"\r\nimport UserContext from \"../UserContext\"\r\nimport RightSide from \"../components/Anime/RightSide\"\r\nimport LeftSide from \"../components/Anime/LeftSide\"\r\nimport Characters from \"../components/Anime/Characters\"\r\n\r\nexport default function Anime({ match }) {\r\n\tconst [data, setData] = useState(null)\r\n\tconst [isFavorite, setIsFavorite] = useState(false)\r\n\tconst { user, setUser } = useContext(UserContext)\r\n\tconst page_id = match.params.id\r\n\r\n\tuseEffect(() => {\r\n\t\tanimeAPI(page_id).then(data => setData(data))\r\n\t\tsetIsFavorite(checkIsFavorite())\r\n\t}, [user])\r\n\r\n\tconst checkIsFavorite = () => {\r\n\t\treturn user?.favorites?.some(item => item.page_id == page_id)\r\n\t}\r\n\r\n\tconst handleFavorites = async () => {\r\n\t\tif (user) {\r\n\t\t\tconst { data: favorites, message } = await addToFavorites(\r\n\t\t\t\tuser.user_id,\r\n\t\t\t\tpage_id,\r\n\t\t\t\tdata.coverImage.extraLarge,\r\n\t\t\t\tdata.title.english || data.title.romaji\r\n\t\t\t)\r\n\t\t\tif (data) {\r\n\t\t\t\tsetIsFavorite(true)\r\n\t\t\t\tuser.favorites = favorites\r\n\t\t\t\tsetUser(user)\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\t\t\treturn console.log(message)\r\n\t\t}\r\n\t}\r\n\r\n\tif (data)\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<div className=\"flex-container\">\r\n\t\t\t\t\t<LeftSide\r\n\t\t\t\t\t\thandleFavorites={handleFavorites}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\tisFavorite={isFavorite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<RightSide\r\n\t\t\t\t\t\thandleFavorites={handleFavorites}\r\n\t\t\t\t\t\tdata={data}\r\n\t\t\t\t\t\tisFavorite={isFavorite}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Characters data={data} />\r\n\t\t\t\t<Comments page_id={match.params.id} />\r\n\t\t\t</Container>\r\n\t\t)\r\n\treturn <div>Loading</div>\r\n}\r\n\r\nconst Container = styled.div`\r\n\tpadding: 50px 0;\r\n\t.flex-container {\r\n\t\twidth: 100%;\r\n\t\tmax-width: 1200px;\r\n\t\tpadding: 0 50px;\r\n\t\tmargin: auto;\r\n\t\tdisplay: flex;\r\n\t}\r\n\r\n\t@media screen and (max-width: 768px) {\r\n\t\tpadding: 20px 0;\r\n\t\t.flex-container {\r\n\t\t\tflex-direction: column-reverse;\r\n\t\t\tpadding: 0 20px;\r\n\t\t}\r\n\t}\r\n\r\n\t@media screen and (max-width: 480px) {\r\n\t\tpadding: 0;\r\n\t\t.flex-container {\r\n\t\t}\r\n\t}\r\n`\r\n","import React, { useState, useContext } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport UserContext from \"../UserContext\"\r\nimport styled from \"styled-components\"\r\nimport { registerHandler } from \"../api/user/auth\"\r\nconst Div = styled.div`\r\n\th1 {\r\n\t\tmargin-top: 50px;\r\n\t\ttext-align: center;\r\n\t}\r\n\tform {\r\n\t\tmargin: 0 auto;\r\n\t\tmargin-top: 50px;\r\n\t\twidth: 500px;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tinput {\r\n\t\t\twidth: 100%;\r\n\t\t\tmargin: 10px 0;\r\n\t\t\theight: 40px;\r\n\t\t\tfont-size: 1.2rem;\r\n\t\t}\r\n\t\tbutton {\r\n\t\t\twidth: 200px;\r\n\t\t\theight: 50px;\r\n\t\t\talign-self: center;\r\n\t\t}\r\n\t}\r\n`\r\nexport default function Register() {\r\n\tconst { user, setUser } = useContext(UserContext)\r\n\r\n\tconst [form, setForm] = useState({\r\n\t\tusername: null,\r\n\t\temail: null,\r\n\t\tpassword: null,\r\n\t\tpassword2: null,\r\n\t})\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst [message, setMessage] = useState(null)\r\n\r\n\tconst handleChange = e => {\r\n\t\tsetForm({ ...form, [e.target.name]: e.target.value })\r\n\t}\r\n\tconst handleSubmit = async e => {\r\n\t\te.preventDefault()\r\n\t\tsetLoading(true)\r\n\t\tconst { message, data } = await registerHandler(form)\r\n\t\tsetLoading(false)\r\n\t\tsetMessage(message)\r\n\t\tif (data) {\r\n\t\t\tsetUser(data)\r\n\t\t}\r\n\t}\r\n\treturn (\r\n\t\t<Div>\r\n\t\t\t<h1>Register</h1>\r\n\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tplaceholder=\"Username\"\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\ttype=\"email\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tplaceholder=\"Email\"\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tplaceholder=\"Password\"\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"password2\"\r\n\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\trequired\r\n\t\t\t\t\tplaceholder=\"Confirm password\"\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t/>\r\n\t\t\t\t<button disabled={loading} type=\"submit\">\r\n\t\t\t\t\tRegister\r\n\t\t\t\t</button>\r\n\t\t\t\t<span>{message}</span>\r\n\t\t\t\t<Link to=\"/login\">Login</Link>\r\n\t\t\t</form>\r\n\t\t</Div>\r\n\t)\r\n}\r\n","const options = (method = \"GET\", body = null) => {\r\n\t\treturn {\r\n\t\t\tmethod,\r\n\t\t\theaders: {\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\tAuthorization: localStorage.getItem(\"auth\"),\r\n\t\t\t},\r\n\t\t\tbody: JSON.stringify({ data: body }),\r\n\t\t}\r\n\t},\r\n\turl = \"http://localhost:80\"\r\n\r\nexport const changePassword = async (email, password) => {}\r\n\r\nexport const uploadAvatar = async image => {\r\n\tconst res = await fetch(`${url}/api/user/avatar`, options(\"POST\", image))\r\n\tconst { avatar, message, token } = await res.json()\r\n\tif (res.ok) {\r\n\t\tlocalStorage.setItem(\"auth\", token)\r\n\t\treturn { avatar, message }\r\n\t}\r\n\treturn { message }\r\n}\r\n","import { useState } from \"react\"\r\nimport { uploadAvatar } from \"../../api/user/user.update\"\r\nimport styled from \"styled-components\"\r\n\r\nexport default function UploadAvatar({ user, setUser }) {\r\n\tconst [fileInput, setFileInput] = useState(\"\")\r\n\tconst [previewImg, setPreviewImg] = useState(null)\r\n\tconst [b64Img, setB64Img] = useState(null)\r\n\tconst [message, setMessage] = useState(null)\r\n\r\n\tconst handleFileInput = e => {\r\n\t\tconst file = e.target.files[0]\r\n\t\tif (file.size / 1024 > 1500) {\r\n\t\t\tsetFileInput(\"\")\r\n\t\t\treturn setMessage(\"Image size must not exceed 1.5MB\")\r\n\t\t}\r\n\t\tsetFileInput(e.target.value)\r\n\t\tconst reader = new FileReader()\r\n\t\treader.readAsDataURL(file)\r\n\t\treader.onloadend = () => {\r\n\t\t\tsetB64Img(reader.result)\r\n\t\t\tsetPreviewImg(reader.result)\r\n\t\t}\r\n\t\treader.onerror = () => {\r\n\t\t\tsetMessage(\"Something went wrong!\")\r\n\t\t}\r\n\t}\r\n\r\n\tconst handleSubmit = async e => {\r\n\t\te.preventDefault()\r\n\t\tsetMessage(\"Loading...\")\r\n\t\tsetPreviewImg(null)\r\n\t\tif (!b64Img) return setMessage(\"Please select an image\")\r\n\t\tconst { message, avatar } = await uploadAvatar(b64Img)\r\n\t\tsetMessage(message)\r\n\t\tif (avatar) {\r\n\t\t\tsetUser({ ...user, avatar })\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"img-upload\">\r\n\t\t\t<h1 className=\"title\">Upload an Image</h1>\r\n\t\t\t<div>{message}</div>\r\n\t\t\t<form onSubmit={handleSubmit} className=\"form\">\r\n\t\t\t\t<input\r\n\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\taccept=\"image/*\"\r\n\t\t\t\t\tonChange={handleFileInput}\r\n\t\t\t\t\tvalue={fileInput}\r\n\t\t\t\t\tclassName=\"form-input\"\r\n\t\t\t\t/>\r\n\t\t\t\t<button className=\"btn\" type=\"submit\">\r\n\t\t\t\t\tSubmit\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\t\t\t{previewImg && (\r\n\t\t\t\t<img src={b64Img} alt=\"chosen\" style={{ height: \"300px\" }} />\r\n\t\t\t)}\r\n\t\t</div>\r\n\t)\r\n}\r\n","import { useContext, useState, useEffect } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport { Link } from \"react-router-dom\"\r\nimport { removeFavorite } from \"../../api/user/favorite\"\r\nimport UserContext from \"../../UserContext\"\r\nconst Container = styled.section`\r\n\th2 {\r\n\t\tmargin: 20px 0;\r\n\t\tfont-size: 2rem;\r\n\t}\r\n\t.list {\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(6, 1fr);\r\n\t}\r\n\tbutton {\r\n\t\tcursor: pointer;\r\n\t\twidth: max-content;\r\n\t\tborder: none;\r\n\t\tborder-radius: 4px;\r\n\t\tbackground-color: rgb(199, 77, 77);\r\n\t\tcolor: white;\r\n\t\tmargin-top: 5px;\r\n\t\tpadding: 3px 5px;\r\n\t\t&:disabled {\r\n\t\t\tbackground-color: grey;\r\n\t\t}\r\n\t}\r\n`\r\n\r\nexport default function Favorites() {\r\n\tconst { user, setUser } = useContext(UserContext)\r\n\r\n\treturn user.favorites?.length ? (\r\n\t\t<Container>\r\n\t\t\t<h2>Your favorites</h2>\r\n\t\t\t<div className=\"list\">\r\n\t\t\t\t{user.favorites.map((item, index) => (\r\n\t\t\t\t\t<Card key={index} item={item} user={user} setUser={setUser} />\r\n\t\t\t\t))}\r\n\t\t\t</div>\r\n\t\t</Container>\r\n\t) : (\r\n\t\t<div>You have no favorites. Why not to browse anime?</div>\r\n\t)\r\n}\r\n\r\nconst CardContainer = styled.div`\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\timg {\r\n\t\twidth: 120px;\r\n\t\theight: 170px;\r\n\t\tobject-fit: cover;\r\n\t\tborder-radius: 5px;\r\n\t}\r\n`\r\n\r\nconst Card = ({ item, user, setUser }) => {\r\n\tconst [message, setMessage] = useState(null)\r\n\tconst [loading, setloading] = useState(false)\r\n\r\n\tconst handleRemove = async page_id => {\r\n\t\tsetloading(true)\r\n\t\tconst { data = null, message } = await removeFavorite(page_id)\r\n\t\tsetMessage(message)\r\n\t\tif (!data) return\r\n\t\tsetUser({ ...user, favorites: data })\r\n\t\tsetloading(false)\r\n\t}\r\n\treturn (\r\n\t\t<CardContainer>\r\n\t\t\t<Link to={`/anime/${item.page_id}`}>\r\n\t\t\t\t<img src={item.cover_image} alt=\"\" />\r\n\t\t\t</Link>\r\n\t\t\t<Link to={`/anime/${item.page_id}`}>{item.title}</Link>\r\n\t\t\t<button disabled={loading} onClick={() => handleRemove(item.page_id)}>\r\n\t\t\t\t{loading ? \"Removing\" : \"Remove\"}\r\n\t\t\t</button>\r\n\t\t</CardContainer>\r\n\t)\r\n}\r\n","import { useState, useEffect } from \"react\"\r\nimport { Link } from \"react-router-dom\"\r\nimport styled from \"styled-components\"\r\nconst SideNav = styled.aside`\r\n\twidth: 500px;\r\n\t.username span {\r\n\t\ttext-transform: uppercase;\r\n\t\tfont-size: 1.4rem;\r\n\t\tfont-weight: 600;\r\n\t}\r\n\t.links {\r\n\t\tmargin: 20px 30px;\r\n\t\tli {\r\n\t\t\twidth: 100%;\r\n\t\t\ta {\r\n\t\t\t\tdisplay: block;\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tmargin: 10px 0;\r\n\t\t\t\ttext-transform: uppercase;\r\n\t\t\t\tfont-size: 1.5rem;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.link {\r\n\t\ta {\r\n\t\t\tcolor: black;\r\n\t\t}\r\n\t}\r\n\t.link-active {\r\n\t\ta {\r\n\t\t\tborder-left: #ff4834 4px solid;\r\n\t\t\tpadding-left: 20px;\r\n\t\t\tcolor: #ff4834;\r\n\t\t}\r\n\t}\r\n\t@media (max-width: 1024px) {\r\n\t\twidth: 350px;\r\n\t}\r\n\t@media (max-width: 768px) {\r\n\t\t.username span {\r\n\t\t\tfont-size: 1.2rem;\r\n\t\t}\r\n\t\twidth: 100%;\r\n\t}\r\n`\r\nexport default function Sidebar() {\r\n\tconst link = \"profile\"\r\n\treturn (\r\n\t\t<SideNav>\r\n\t\t\t<div className=\"username\">\r\n\t\t\t\t<span>Welcome, </span>\r\n\t\t\t</div>\r\n\t\t\t<ul className=\"links\">\r\n\t\t\t\t<li className={link === \"profile\" ? \"link-active\" : \"link\"}>\r\n\t\t\t\t\t<Link to=\"/\">Profile</Link>\r\n\t\t\t\t</li>\r\n\t\t\t\t<li className={link === \"orders\" ? \"link-active\" : \"link\"}>\r\n\t\t\t\t\t<Link to=\"/\">Orders</Link>\r\n\t\t\t\t</li>\r\n\t\t\t</ul>\r\n\t\t</SideNav>\r\n\t)\r\n}\r\n","import React, { useState, useContext } from \"react\"\r\nimport styled from \"styled-components\"\r\nimport UserContext from \"../UserContext\"\r\nimport UploadAvatar from \"../components/User/UploadAvatar\"\r\nimport Favorites from \"../components/User/Favorites\"\r\nimport Sidebar from \"../components/User/Sidebar\"\r\nconst Container = styled.div`\r\n\tmax-width: 1100px;\r\n\tpadding: 0 50px;\r\n\tmargin: auto;\r\n\timg.avatar {\r\n\t\twidth: 100px;\r\n\t}\r\n\t.preview-img {\r\n\t\theight: 200px;\r\n\t}\r\n`\r\nexport default function User() {\r\n\tconst { user, setUser } = useContext(UserContext)\r\n\tconst handleClick = () => {\r\n\t\tlocalStorage.removeItem(\"auth\")\r\n\t\tsetUser(null)\r\n\t}\r\n\t// password update\r\n\tconst [oldPassword, setOldPass] = useState(\"\")\r\n\tconst [newPassword, setNewPass] = useState(\"\")\r\n\tconst updatePassword = async e => {\r\n\t\te.preventDefault()\r\n\t\tconst res = await fetch(\"http://localhost:80/api/user/update/password\", {\r\n\t\t\theaders: {\r\n\t\t\t\tAccept: \"application/json\",\r\n\t\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t\t},\r\n\t\t\tmethod: \"PUT\",\r\n\t\t\tbody: JSON.stringify({\r\n\t\t\t\temail: user.email,\r\n\t\t\t\toldPassword,\r\n\t\t\t\tnewPassword,\r\n\t\t\t\ttoken: localStorage.getItem(\"auth\"),\r\n\t\t\t}),\r\n\t\t})\r\n\t\tif (res.ok) {\r\n\t\t\tlocalStorage.removeItem(\"auth\")\r\n\t\t\tsetUser(null)\r\n\t\t}\r\n\t\tconst json = await res.json()\r\n\t\tconsole.log(json)\r\n\t}\r\n\r\n\tif (user)\r\n\t\treturn (\r\n\t\t\t<Container>\r\n\t\t\t\t<Sidebar />\r\n\t\t\t\t<h1>Hello, {user.username}</h1>\r\n\t\t\t\t<img className=\"avatar\" src={user.avatar} alt=\"\" />\r\n\t\t\t\t<button onClick={handleClick}>Logout</button>\r\n\t\t\t\t<UploadAvatar user={user} setUser={setUser} />\r\n\t\t\t\t<div className=\"password-update\">\r\n\t\t\t\t\t<h2>Update password</h2>\r\n\t\t\t\t\t<form onSubmit={updatePassword}>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tdefaultValue={oldPassword}\r\n\t\t\t\t\t\t\tplaceholder=\"old pass\"\r\n\t\t\t\t\t\t\tonChange={e => setOldPass(e.target.value)}\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\tdefaultValue={newPassword}\r\n\t\t\t\t\t\t\tonChange={e => setNewPass(e.target.value)}\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t<button type=\"submit\">update</button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Favorites />\r\n\t\t\t</Container>\r\n\t\t)\r\n\treturn <div>Loading...</div>\r\n}\r\n","export const lightTheme = {\r\n\ttheme: \"light\",\r\n\tbody: \"#edf1f5\",\r\n\theader: \"#3f4453\",\r\n\ttext: \"#4c5264\",\r\n\tscrollbar: \"#e4e4e4\",\r\n\tboxShadow: \"0px 0px 5px rgba(0, 0, 0, 0.05)\",\r\n\tcommentBg: \"white\",\r\n}\r\n\r\nexport const darkTheme = {\r\n\ttheme: \"dark\",\r\n\tbody: \"#161e29\",\r\n\theader: \"#f5f5f5\",\r\n\ttext: \"#d3d3d3\",\r\n\tscrollbar: \"darkgrey\",\r\n\tboxShadow: \"0px 0px 10px 3px rgba(255, 255, 255, 0.3)\",\r\n\tcommentBg: \"#32343b\",\r\n}\r\n","import { useEffect, useState } from \"react\"\nimport Navbar from \"./components/Navbar\"\nimport {\n\tBrowserRouter as Router,\n\tSwitch,\n\tRoute,\n\tRedirect,\n} from \"react-router-dom\"\nimport { createGlobalStyle, ThemeProvider } from \"styled-components\"\nimport Home from \"./pages/HomePage\"\nimport Login from \"./pages/LoginPage\"\nimport Search from \"./pages/SearchPage\"\nimport Anime from \"./pages/AnimePage\"\nimport Register from \"./pages/RegisterPage\"\nimport User from \"./pages/UserPage\"\nimport UserContext from \"./UserContext\"\nimport { tokenHandler } from \"./api/user/auth\"\nimport { getFavorites } from \"./api/user/favorite\"\nimport { lightTheme, darkTheme } from \"./utlis/theme\"\n\nconst GlobalStyle = createGlobalStyle`\n  * {\n    margin: 0;\n    padding: 0;\n\t\tbox-sizing: border-box;\n\t\tfont-family: 'Overpass', sans-serif;\n\t}\n\tbody{\n\t\t\t\tbackground: ${({ theme }) => theme.body};\n\t}\n\ta {\n\t\ttext-decoration: none;\n\t}\n`\nexport default function App() {\n\tconst [user, setUser] = useState(null)\n\tconst [theme, setTheme] = useState(lightTheme)\n\n\tconst getUserData = async () => {\n\t\tconst data = await tokenHandler()\n\t\tif (data) {\n\t\t\tconst favorites = await getFavorites()\n\t\t\tsetUser({ ...data, favorites })\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tconst userTheme = localStorage.getItem(\"theme\")\n\t\tsetTheme(userTheme === \"dark\" ? darkTheme : lightTheme)\n\n\t\tgetUserData()\n\t}, [])\n\tconst switchTheme = theme => {\n\t\tsetTheme(theme === \"dark\" ? darkTheme : lightTheme)\n\t\tlocalStorage.setItem(\"theme\", theme)\n\t}\n\treturn (\n\t\t<ThemeProvider theme={theme}>\n\t\t\t<Router>\n\t\t\t\t<GlobalStyle />\n\t\t\t\t<div className=\"App\">\n\t\t\t\t\t<UserContext.Provider value={{ user, setUser }}>\n\t\t\t\t\t\t<Navbar user={user} theme={theme.theme} switchTheme={switchTheme} />\n\t\t\t\t\t\t<Switch>\n\t\t\t\t\t\t\t<Route exact path=\"/\" component={Home} />\n\t\t\t\t\t\t\t<Route path=\"/anime/:id\" component={Anime} />\n\t\t\t\t\t\t\t<Route path=\"/search\" component={Search} />\n\t\t\t\t\t\t\t<Route exact path=\"/user/:username\">\n\t\t\t\t\t\t\t\t{user ? <User /> : <Redirect to=\"/login\" />}\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route exact path=\"/login\">\n\t\t\t\t\t\t\t\t{user ? <Redirect to={`/user/${user.username}`} /> : <Login />}\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t\t<Route exact path=\"/register\">\n\t\t\t\t\t\t\t\t{user ? (\n\t\t\t\t\t\t\t\t\t<Redirect to={`/user/${user.username}`} />\n\t\t\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t\t\t<Register />\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</Route>\n\t\t\t\t\t\t</Switch>\n\t\t\t\t\t</UserContext.Provider>\n\t\t\t\t</div>\n\t\t\t</Router>\n\t\t</ThemeProvider>\n\t)\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./App\"\n\nReactDOM.render(\n\t<React.StrictMode>\n\t\t<App />\n\t</React.StrictMode>,\n\tdocument.getElementById(\"root\")\n)\n"],"sourceRoot":""}