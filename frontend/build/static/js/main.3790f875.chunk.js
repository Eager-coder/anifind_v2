(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{47:function(t,n,e){"use strict";e.r(n);var r=e(0),a=e(1),i=e.n(a),c=e(30),o=e.n(c),s=e(2),d=e.n(s),p=e(7),u=e(6),l=e(4),m=e(5),h=e(8),x=e(3);function b(){var t=Object(m.a)(['\n\twidth: 100%;\n\t/* background-color: #4c5264; //current color */\n\tbackground-color: #32343b;\n\n\t.nav-container {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tpadding: 0 50px;\n\t\twidth: 100%;\n\t\tmax-width: 1200px;\n\t\theight: 4rem;\n\t\tmargin: auto;\n\t\tspan.logo {\n\t\t\tcursor: pointer;\n\t\t\tborder-radius: 7px;\n\t\t\tfont-size: 2.5rem;\n\t\t\tfont-weight: 600;\n\t\t\tcolor: white;\n\t\t\t&::after {\n\t\t\t\tcontent: "Find";\n\t\t\t\tcolor: #70c7a7;\n\t\t\t}\n\t\t}\n\t}\n\t.nav-links {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tcolor: white;\n\t\ta {\n\t\t\tfont-size: 1.2rem;\n\t\t\tcolor: white;\n\t\t\tfont-weight: 600;\n\t\t\tborder-bottom: 2px #70c7a7 solid;\n\t\t}\n\t\timg {\n\t\t\tcursor: pointer;\n\t\t\theight: 25px;\n\t\t\tfilter: invert(1);\n\t\t\tmargin-right: 20px;\n\t\t}\n\t}\n\t@media screen and (max-width: 768px) {\n\t\t.nav-container {\n\t\t\theight: 3.5rem;\n\t\t\tpadding: 0 20px;\n\t\t\tspan {\n\t\t\t\tfont-size: 2rem;\n\t\t\t}\n\t\t\t.nav-links a {\n\t\t\t\tfont-size: 1rem;\n\t\t\t}\n\t\t}\n\t}\n']);return b=function(){return t},t}var g=x.c.nav(b());function j(t){var n=t.user,e=t.theme,a=t.switchTheme;return Object(r.jsx)(g,{children:Object(r.jsxs)("div",{className:"nav-container",children:[Object(r.jsx)(h.b,{to:"/",children:Object(r.jsx)("span",{className:"logo",children:"Ani"})}),Object(r.jsxs)("div",{className:"nav-links",children:[Object(r.jsx)("img",{onClick:function(){a("light"===e?"dark":"light")},src:"/assets/icons/".concat("dark"===e?"moon":"sun",".svg"),alt:""}),n?Object(r.jsx)(h.b,{to:"/user/".concat(n.username),children:n.username}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(h.b,{to:"/login",children:"Login"})," |",Object(r.jsx)(h.b,{to:"/register",children:"Register"})]})]})]})})}var f=e(9),O=function(){var t=Object(u.a)(d.a.mark((function t(){var n,e,r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"\n  query popular {\n    trending: Page (page: 1) {\n      pageInfo {\n        total\n        currentPage\n        lastPage\n        hasNextPage\n        perPage\n      }\n      media(sort: TRENDING_DESC) {\n        id\n        title {\n          romaji\n          english\n          native\n          userPreferred\n        }\n        coverImage {\n          extraLarge\n          color\n        }\n      }\n    }\n    top: Page (page: 1) {\n      pageInfo {\n        total\n        currentPage\n        lastPage\n        hasNextPage\n        perPage\n      }\n      media(sort: POPULARITY_DESC) {\n        id\n        title {\n          romaji\n          english\n          native\n          userPreferred\n        }\n        coverImage {\n          extraLarge\n          color\n        }\n      }\n    }\n  }\n  \n    ","https://graphql.anilist.co",n={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:"\n  query popular {\n    trending: Page (page: 1) {\n      pageInfo {\n        total\n        currentPage\n        lastPage\n        hasNextPage\n        perPage\n      }\n      media(sort: TRENDING_DESC) {\n        id\n        title {\n          romaji\n          english\n          native\n          userPreferred\n        }\n        coverImage {\n          extraLarge\n          color\n        }\n      }\n    }\n    top: Page (page: 1) {\n      pageInfo {\n        total\n        currentPage\n        lastPage\n        hasNextPage\n        perPage\n      }\n      media(sort: POPULARITY_DESC) {\n        id\n        title {\n          romaji\n          english\n          native\n          userPreferred\n        }\n        coverImage {\n          extraLarge\n          color\n        }\n      }\n    }\n  }\n  \n    "})},t.prev=2,t.next=5,fetch("https://graphql.anilist.co",n);case 5:return e=t.sent,t.next=8,e.json();case 8:return r=t.sent,a=r.data,t.abrupt("return",a);case 13:t.prev=13,t.t0=t.catch(2),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[2,13]])})));return function(){return t.apply(this,arguments)}}(),v=e(14),y=e.n(v);function w(){var t=Object(m.a)(["\n\twidth: 100%;\n\tmax-width: 1200px;\n\tpadding: 0 50px;\n\tmargin: auto;\n\tmargin-bottom: 50px;\n\tposition: relative;\n\th2 {\n\t\tfont-size: 2.5rem;\n\t\tmargin-bottom: 20px;\n\t\tcolor: ",";\n\t}\n\t.next-btn,\n\t.prev-btn {\n\t\tcursor: pointer;\n\t\twidth: 40px;\n\t\tpadding: 10px;\n\t\tbackground-color: #4c5264;\n\t\tborder-radius: 50%;\n\t\tposition: absolute;\n\t\tright: 0;\n\t\ttop: 50%;\n\t\ttransform: translateY(-50%);\n\t\topacity: 0.4;\n\t\ttransition: 0.2s;\n\t\t&:hover {\n\t\t\topacity: 1;\n\t\t}\n\t}\n\t.next-btn {\n\t\tright: 0;\n\t}\n\t.prev-btn {\n\t\tleft: 0;\n\t}\n\t.card-container {\n\t\tdisplay: flex;\n\t\twidth: 100%;\n\t\tscroll-behavior: smooth;\n\t\toverflow-x: hidden;\n\t\t.card {\n\t\t\tmargin-right: 15px;\n\t\t\twidth: 150px;\n\t\t\timg {\n\t\t\t\tborder-radius: 7px;\n\t\t\t\twidth: 150px;\n\t\t\t\theight: 210px;\n\t\t\t}\n\t\t\tp {\n\t\t\t\tcolor: ",";\n\t\t\t}\n\t\t}\n\t}\n\n\t@media screen and (max-width: 768px) {\n\t\tpadding: 0 20px;\n\t\th2 {\n\t\t\tfont-size: 2rem;\n\t\t}\n\t\t.next-btn,\n\t\t.prev-btn {\n\t\t\twidth: 40px;\n\t\t\theight: 30px;\n\t\t\tpadding: 6px;\n\t\t\tbackground-color: #4c5264;\n\t\t\tborder-radius: 60px;\n\t\t\tposition: absolute;\n\t\t\ttop: 5%;\n\t\t}\n\t\t.next-btn {\n\t\t\tright: 20px;\n\t\t}\n\t\t.prev-btn {\n\t\t\tleft: unset;\n\t\t\tright: 70px;\n\t\t}\n\t\t.carousel {\n\t\t\toverflow-x: hidden;\n\t\t}\n\t\t.card-container {\n\t\t\toverflow-x: scroll;\n\t\t\t::-webkit-scrollbar-track {\n\t\t\t\tbackground-color: ",";\n\t\t\t\tborder-radius: 4px;\n\t\t\t}\n\t\t\t::-webkit-scrollbar {\n\t\t\t\tborder-radius: 4px;\n\t\t\t\theight: 7px;\n\t\t\t\tbackground-color: #f5f5f5;\n\t\t\t}\n\t\t\t::-webkit-scrollbar-thumb {\n\t\t\t\tbackground-color: #58a086;\n\t\t\t\tborder-radius: 4px;\n\t\t\t}\n\t\t}\n\t}\n\t@media screen and (max-width: 480px) {\n\t\tmargin-bottom: 40px;\n\t\th2 {\n\t\t\tfont-size: 1.5rem;\n\t\t}\n\t\t.next-btn,\n\t\t.prev-btn {\n\t\t\twidth: 35px;\n\t\t\theight: 27px;\n\t\t\ttop: 4%;\n\t\t}\n\t\t.next-btn {\n\t\t\tright: 20px;\n\t\t}\n\t\t.prev-btn {\n\t\t\tright: 60px;\n\t\t}\n\t\t.card-container {\n\t\t\t.card {\n\t\t\t\twidth: 120px;\n\t\t\t\timg {\n\t\t\t\t\twidth: 120px;\n\t\t\t\t\theight: 170px;\n\t\t\t\t}\n\t\t\t\tp {\n\t\t\t\t\tfont-size: 0.85rem;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]);return w=function(){return t},t}function k(t){var n=t.header,e=t.list,i=Object(a.useRef)(),c=function(t){"next"===t&&(i.current.scrollLeft+=i.current.clientWidth),"prev"===t&&(i.current.scrollLeft-=i.current.clientWidth)};return Object(r.jsxs)(S,{children:[Object(r.jsx)("h2",{children:n}),Object(r.jsx)("img",{onClick:function(){return c("next")},className:"next-btn",src:"/assets/icons/right-chevron.svg",alt:""}),Object(r.jsx)("img",{onClick:function(){return c("prev")},className:"prev-btn",src:"/assets/icons/left-chevron.svg",alt:""}),Object(r.jsx)("div",{className:"carousel",children:Object(r.jsx)("div",{ref:i,className:"card-container",children:e?e.map((function(t,n){return Object(r.jsx)(h.b,{to:"/anime/".concat(t.id),children:Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)("img",{src:t.coverImage.extraLarge,alt:""}),Object(r.jsx)("p",{children:t.title.english||t.title.romaji})]})},n)})):[1,2,3,4,5,6,7,8,9,10].map((function(t){return Object(r.jsxs)("div",{className:"card",children:[Object(r.jsx)(v.SkeletonTheme,{highlightColor:"#a7dac7",color:"#cad4de",children:Object(r.jsx)(y.a,{width:"150px",height:"210px"},t)}),Object(r.jsx)("br",{}),Object(r.jsx)(v.SkeletonTheme,{highlightColor:"#a7dac7",color:"#cad4de",children:Object(r.jsx)(y.a,{width:"150px",height:"10px"},t)})]},t)}))})})]})}var S=x.c.section(w(),(function(t){return t.theme.header}),(function(t){return t.theme.text}),(function(t){return t.theme.scrollbar}));function N(t){var n=new URLSearchParams(t).entries();return Object.fromEntries(n)}function P(){var t=Object(m.a)(["\n\twidth: 100%;\n\tmargin-top: 50px;\n\th2 {\n\t\tfont-size: 2.5rem;\n\t\tcolor: ",";\n\t\tmargin-bottom: 10px;\n\t}\n\t.input-container {\n\t\twidth: 100%;\n\t\theight: 40px;\n\t\tposition: relative;\n\t\tborder: none;\n\t\tbox-shadow: ",";\n\t\tborder-radius: 7px;\n\t\tbackground-color: white;\n\t\timg {\n\t\t\twidth: 23px;\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\ttransform: translateY(-50%);\n\t\t\tleft: 15px;\n\t\t\tfilter: invert(0.7);\n\t\t}\n\t\tinput {\n\t\t\theight: 100%;\n\t\t\twidth: 100%;\n\t\t\tborder: none;\n\t\t\tbackground: transparent;\n\t\t\tfont-size: 1.1rem;\n\t\t\tfont-weight: 300;\n\t\t\tpadding-left: 50px;\n\t\t\tcolor: #4c5264;\n\t\t}\n\t}\n\n\t@media (max-width: 768px) {\n\t\tmargin: 20px 0;\n\t\th2 {\n\t\t\tfont-size: 1.7rem;\n\t\t}\n\t\t.input-container {\n\t\t\theight: 30px;\n\t\t\tinput {\n\t\t\t\tfont-size: 1rem;\n\t\t\t\tpadding-left: 40px;\n\t\t\t}\n\t\t\timg {\n\t\t\t\tleft: 10px;\n\t\t\t}\n\t\t}\n\t}\n"]);return P=function(){return t},t}var I=x.c.div(P(),(function(t){return t.theme.header}),(function(t){return t.theme.boxShadow}));function C(t){var n=t.location,e=t.history,i=Object(a.useState)(N(n.search).query||""),c=Object(l.a)(i,2),o=c[0],s=c[1];return Object(r.jsxs)(I,{children:[Object(r.jsx)("h2",{children:"Search anime"}),Object(r.jsxs)("div",{className:"input-container",children:[Object(r.jsx)("img",{src:"https://img.icons8.com/ios-glyphs/100/000000/search.png",alt:"search"}),Object(r.jsx)("input",{type:"text",value:o,onChange:function(t){return s((function(){return t.target.value.trim()}))},onKeyDown:function(t){if("Enter"===t.key&&o){var r=Object(p.a)(Object(p.a)({},N(n.search)),{},{query:o}),a=new URLSearchParams(r).toString();e.push("/search?"+a)}}})]})]})}var z=[{type:"Genre",list:[{name:"Action",id:"Action",type:"genre"},{name:"Adventure",id:"Adventure",type:"genre"},{name:"Comedy",id:"Comedy",type:"genre"},{name:"Drama",id:"Drama",type:"genre"},{name:"Ecchi",id:"Ecchi",type:"genre"},{name:"Fantasy",id:"Fantasy",type:"genre"},{name:"Horror",id:"Horror",type:"genre"},{name:"Mahou Shoujo",id:"Mahou Shoujo",type:"genre"},{name:"Mecha",id:"Mecha",type:"genre"},{name:"Music",id:"Music",type:"genre"},{name:"Mystery",id:"Mystery",type:"genre"},{name:"Psychological",id:"Psychological",type:"genre"},{name:"Romance",id:"Romance",type:"genre"},{name:"Sci-Fi",id:"Sci-Fi",type:"genre"},{name:"Slice of Life",id:"Slice of Life",type:"genre"},{name:"Sports",id:"Sports",type:"genre"},{name:"Supernatural",id:"Supernatural",type:"genre"},{name:"Thriller",id:"Supernatural",type:"genre"}]},{type:"Season",list:[{name:"Summer",id:"SUMMER",type:"season"},{name:"Spring",id:"SPRING",type:"season"},{name:"Fall",id:"FALL",type:"season"},{name:"Winter",id:"WINTER",type:"season"}]},{type:"Year",list:[{name:1950,id:1950,type:"year"},{name:1951,id:1951,type:"year"},{name:1952,id:1952,type:"year"},{name:1953,id:1953,type:"year"},{name:1954,id:1954,type:"year"},{name:1955,id:1955,type:"year"},{name:1956,id:1956,type:"year"},{name:1957,id:1957,type:"year"},{name:1958,id:1958,type:"year"},{name:1959,id:1959,type:"year"},{name:1960,id:1960,type:"year"},{name:1961,id:1961,type:"year"},{name:1962,id:1962,type:"year"},{name:1963,id:1963,type:"year"},{name:1964,id:1964,type:"year"},{name:1965,id:1965,type:"year"},{name:1966,id:1966,type:"year"},{name:1967,id:1967,type:"year"},{name:1968,id:1968,type:"year"},{name:1969,id:1969,type:"year"},{name:1970,id:1970,type:"year"},{name:1971,id:1971,type:"year"},{name:1972,id:1972,type:"year"},{name:1973,id:1973,type:"year"},{name:1974,id:1974,type:"year"},{name:1975,id:1975,type:"year"},{name:1976,id:1976,type:"year"},{name:1977,id:1977,type:"year"},{name:1978,id:1978,type:"year"},{name:1979,id:1979,type:"year"},{name:1980,id:1980,type:"year"},{name:1981,id:1981,type:"year"},{name:1982,id:1982,type:"year"},{name:1983,id:1983,type:"year"},{name:1984,id:1984,type:"year"},{name:1985,id:1985,type:"year"},{name:1986,id:1986,type:"year"},{name:1987,id:1987,type:"year"},{name:1988,id:1988,type:"year"},{name:1989,id:1989,type:"year"},{name:1990,id:1990,type:"year"},{name:1991,id:1991,type:"year"},{name:1992,id:1992,type:"year"},{name:1993,id:1993,type:"year"},{name:1994,id:1994,type:"year"},{name:1995,id:1995,type:"year"},{name:1996,id:1996,type:"year"},{name:1997,id:1997,type:"year"},{name:1998,id:1998,type:"year"},{name:1999,id:1999,type:"year"},{name:2e3,id:2e3,type:"year"},{name:2001,id:2001,type:"year"},{name:2002,id:2002,type:"year"},{name:2003,id:2003,type:"year"},{name:2004,id:2004,type:"year"},{name:2005,id:2005,type:"year"},{name:2006,id:2006,type:"year"},{name:2007,id:2007,type:"year"},{name:2008,id:2008,type:"year"},{name:2009,id:2009,type:"year"},{name:2010,id:2010,type:"year"},{name:2011,id:2011,type:"year"},{name:2012,id:2012,type:"year"},{name:2013,id:2013,type:"year"},{name:2014,id:2014,type:"year"},{name:2015,id:2015,type:"year"},{name:2016,id:2016,type:"year"},{name:2017,id:2017,type:"year"},{name:2018,id:2018,type:"year"},{name:2019,id:2019,type:"year"},{name:2020,id:2020,type:"year"},{name:2021,id:2021,type:"year"}].reverse()},{type:"Format",list:[{name:"tv",id:"TV",type:"format"},{name:"ova",id:"OVA",type:"format"},{name:"movie",id:"MOVIE",type:"format"},{name:"special",id:"SPECIAL",type:"format"},{name:"ona",id:"ONA",type:"format"},{name:"music",id:"MUSIC",type:"format"}]}],A=e(15);function L(){var t=Object(m.a)(["\n\twidth: unset;\n\theight: max-content;\n\tposition: relative;\n\t.selected {\n\t\tcursor: pointer;\n\t\twidth: 150px;\n\t\theight: 30px;\n\t\tbackground-color: white;\n\t\tborder-radius: 7px;\n\t\tbox-shadow: ",";\n\n\t\tmargin-bottom: 10px;\n\t\tpadding: 0 15px;\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\tposition: relative;\n\t\t.mask {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tz-index: 2;\n\t\t}\n\t\tspan {\n\t\t\tfont-size: 0.9rem;\n\t\t\tcolor: #979797;\n\t\t\tpadding: 8px 0;\n\t\t}\n\t\timg {\n\t\t\twidth: 15px;\n\t\t\theight: 15px;\n\t\t\tfilter: invert(0.7);\n\t\t\tmargin: 8px 0;\n\t\t}\n\t\t.cover {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tbottom: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tz-index: 1;\n\t\t}\n\t}\n\t.box {\n\t\tlist-style: none;\n\t\twidth: 150px;\n\t\theight: max-content;\n\t\tmax-height: 300px;\n\t\tpadding: 10px;\n\t\toverflow-y: auto;\n\t\tbackground-color: white;\n\t\tborder-radius: 7px;\n\t\tbox-shadow: ",";\n\t\tposition: absolute;\n\t\tdisplay: ",";\n\t\tz-index: 2;\n\t\t::-webkit-scrollbar-track {\n\t\t\tbackground-color: ",";\n\t\t}\n\t\t::-webkit-scrollbar {\n\t\t\tborder-radius: 4px;\n\t\t\twidth: 5px;\n\t\t\tbackground-color: #f5f5f5;\n\t\t}\n\t\t::-webkit-scrollbar-thumb {\n\t\t\tbackground-color: #7e7e7e;\n\t\t\tborder-radius: 4px;\n\t\t}\n\t\tli.option {\n\t\t\tcursor: pointer;\n\t\t\tfont-size: 0.9rem;\n\t\t\tcolor: rgb(63, 63, 63);\n\t\t\tpadding: 5px;\n\t\t\tborder-radius: 4px;\n\t\t\ttransition: 0.2s;\n\t\t\t&:hover {\n\t\t\t\tbackground-color: #e0e0e0;\n\t\t\t\tcolor: #43b375;\n\t\t\t}\n\t\t}\n\t}\n\t@media (max-width: 768px) {\n\t\t&:nth-child(2n) {\n\t\t\tjustify-self: end;\n\t\t}\n\t}\n\t@media (max-width: 480px) {\n\t\t.selected,\n\t\t.box {\n\t\t\twidth: 120px;\n\t\t}\n\t}\n"]);return L=function(){return t},t}var E=x.c.div(L(),(function(t){return t.theme.boxShadow}),(function(t){return t.theme.boxShadow}),(function(t){return t.isOpen?"block":"none"}),(function(t){return t.theme.scrollbar}));function T(t){var n=t.item,e=t.location,i=t.history,c=Object(a.useState)(!1),o=Object(l.a)(c,2),s=o[0],d=o[1],u=Object(a.useRef)(),m=Object(a.useRef)();Object(a.useEffect)((function(){document.addEventListener("click",(function(t){t.target!==u.current&&d(!1)}))}),[u]);return Object(r.jsxs)(E,{className:"list-container",isOpen:s,children:[Object(r.jsxs)("div",{className:"selected",children:[Object(r.jsx)("div",{ref:u,className:"mask",onClick:function(){return d(!s)}}),Object(r.jsx)("span",{children:n.type}),Object(r.jsx)("img",{src:"https://img.icons8.com/ios-glyphs/30/000000/chevron-down.png",alt:""})]}),Object(r.jsx)("ul",{ref:m,className:"box",children:n.list.map((function(t){return Object(r.jsx)("li",{className:"option",onClick:function(){return function(t){var n=Object(p.a)(Object(p.a)({},N(e.search)),{},Object(A.a)({},t.type,t.id)),r=new URLSearchParams(n).toString();i.push("/search?"+r)}(t)},children:t.name},t.name)}))})]})}function $(){var t=Object(m.a)(["\n\tdisplay: flex;\n\tmargin: 15px 0;\n\t.filter {\n\t\tcolor: white;\n\t\tborder-radius: 7px;\n\t\tmargin-right: 20px;\n\t\tbackground: #4c5264;\n\t\twidth: max-content;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\theight: 25px;\n\t\twidth: max-content;\n\t\tpadding: 0 4px;\n\t}\n\timg {\n\t\tmargin-left: 5px;\n\t\twidth: 15px;\n\t\tfilter: invert(1);\n\t\theight: auto;\n\t}\n"]);return $=function(){return t},t}function M(){var t=Object(m.a)(["\n\twidth: 100%;\n\tmargin: 50px auto;\n\t.options-container {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\twidth: 100%;\n\t}\n\t@media (max-width: 768px) {\n\t\tmargin: 20px auto;\n\t\t.options-container {\n\t\t\tdisplay: grid;\n\t\t\tgrid-template-columns: 1fr 1fr;\n\t\t}\n\t}\n"]);return M=function(){return t},t}function R(){var t=Object(m.a)(["\n\tmax-width: 1200px;\n\tpadding: 0 50px;\n\tmargin: auto;\n\t@media (max-width: 768px) {\n\t\tpadding: 0 20px;\n\t}\n"]);return R=function(){return t},t}var q=x.c.div(R()),D=x.c.div(M());function U(){var t=Object(f.h)(),n=Object(f.g)();return Object(r.jsxs)(q,{children:[Object(r.jsx)(C,{location:t,history:n}),Object(r.jsx)(D,{children:Object(r.jsx)("div",{className:"options-container",children:z.map((function(e,a){return Object(r.jsx)(T,{item:e,location:t,history:n},a)}))})}),Object(r.jsx)(_,{location:t,history:n})]})}var F=x.c.div($()),_=function(t){var n=t.history,e=t.location,i=Object(a.useState)([]),c=Object(l.a)(i,2),o=c[0],s=c[1],d=N(e.search);Object(a.useEffect)((function(){var t=[];for(var n in d)d[n]&&t.push({type:n,value:d[n]});s(t)}),[e]);return Object(r.jsx)(F,{children:o.map((function(t,e){return Object(r.jsxs)("div",{className:"filter",children:[Object(r.jsxs)("span",{children:[Object(r.jsxs)("b",{children:[t.type,":"]})," ",t.value]}),Object(r.jsx)("img",{onClick:function(){return function(t){delete d[t.type];var e=new URLSearchParams(d).toString();n.push("/search?"+e)}(t)},src:"./assets/icons/x.svg",alt:""})]},e)}))})};function Y(){var t=Object(m.a)(['\n\t.hero {\n\t\tbackground: url("/assets/images/background.jpg");\n\t\tbackground-repeat: no-repeat;\n\t\tbackground-size: cover;\n\t\twidth: 100%;\n\t\theight: 400px;\n\t\tposition: relative;\n\t\t.hero-container {\n\t\t\tposition: absolute;\n\t\t\ttop: 0;\n\t\t\tleft: 0;\n\t\t\tright: 0;\n\t\t\tbottom: 0;\n\t\t\tbackground-color: rgba(0, 0, 0, 0.7);\n\t\t}\n\t\th1 {\n\t\t\tmax-width: 1200px;\n\t\t\tpadding: 100px 50px;\n\t\t\ttext-align: center;\n\t\t\twidth: 100%;\n\t\t\tmargin: auto;\n\t\t\tcolor: white;\n\t\t\tfont-size: 3rem;\n\t\t}\n\t}\n\n\t@media (max-width: 768px) {\n\t\t.hero {\n\t\t\theight: 200px;\n\t\t\th1 {\n\t\t\t\tfont-size: 2rem;\n\t\t\t\tpadding: 50px;\n\t\t\t}\n\t\t}\n\t}\n\t@media (max-width: 480px) {\n\t\t.hero {\n\t\t\theight: 200px;\n\t\t\tmargin: 0;\n\t\t\th1 {\n\t\t\t\tpadding: 40px 20px;\n\t\t\t\tfont-size: 1.7rem;\n\t\t\t}\n\t\t}\n\t}\n']);return Y=function(){return t},t}var J=x.c.div(Y());function G(){var t=Object(a.useState)(null),n=Object(l.a)(t,2),e=n[0],i=n[1],c=Object(a.useState)(null),o=Object(l.a)(c,2),s=o[0],p=o[1],m=function(){var t=Object(u.a)(d.a.mark((function t(){var n,e,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,O();case 3:n=t.sent,e=n.top,r=n.trending,i(r.media),p(e.media),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){m()}),[]),Object(r.jsxs)(J,{children:[Object(r.jsx)("div",{className:"hero",children:Object(r.jsx)("div",{className:"hero-container",children:Object(r.jsx)("h1",{children:"Discover the world of anime using the world's largest anime database"})})}),Object(r.jsx)(U,{}),Object(r.jsx)(k,{header:"Popular this season",list:e}),Object(r.jsx)(k,{header:"Top animes of all time",list:s})]})}var B=function(t,n){return{method:t,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("auth")},body:JSON.stringify(n)||null}},H="http://localhost:80",W=function(){var t=Object(u.a)(d.a.mark((function t(){var n,e,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(H,"/api/auth/"),B("GET"));case 2:if(!(n=t.sent).ok){t.next=9;break}return t.next=6,n.json();case 6:return e=t.sent,r=e.data,t.abrupt("return",r);case 9:return t.abrupt("return",null);case 10:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),V=function(){var t=Object(u.a)(d.a.mark((function t(n){var e,r,a,i,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(H,"/api/auth/login"),B("POST",n));case 2:return e=t.sent,t.next=5,e.json();case 5:if(r=t.sent,a=r.message,i=r.data,c=r.token,!e.ok){t.next=12;break}return localStorage.setItem("auth",c),t.abrupt("return",{data:i,message:a});case 12:return t.abrupt("return",{message:a});case 13:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),K=function(){var t=Object(u.a)(d.a.mark((function t(n){var e,r,a,i,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(H,"/api/auth/register"),B("POST",n));case 2:return e=t.sent,console.log(e),t.next=6,e.json();case 6:if(r=t.sent,a=r.message,i=r.data,c=r.token,!e.ok){t.next=13;break}return localStorage.setItem("auth",c),t.abrupt("return",{data:i,message:a});case 13:return t.abrupt("return",{message:a});case 14:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),Q=Object(a.createContext)(null);function X(){var t=Object(m.a)(["\n\tmax-width: 1100px;\n\tpadding: 0 50px;\n\tmargin: auto;\n\th1 {\n\t\tmargin-top: 50px;\n\n\t\ttext-align: center;\n\t}\n\tform {\n\t\tmargin: 0 auto;\n\t\tmargin-top: 50px;\n\t\twidth: 500px;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tinput {\n\t\t\twidth: 100%;\n\t\t\tmargin: 10px 0;\n\t\t\theight: 40px;\n\t\t\tfont-size: 1.2rem;\n\t\t}\n\t\tbutton {\n\t\t\twidth: 200px;\n\t\t\theight: 50px;\n\t\t}\n\t}\n"]);return X=function(){return t},t}var Z=x.c.div(X());function tt(){var t=Object(a.useState)({email:null,password:null}),n=Object(l.a)(t,2),e=n[0],i=n[1],c=Object(a.useState)(!1),o=Object(l.a)(c,2),s=o[0],m=o[1],x=Object(a.useState)(null),b=Object(l.a)(x,2),g=b[0],j=b[1],f=Object(a.useContext)(Q),O=(f.user,f.setUser),v=function(t){i(Object(p.a)(Object(p.a)({},e),{},Object(A.a)({},t.target.name,t.target.value)))},y=function(){var t=Object(u.a)(d.a.mark((function t(n){var r,a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),m(!0),t.next=4,V(e);case 4:r=t.sent,a=r.data,i=r.message,m(!1),j(i),a&&O(a);case 10:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(r.jsxs)(Z,{children:[Object(r.jsx)("h1",{children:"Log in"}),Object(r.jsxs)("form",{onSubmit:y,children:[Object(r.jsx)("input",{name:"email",type:"email",onChange:v,placeholder:"Email",required:!0}),Object(r.jsx)("input",{name:"password",type:"password",onChange:v,placeholder:"Password",required:!0}),Object(r.jsx)("button",{disabled:s,type:"submit",children:"Log in"}),Object(r.jsx)(h.b,{to:"/register",children:"register"}),Object(r.jsx)("span",{children:g})]})]})}var nt=function(){var t=Object(u.a)(d.a.mark((function t(n){var e,r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"\n\t\tquery ($id: Int, $page: Int, $perPage: Int, $search: String, \n\t\t\t$genre: String, $isAdult: Boolean, $year: Int, $format: MediaFormat, $sort: [MediaSort]) \n\t\t{\n      Page (page: $page, perPage: $perPage) {\n        pageInfo {\n          total\n          currentPage\n          lastPage\n          hasNextPage\n          perPage\n        }\n\t\t\t\tmedia (id: $id, search: $search, genre: $genre, isAdult: $isAdult, \n\t\t\t\t\ttype: ANIME, seasonYear: $year, format: $format, sort: $sort) \n\t\t\t\t{\n          id\n\t\t\t\t\ttitle {\n\t\t\t\t\t\tromaji\n\t\t\t\t\t\tenglish\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tuserPreferred\n\t\t\t\t\t} \n          coverImage {\n\t\t\t\t\t\textraLarge\n\t\t\t\t\t\tcolor\n          }\n        }\n      }\n    }\n    ",console.log("graphql vars",n),"https://graphql.anilist.co",e={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:"\n\t\tquery ($id: Int, $page: Int, $perPage: Int, $search: String, \n\t\t\t$genre: String, $isAdult: Boolean, $year: Int, $format: MediaFormat, $sort: [MediaSort]) \n\t\t{\n      Page (page: $page, perPage: $perPage) {\n        pageInfo {\n          total\n          currentPage\n          lastPage\n          hasNextPage\n          perPage\n        }\n\t\t\t\tmedia (id: $id, search: $search, genre: $genre, isAdult: $isAdult, \n\t\t\t\t\ttype: ANIME, seasonYear: $year, format: $format, sort: $sort) \n\t\t\t\t{\n          id\n\t\t\t\t\ttitle {\n\t\t\t\t\t\tromaji\n\t\t\t\t\t\tenglish\n\t\t\t\t\t\tnative\n\t\t\t\t\t\tuserPreferred\n\t\t\t\t\t} \n          coverImage {\n\t\t\t\t\t\textraLarge\n\t\t\t\t\t\tcolor\n          }\n        }\n      }\n    }\n    ",variables:Object(p.a)(Object(p.a)({},n),{},{search:n.query,sort:n.query?["SEARCH_MATCH"]:["POPULARITY_DESC"]})})},t.prev=3,t.next=6,fetch("https://graphql.anilist.co",e);case 6:return r=t.sent,t.next=9,r.json();case 9:return a=t.sent,t.abrupt("return",a.data.Page);case 13:t.prev=13,t.t0=t.catch(3),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(n){return t.apply(this,arguments)}}(),et=e(32);function rt(){var t=Object(m.a)(["\n\twidth: 180px;\n\ta {\n\t\tdisplay: block;\n\t\tcolor: ",";\n\t}\n\timg,\n\t.mask {\n\t\twidth: 100%;\n\t\theight: 255px;\n\t\tobject-fit: cover;\n\t\tborder-radius: 8px;\n\t\tbackground: ",";\n\t}\n\t@media (max-width: 1100px) {\n\t\twidth: 150px;\n\t\timg,\n\t\t.mask {\n\t\t\theight: 210px;\n\t\t}\n\t}\n\t@media (max-width: 950px) {\n\t\twidth: 180px;\n\t\timg,\n\t\t.mask {\n\t\t\theight: 255px;\n\t\t}\n\t}\n\t@media (max-width: 900px) {\n\t\twidth: 150px;\n\t\timg,\n\t\t.mask {\n\t\t\theight: 210px;\n\t\t}\n\t}\n\t@media (max-width: 720px) {\n\t\twidth: 130px;\n\t\timg,\n\t\t.mask {\n\t\t\theight: 180px;\n\t\t}\n\t}\n\t@media (max-width: 640px) {\n\t\twidth: 150px;\n\t\timg,\n\t\t.mask {\n\t\t\theight: 210px;\n\t\t}\n\t}\n\t@media (max-width: 560px) {\n\t\twidth: 200px;\n\t\timg,\n\t\t.mask {\n\t\t\theight: 280px;\n\t\t}\n\t}\n\n\t@media (max-width: 480px) {\n\t\twidth: 180px;\n\t\timg,\n\t\t.mask {\n\t\t\theight: 255px;\n\t\t}\n\t}\n\t@media (max-width: 420px) {\n\t\twidth: 150px;\n\t\timg,\n\t\t.mask {\n\t\t\theight: 210px;\n\t\t}\n\t}\n"]);return rt=function(){return t},t}function at(){var t=Object(m.a)(["\n\t.grid {\n\t\tmargin: 0 auto;\n\t\tmax-width: 1200px;\n\t\tpadding: 0 50px;\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(5, auto);\n\t\tjustify-content: space-between;\n\t\trow-gap: 30px;\n\t}\n\t@media (max-width: 950px) {\n\t\t.grid {\n\t\t\tgrid-template-columns: repeat(4, auto);\n\t\t}\n\t}\n\t@media (max-width: 768px) {\n\t\t.grid {\n\t\t\tpadding: 0 20px;\n\t\t}\n\t}\n\t@media (max-width: 640px) {\n\t\t.grid {\n\t\t\tgrid-template-columns: repeat(3, auto);\n\t\t}\n\t}\n\t@media (max-width: 560px) {\n\t\t.grid {\n\t\t\tgrid-template-columns: repeat(2, auto);\n\t\t}\n\t}\n"]);return at=function(){return t},t}var it=x.c.div(at());function ct(){var t=Object(a.useState)([]),n=Object(l.a)(t,2),e=n[0],i=n[1],c=Object(a.useState)(1),o=Object(l.a)(c,2),s=o[0],m=o[1],h=Object(f.h)(),x=function(){var t=Object(u.a)(d.a.mark((function t(n,e){var r,a,c,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=new URLSearchParams(n),a=r.entries(),c=Object.fromEntries(a),t.next=5,nt(Object(p.a)(Object(p.a)({},c),{},{page:s}));case 5:o=t.sent,i(e.concat(o.media));case 7:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){m(1),i([]),x(h.search,[])}),[h]),Object(a.useEffect)((function(){s>1&&x(h.search,e)}),[s]),Object(r.jsxs)(it,{children:[Object(r.jsx)(U,{}),Object(r.jsx)(et.a,{dataLength:e.length,next:function(){return m((function(t){return t+1}))},hasMore:!0,children:Object(r.jsx)("div",{className:"grid",children:e.length?e.map((function(t,n){return Object(r.jsx)(st,{item:t},n)})):[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18].map((function(t){return Object(r.jsxs)(ot,{children:[Object(r.jsx)(v.SkeletonTheme,{highlightColor:"#a7dac7",color:"#cad4de",children:Object(r.jsx)(y.a,{className:"mask"},t)}),Object(r.jsx)("br",{}),Object(r.jsx)(v.SkeletonTheme,{highlightColor:"#a7dac7",color:"#cad4de",children:Object(r.jsx)(y.a,{width:"120px",height:"15px"},t)})]})}))})})]})}var ot=x.c.div(rt(),(function(t){return t.theme.text}),(function(t){return t.bgColor})),st=function(t){var n=t.item,e=Object(a.useState)(!1),i=Object(l.a)(e,2),c=i[0],o=i[1],s=n.title.english?n.title.english:n.title.romaji,d=n.coverImage.extraLarge,p=n.coverImage.color;return Object(r.jsx)(ot,{bgColor:p,children:Object(r.jsxs)(h.b,{to:"/anime/".concat(n.id),children:[Object(r.jsx)("img",{style:c?{}:{display:"none"},src:d,alt:"",onLoad:function(){return o(!0)}}),c?null:Object(r.jsx)("div",{className:"mask"}),Object(r.jsx)("p",{children:s})]})})},dt=function(){var t=Object(u.a)(d.a.mark((function t(n){var e,r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"\n    query ($id: Int) {\n      Media(id: $id) {\n        id\n        title {\n          romaji\n          english\n          native\n        }\n        description\n        trailer {\n          id\n        }\n        bannerImage\n        coverImage {\n          extraLarge\n          large\n          medium\n          color\n        }\n        format\n        episodes\n        status\n        duration\n        startDate {\n          year\n          month\n          day\n        }\n        endDate {\n          year\n          month\n          day\n        }\n        season\n        seasonYear\n        studios(isMain: true) {\n          edges {\n            id\n            node {\n              name\n            }\n          }\n        }\n        genres\n        characters(sort: [ROLE, ID], role: MAIN) {\n          edges {\n            id\n            role\n            node {\n              id\n              name {\n                full\n              }\n              image {\n                large\n              }\n            }\n          }\n        }\n      }\n    }\n","https://graphql.anilist.co",e={method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:"\n    query ($id: Int) {\n      Media(id: $id) {\n        id\n        title {\n          romaji\n          english\n          native\n        }\n        description\n        trailer {\n          id\n        }\n        bannerImage\n        coverImage {\n          extraLarge\n          large\n          medium\n          color\n        }\n        format\n        episodes\n        status\n        duration\n        startDate {\n          year\n          month\n          day\n        }\n        endDate {\n          year\n          month\n          day\n        }\n        season\n        seasonYear\n        studios(isMain: true) {\n          edges {\n            id\n            node {\n              name\n            }\n          }\n        }\n        genres\n        characters(sort: [ROLE, ID], role: MAIN) {\n          edges {\n            id\n            role\n            node {\n              id\n              name {\n                full\n              }\n              image {\n                large\n              }\n            }\n          }\n        }\n      }\n    }\n",variables:{id:n}})},t.next=4,fetch("https://graphql.anilist.co",e);case 4:return r=t.sent,t.next=7,r.json();case 7:return a=t.sent,t.abrupt("return",a.data.Media);case 9:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),pt="http://localhost:80",ut=function(){var t=Object(u.a)(d.a.mark((function t(n){var e,r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(pt,"/api/user/comment/?page_id=").concat(n));case 2:return e=t.sent,t.next=5,e.json();case 5:return r=t.sent,a=r.data,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),lt=function(){var t=Object(u.a)(d.a.mark((function t(n,e){var r,a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat(pt,"/api/user/comment"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("auth")},body:JSON.stringify({comment:n,page_id:e})});case 2:return r=t.sent,t.next=5,r.json();case 5:return a=t.sent,i=a.data,t.abrupt("return",i);case 8:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),mt=e(49);function ht(){var t=Object(m.a)(["\n\tmax-width: 1200px;\n\tpadding: 0 50px;\n\tmargin: auto;\n\th2 {\n\t\tcolor: ",";\n\t\tfont-size: 2.5rem;\n\t}\n\ttextarea {\n\t\twidth: 100%;\n\t\theight: 100px;\n\t\tfont-size: 1.2rem;\n\t\tborder-radius: 4px;\n\t\tborder: none;\n\t\tpadding: 10px;\n\t\tmargin-bottom: 10px;\n\t}\n\tbutton {\n\t\tcursor: pointer;\n\t\tpadding: 5px 10px;\n\t\tbackground: #70c7a7;\n\t\tfont-size: 1.2rem;\n\t\tborder-radius: 4px;\n\t\tborder: none;\n\t\tcolor: ",";\n\t}\n\t.all-comments {\n\t\tmargin-top: 20px;\n\t}\n\t.comment-box {\n\t\tborder-radius: 4px;\n\t\tpadding: 15px;\n\t\tmargin: 10px 0;\n\t\tcolor: ",";\n\t\tbackground: ",";\n\t\t.user-data {\n\t\t\twidth: 100%;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\timg {\n\t\t\t\twidth: 30px;\n\t\t\t\theight: 30px;\n\t\t\t\tobject-fit: cover;\n\t\t\t\tmargin-right: 10px;\n\t\t\t\tborder-radius: 4px;\n\t\t\t}\n\t\t\t.username {\n\t\t\t\tcolor: #70c7a7;\n\t\t\t}\n\t\t\t.date {\n\t\t\t\tmargin-left: auto;\n\t\t\t}\n\t\t}\n\t\tp {\n\t\t\tmargin-top: 15px;\n\t\t}\n\t}\n"]);return ht=function(){return t},t}function xt(t){var n=t.page_id,e=Object(a.useState)(null),i=Object(l.a)(e,2),c=i[0],o=i[1],s=Object(a.useState)(""),p=Object(l.a)(s,2),m=p[0],h=p[1],x=Object(a.useContext)(Q).user;Object(a.useEffect)((function(){ut(n).then((function(t){o(t)}))}),[]);var b=function(){var t=Object(u.a)(d.a.mark((function t(e){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),x&&m.trim()&&lt(m,n).then((function(t){h(""),o(t)}));case 2:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(r.jsxs)(bt,{children:[Object(r.jsx)("h2",{children:"Comments"}),Object(r.jsxs)("form",{onSubmit:b,children:[Object(r.jsx)("textarea",{name:"comment",onChange:function(t){return h(t.target.value)},value:m,placeholder:"Add your comment"}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{type:"submit",children:"Send"})]}),Object(r.jsx)("div",{className:"all-comments",children:c&&c.map((function(t,n){return Object(r.jsxs)("div",{className:"comment-box",children:[Object(r.jsxs)("div",{className:"user-data",children:[Object(r.jsx)("img",{src:t.avatar,alt:""}),Object(r.jsx)("span",{className:"username",children:t.username}),Object(r.jsxs)("span",{className:"date",children:[Object(mt.a)(new Date(1e3*t.created_at))," ago"]})]}),Object(r.jsx)("p",{className:"comment",children:t.text})]},n)}))})]})}var bt=x.c.section(ht(),(function(t){return t.theme.header}),(function(t){return t.theme.header}),(function(t){return t.theme.text}),(function(t){return t.theme.commentBg})),gt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{method:t,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("auth")},body:JSON.stringify({data:n})||null}},jt="http://localhost:80",ft=function(){var t=Object(u.a)(d.a.mark((function t(n,e,r,a){var i,c,o,s;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(jt,"/api/user/favorites/"),{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("auth")},body:JSON.stringify({page_id:e,cover_image:r,title:a})});case 3:return i=t.sent,t.next=6,i.json();case 6:return c=t.sent,o=c.message,s=c.data,t.abrupt("return",{message:o,data:s});case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",{message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(n,e,r,a){return t.apply(this,arguments)}}(),Ot=function(){var t=Object(u.a)(d.a.mark((function t(n){var e,r,a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(jt,"/api/user/favorites/"),{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("auth")}});case 3:if(!(e=t.sent).ok){t.next=10;break}return t.next=7,e.json();case 7:return r=t.sent,a=r.data,t.abrupt("return",a);case 10:return t.abrupt("return",null);case 13:return t.prev=13,t.t0=t.catch(0),t.abrupt("return",null);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(n){return t.apply(this,arguments)}}(),vt=function(){var t=Object(u.a)(d.a.mark((function t(n){var e,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("".concat(jt,"/api/user/favorites/").concat(n),gt("DELETE"));case 3:return e=t.sent,t.next=6,e.json();case 6:return r=t.sent,t.abrupt("return",r);case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",{message:t.t0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(n){return t.apply(this,arguments)}}();function yt(){var t=Object(m.a)(["\n\twidth: 60%;\n\tmargin-left: 50px;\n\tmargin-top: 0px;\n\th1 {\n\t\tfont-size: 3rem;\n\t\tfont-weight: 900;\n\t\tmargin-bottom: 10px;\n\t\tpadding: 0;\n\t\tcolor: ",";\n\t}\n\tp {\n\t\tfont-size: 1.1rem;\n\t\tmargin-bottom: 20px;\n\t\tcolor: ",";\n\t}\n\t.mobile-img {\n\t\tdisplay: none;\n\t\tborder-radius: 7px;\n\t}\n\t.trailer {\n\t\tmargin: 20px 0;\n\t}\n\t.genres {\n\t\tdisplay: flex;\n\t\tflex-wrap: wrap;\n\t\tmargin-top: 20px;\n\t\ta {\n\t\t\tborder: 1px rgba(0, 0, 0, 0.4) solid;\n\t\t\tcolor: #4c5264;\n\t\t\tbackground-color: white;\n\t\t\tborder-radius: 7px;\n\t\t\tmargin: 5px 0;\n\t\t\tmargin-right: 10px;\n\t\t\tpadding: 2px 5px;\n\t\t}\n\t}\n\t.add-btn {\n\t\tcursor: pointer;\n\t\tborder: none;\n\t\tborder-radius: 4px;\n\t\tbackground-color: #70c7a7;\n\t\twidth: max-content;\n\t\tpadding: 3px 5px;\n\t\tcolor: whitesmoke;\n\t\ttransition: 0.2s;\n\t\tbox-shadow: 0px 0px 4px 0px rgba(0, 0, 0, 0.3);\n\t\t&:hover {\n\t\t\tbackground-color: #5d9e86;\n\t\t\tcolor: white;\n\t\t}\n\t\t&:disabled {\n\t\t\tbackground-color: grey;\n\t\t}\n\t}\n\t@media screen and (max-width: 768px) {\n\t\twidth: 100%;\n\t\tmargin: 0;\n\t\th1 {\n\t\t\tfont-size: 2rem;\n\t\t}\n\t\t.img-and-desc {\n\t\t\tdisplay: flex;\n\t\t\tmargin-bottom: 10px;\n\t\t\tp {\n\t\t\t\tfont-size: 1rem;\n\t\t\t\twidth: 70%;\n\t\t\t}\n\t\t\t.mobile-img-cont {\n\t\t\t\twidth: 30%;\n\t\t\t\theight: auto;\n\t\t\t\tmargin-right: 15px;\n\t\t\t\t.mobile-img {\n\t\t\t\t\tdisplay: block;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.genres {\n\t\t\tmargin-top: 5px;\n\t\t}\n\n\t\t@media screen and (max-width: 480px) {\n\t\t\tmargin-top: 20px;\n\t\t\th1 {\n\t\t\t\tfont-size: 1.8rem;\n\t\t\t}\n\t\t\t.img-and-desc {\n\t\t\t\tdisplay: block;\n\t\t\t\tmargin-bottom: 10px;\n\t\t\t\tp {\n\t\t\t\t\tfont-size: 0.8rem;\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tmargin-bottom: 0;\n\t\t\t\t\tmargin-top: 20px;\n\t\t\t\t}\n\t\t\t\t.mobile-img-cont {\n\t\t\t\t\twidth: 100%;\n\t\t\t\t\tmargin-right: 0px;\n\t\t\t\t}\n\t\t\t}\n\t\t\tiframe {\n\t\t\t\theight: 220px;\n\t\t\t}\n\t\t\t.genres {\n\t\t\t\tli {\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t\tmargin: 5px 5px 5px 0;\n\t\t\t\t\tpadding: 2px 5px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]);return yt=function(){return t},t}var wt=x.c.section(yt(),(function(t){return t.theme.header}),(function(t){return t.theme.text}));function kt(t){var n=t.data,e=t.handleFavorites,a=t.isFavorite;return Object(r.jsxs)(wt,{children:[Object(r.jsx)("h1",{children:n.title.english||n.title.romaji}),Object(r.jsxs)("div",{className:"img-and-desc",children:[Object(r.jsx)("div",{className:"mobile-img-cont",children:Object(r.jsx)("img",{className:"mobile-img",src:n.coverImage.extraLarge,alt:""})}),Object(r.jsx)("p",{dangerouslySetInnerHTML:{__html:n.description}})]}),Object(r.jsx)("button",{disabled:a,className:"add-btn",onClick:function(){return e()},children:a?"Added":"Add to Favorites"}),Object(r.jsx)("ul",{className:"genres",children:n.genres.map((function(t,n){return Object(r.jsx)(h.b,{to:"/search?genre=".concat(t),children:t},n)}))}),n.trailer&&Object(r.jsx)("iframe",{allowFullScreen:!0,className:"trailer",title:n.title,width:"100%",height:"350px",src:"https://www.youtube.com/embed/".concat(n.trailer.id)})]})}function St(){var t=Object(m.a)(["\n\twidth: 35%;\n\timg {\n\t\twidth: 100%;\n\t\tborder-radius: 5px;\n\t\tbox-shadow: 2px 2px 10px rgba(0, 0, 0, 0.5);\n\t}\n\t.details {\n\t\tmargin: 20px 0;\n\t\tpadding: 5px 20px;\n\t\tborder-radius: 3px;\n\t\tbackground-color: white;\n\t\tbox-shadow: 2px 2px 2px 2px rgba(0, 0, 0, 0.1);\n\t\tli {\n\t\t\twidth: 100%;\n\t\t\tdisplay: flex;\n\t\t\tjustify-content: space-between;\n\t\t\tmargin: 10px 0;\n\t\t\tcolor: black;\n\t\t\tfont-size: 1.1rem;\n\t\t\tspan {\n\t\t\t\tcolor: #4c5264;\n\t\t\t\tfont-size: 1rem;\n\t\t\t}\n\t\t}\n\t}\n\t@media screen and (max-width: 768px) {\n\t\twidth: 100%;\n\t\t.details {\n\t\t\tmargin: 0;\n\t\t\tpadding: 10px 20px;\n\t\t\tborder-radius: 0;\n\t\t\tbox-shadow: none;\n\t\t\tli {\n\t\t\t\tmargin: 5px 0;\n\t\t\t\tfont-size: 1rem;\n\t\t\t\tspan {\n\t\t\t\t\tfont-size: 0.9rem;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.desktop-img {\n\t\t\tdisplay: none;\n\t\t}\n\t}\n\t@media screen and (max-width: 480px) {\n\t\t.details {\n\t\t\tpadding: 5px 10px;\n\t\t\tli {\n\t\t\t\tfont-size: 0.9rem;\n\t\t\t\tspan {\n\t\t\t\t\tfont-size: 0.85rem;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]);return St=function(){return t},t}var Nt=x.c.section(St());function Pt(t){var n,e,a,i=t.data,c=t.handleFavorites,o=t.isFavorite;return Object(r.jsxs)(Nt,{children:[Object(r.jsx)("img",{className:"desktop-img",src:i.coverImage.extraLarge,alt:""}),Object(r.jsx)("button",{disabled:o,className:"add-btn",onClick:function(){return c()},children:o?"Added":"Add to Favorites"}),Object(r.jsxs)("ul",{className:"details",children:[Object(r.jsxs)("li",{children:["Season",Object(r.jsxs)("span",{children:[i.season," ",i.seasonYear]})]}),Object(r.jsxs)("li",{children:["Format ",Object(r.jsx)("span",{children:i.format})]}),Object(r.jsxs)("li",{children:["Episodes ",Object(r.jsx)("span",{children:i.episodes})]}),Object(r.jsxs)("li",{children:["Duration ",Object(r.jsxs)("span",{children:[i.duration," min"]})]}),Object(r.jsxs)("li",{children:["Status ",Object(r.jsx)("span",{children:i.status})]}),Object(r.jsxs)("li",{children:["Studio ",Object(r.jsx)("span",{children:null===(n=i.studios)||void 0===n||null===(e=n.edges[0])||void 0===e||null===(a=e.node)||void 0===a?void 0:a.name})]})]})]})}function It(){var t=Object(m.a)(["\n\tmax-width: 1200px;\n\tpadding: 0 50px;\n\tmargin: 20px auto;\n\th2 {\n\t\tmargin: 20px 0;\n\t\tpadding: 0;\n\t\tfont-size: 2.5rem;\n\t\tfont-weight: 600;\n\t\tcolor: ",";\n\t}\n\t.characters-container {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(6, minmax(120px, 1fr));\n\t\tjustify-content: space-between;\n\t\tcolumn-gap: 20px;\n\t\trow-gap: 20px;\n\t\t.character-card {\n\t\t\timg {\n\t\t\t\tborder-radius: 5px;\n\t\t\t\twidth: 100%;\n\t\t\t\theight: 210px;\n\t\t\t\tobject-fit: cover;\n\t\t\t}\n\t\t\tp {\n\t\t\t\tcolor: ",";\n\t\t\t}\n\t\t}\n\t}\n\t@media screen and (max-width: 1024px) {\n\t\t.characters-container {\n\t\t\tgrid-template-columns: repeat(5, minmax(120px, 1fr));\n\t\t}\n\t}\n\t@media screen and (max-width: 900px) {\n\t\t.characters-container {\n\t\t\t.character-card {\n\t\t\t\timg {\n\t\t\t\t\theight: 200px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t@media screen and (max-width: 768px) {\n\t\tpadding: 0 20px;\n\t\th2 {\n\t\t\tmargin: 20px 0;\n\t\t\tfont-size: 1.8rem;\n\t\t\tfont-weight: 600;\n\t\t}\n\t\t.characters-container {\n\t\t\tgrid-template-columns: repeat(4, minmax(100px, 1fr));\n\t\t}\n\t}\n\t@media screen and (max-width: 620px) {\n\t\t.characters-container {\n\t\t\tgrid-template-columns: repeat(4, minmax(80px, 1fr));\n\t\t\t.character-card {\n\t\t\t\timg {\n\t\t\t\t\theight: 150px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t@media screen and (max-width: 480px) {\n\t\t.characters-container {\n\t\t\tgrid-template-columns: repeat(3, 1fr);\n\t\t\t.character-card {\n\t\t\t\tp {\n\t\t\t\t\tfont-size: 0.8rem;\n\t\t\t\t}\n\t\t\t\timg {\n\t\t\t\t\theight: 170px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t@media screen and (max-width: 400px) {\n\t\t.characters-container {\n\t\t\tgrid-template-columns: repeat(3, 1fr);\n\t\t\t.character-card {\n\t\t\t\timg {\n\t\t\t\t\theight: 140px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n"]);return It=function(){return t},t}function Ct(t){var n=t.data;return Object(r.jsxs)(zt,{children:[Object(r.jsx)("h2",{children:"Main characters"}),Object(r.jsx)("div",{className:"characters-container",children:n.characters.edges.map((function(t){var n=t.node,e=n.name.full,a=n.image;return Object(r.jsxs)("div",{className:"character-card",children:[Object(r.jsx)("img",{src:a.large,alt:e}),Object(r.jsx)("p",{children:e})]},e)}))})]})}var zt=x.c.section(It(),(function(t){return t.theme.header}),(function(t){return t.theme.text}));function At(){var t=Object(m.a)(["\n\tpadding: 50px 0;\n\t.flex-container {\n\t\twidth: 100%;\n\t\tmax-width: 1200px;\n\t\tpadding: 0 50px;\n\t\tmargin: auto;\n\t\tdisplay: flex;\n\t}\n\n\t@media screen and (max-width: 768px) {\n\t\tpadding: 20px 0;\n\t\t.flex-container {\n\t\t\tflex-direction: column-reverse;\n\t\t\tpadding: 0 20px;\n\t\t}\n\t}\n\n\t@media screen and (max-width: 480px) {\n\t\tpadding: 0;\n\t\t.flex-container {\n\t\t}\n\t}\n"]);return At=function(){return t},t}function Lt(t){var n=t.match,e=Object(a.useState)(null),i=Object(l.a)(e,2),c=i[0],o=i[1],s=Object(a.useState)(!1),p=Object(l.a)(s,2),m=p[0],h=p[1],x=Object(a.useContext)(Q),b=x.user,g=x.setUser,j=n.params.id;Object(a.useEffect)((function(){dt(j).then((function(t){return o(t)})),h(f())}),[b]);var f=function(){var t;return null===b||void 0===b||null===(t=b.favorites)||void 0===t?void 0:t.some((function(t){return t.page_id==j}))},O=function(){var t=Object(u.a)(d.a.mark((function t(){var n,e,r;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!b){t.next=12;break}return t.next=3,ft(b.user_id,j,c.coverImage.extraLarge,c.title.english||c.title.romaji);case 3:if(n=t.sent,e=n.data,r=n.message,!c){t.next=11;break}return h(!0),b.favorites=e,g(b),t.abrupt("return");case 11:return t.abrupt("return",console.log(r));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return c?Object(r.jsxs)(Et,{children:[Object(r.jsxs)("div",{className:"flex-container",children:[Object(r.jsx)(Pt,{handleFavorites:O,data:c,isFavorite:m}),Object(r.jsx)(kt,{handleFavorites:O,data:c,isFavorite:m})]}),Object(r.jsx)(Ct,{data:c}),Object(r.jsx)(xt,{page_id:n.params.id})]}):Object(r.jsx)("div",{children:"Loading"})}var Et=x.c.div(At());function Tt(){var t=Object(m.a)(["\n\th1 {\n\t\tmargin-top: 50px;\n\t\ttext-align: center;\n\t}\n\tform {\n\t\tmargin: 0 auto;\n\t\tmargin-top: 50px;\n\t\twidth: 500px;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\tinput {\n\t\t\twidth: 100%;\n\t\t\tmargin: 10px 0;\n\t\t\theight: 40px;\n\t\t\tfont-size: 1.2rem;\n\t\t}\n\t\tbutton {\n\t\t\twidth: 200px;\n\t\t\theight: 50px;\n\t\t\talign-self: center;\n\t\t}\n\t}\n"]);return Tt=function(){return t},t}var $t=x.c.div(Tt());function Mt(){var t=Object(a.useContext)(Q),n=(t.user,t.setUser),e=Object(a.useState)({username:null,email:null,password:null,password2:null}),i=Object(l.a)(e,2),c=i[0],o=i[1],s=Object(a.useState)(!1),m=Object(l.a)(s,2),x=m[0],b=m[1],g=Object(a.useState)(null),j=Object(l.a)(g,2),f=j[0],O=j[1],v=function(t){o(Object(p.a)(Object(p.a)({},c),{},Object(A.a)({},t.target.name,t.target.value)))},y=function(){var t=Object(u.a)(d.a.mark((function t(e){var r,a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.preventDefault(),b(!0),t.next=4,K(c);case 4:r=t.sent,a=r.message,i=r.data,b(!1),O(a),i&&n(i);case 10:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(r.jsxs)($t,{children:[Object(r.jsx)("h1",{children:"Register"}),Object(r.jsxs)("form",{onSubmit:y,children:[Object(r.jsx)("input",{name:"username",type:"text",required:!0,placeholder:"Username",onChange:v}),Object(r.jsx)("input",{name:"email",type:"email",required:!0,placeholder:"Email",onChange:v}),Object(r.jsx)("input",{name:"password",type:"password",required:!0,placeholder:"Password",onChange:v}),Object(r.jsx)("input",{name:"password2",type:"password",required:!0,placeholder:"Confirm password",onChange:v}),Object(r.jsx)("button",{disabled:x,type:"submit",children:"Register"}),Object(r.jsx)("span",{children:f}),Object(r.jsx)(h.b,{to:"/login",children:"Login"})]})]})}var Rt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"GET",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{method:t,headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:localStorage.getItem("auth")},body:JSON.stringify({data:n})}},qt=function(){var t=Object(u.a)(d.a.mark((function t(n){var e,r,a,i,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("http://localhost:80","/api/user/avatar"),Rt("POST",n));case 2:return e=t.sent,t.next=5,e.json();case 5:if(r=t.sent,a=r.avatar,i=r.message,c=r.token,!e.ok){t.next=12;break}return localStorage.setItem("auth",c),t.abrupt("return",{avatar:a,message:i});case 12:return t.abrupt("return",{message:i});case 13:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();function Dt(t){var n=t.user,e=t.setUser,i=Object(a.useState)(""),c=Object(l.a)(i,2),o=c[0],s=c[1],m=Object(a.useState)(null),h=Object(l.a)(m,2),x=h[0],b=h[1],g=Object(a.useState)(null),j=Object(l.a)(g,2),f=j[0],O=j[1],v=Object(a.useState)(null),y=Object(l.a)(v,2),w=y[0],k=y[1],S=function(){var t=Object(u.a)(d.a.mark((function t(r){var a,i,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r.preventDefault(),k("Loading..."),b(null),f){t.next=5;break}return t.abrupt("return",k("Please select an image"));case 5:return t.next=7,qt(f);case 7:a=t.sent,i=a.message,c=a.avatar,k(i),c&&e(Object(p.a)(Object(p.a)({},n),{},{avatar:c}));case 12:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(r.jsxs)("div",{className:"img-upload",children:[Object(r.jsx)("h1",{className:"title",children:"Upload an Image"}),Object(r.jsx)("div",{children:w}),Object(r.jsxs)("form",{onSubmit:S,className:"form",children:[Object(r.jsx)("input",{type:"file",accept:"image/*",onChange:function(t){var n=t.target.files[0];if(n.size/1024>1500)return s(""),k("Image size must not exceed 1.5MB");s(t.target.value);var e=new FileReader;e.readAsDataURL(n),e.onloadend=function(){O(e.result),b(e.result)},e.onerror=function(){k("Something went wrong!")}},value:o,className:"form-input"}),Object(r.jsx)("button",{className:"btn",type:"submit",children:"Submit"})]}),x&&Object(r.jsx)("img",{src:f,alt:"chosen",style:{height:"300px"}})]})}function Ut(){var t=Object(m.a)(["\n\tdisplay: flex;\n\tflex-direction: column;\n\timg {\n\t\twidth: 120px;\n\t\theight: 170px;\n\t\tobject-fit: cover;\n\t\tborder-radius: 5px;\n\t}\n"]);return Ut=function(){return t},t}function Ft(){var t=Object(m.a)(["\n\th2 {\n\t\tmargin: 20px 0;\n\t\tfont-size: 2rem;\n\t}\n\t.list {\n\t\tdisplay: grid;\n\t\tgrid-template-columns: repeat(6, 1fr);\n\t}\n\tbutton {\n\t\tcursor: pointer;\n\t\twidth: max-content;\n\t\tborder: none;\n\t\tborder-radius: 4px;\n\t\tbackground-color: rgb(199, 77, 77);\n\t\tcolor: white;\n\t\tmargin-top: 5px;\n\t\tpadding: 3px 5px;\n\t\t&:disabled {\n\t\t\tbackground-color: grey;\n\t\t}\n\t}\n"]);return Ft=function(){return t},t}var _t=x.c.section(Ft());function Yt(){var t,n=Object(a.useContext)(Q),e=n.user,i=n.setUser;return(null===(t=e.favorites)||void 0===t?void 0:t.length)?Object(r.jsxs)(_t,{children:[Object(r.jsx)("h2",{children:"Your favorites"}),Object(r.jsx)("div",{className:"list",children:e.favorites.map((function(t,n){return Object(r.jsx)(Gt,{item:t,user:e,setUser:i},n)}))})]}):Object(r.jsx)("div",{children:"You have no favorites. Why not to browse anime?"})}var Jt=x.c.div(Ut()),Gt=function(t){var n=t.item,e=t.user,i=t.setUser,c=Object(a.useState)(null),o=Object(l.a)(c,2),s=(o[0],o[1]),m=Object(a.useState)(!1),x=Object(l.a)(m,2),b=x[0],g=x[1],j=function(){var t=Object(u.a)(d.a.mark((function t(n){var r,a,c,o;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g(!0),t.next=3,vt(n);case 3:if(r=t.sent,a=r.data,c=void 0===a?null:a,o=r.message,s(o),c){t.next=10;break}return t.abrupt("return");case 10:i(Object(p.a)(Object(p.a)({},e),{},{favorites:c})),g(!1);case 12:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return Object(r.jsxs)(Jt,{children:[Object(r.jsx)(h.b,{to:"/anime/".concat(n.page_id),children:Object(r.jsx)("img",{src:n.cover_image,alt:""})}),Object(r.jsx)(h.b,{to:"/anime/".concat(n.page_id),children:n.title}),Object(r.jsx)("button",{disabled:b,onClick:function(){return j(n.page_id)},children:b?"Removing":"Remove"})]})};function Bt(){var t=Object(m.a)(["\n\twidth: 500px;\n\t.username span {\n\t\ttext-transform: uppercase;\n\t\tfont-size: 1.4rem;\n\t\tfont-weight: 600;\n\t}\n\t.links {\n\t\tmargin: 20px 30px;\n\t\tli {\n\t\t\twidth: 100%;\n\t\t\ta {\n\t\t\t\tdisplay: block;\n\t\t\t\twidth: 100%;\n\t\t\t\tmargin: 10px 0;\n\t\t\t\ttext-transform: uppercase;\n\t\t\t\tfont-size: 1.5rem;\n\t\t\t}\n\t\t}\n\t}\n\t.link {\n\t\ta {\n\t\t\tcolor: black;\n\t\t}\n\t}\n\t.link-active {\n\t\ta {\n\t\t\tborder-left: #ff4834 4px solid;\n\t\t\tpadding-left: 20px;\n\t\t\tcolor: #ff4834;\n\t\t}\n\t}\n\t@media (max-width: 1024px) {\n\t\twidth: 350px;\n\t}\n\t@media (max-width: 768px) {\n\t\t.username span {\n\t\t\tfont-size: 1.2rem;\n\t\t}\n\t\twidth: 100%;\n\t}\n"]);return Bt=function(){return t},t}var Ht=x.c.aside(Bt());function Wt(){return Object(r.jsxs)(Ht,{children:[Object(r.jsx)("div",{className:"username",children:Object(r.jsx)("span",{children:"Welcome, "})}),Object(r.jsxs)("ul",{className:"links",children:[Object(r.jsx)("li",{className:"link-active",children:Object(r.jsx)(h.b,{to:"/",children:"Profile"})}),Object(r.jsx)("li",{className:"link",children:Object(r.jsx)(h.b,{to:"/",children:"Orders"})})]})]})}function Vt(){var t=Object(m.a)(["\n\tmax-width: 1100px;\n\tpadding: 0 50px;\n\tmargin: auto;\n\timg.avatar {\n\t\twidth: 100px;\n\t}\n\t.preview-img {\n\t\theight: 200px;\n\t}\n"]);return Vt=function(){return t},t}var Kt=x.c.div(Vt());function Qt(){var t=Object(a.useContext)(Q),n=t.user,e=t.setUser,i=Object(a.useState)(""),c=Object(l.a)(i,2),o=c[0],s=c[1],p=Object(a.useState)(""),m=Object(l.a)(p,2),h=m[0],x=m[1],b=function(){var t=Object(u.a)(d.a.mark((function t(r){var a,i;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.preventDefault(),t.next=3,fetch("http://localhost:80/api/user/update/password",{headers:{Accept:"application/json","Content-Type":"application/json"},method:"PUT",body:JSON.stringify({email:n.email,oldPassword:o,newPassword:h,token:localStorage.getItem("auth")})});case 3:return(a=t.sent).ok&&(localStorage.removeItem("auth"),e(null)),t.next=7,a.json();case 7:i=t.sent,console.log(i);case 9:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return n?Object(r.jsxs)(Kt,{children:[Object(r.jsx)(Wt,{}),Object(r.jsxs)("h1",{children:["Hello, ",n.username]}),Object(r.jsx)("img",{className:"avatar",src:n.avatar,alt:""}),Object(r.jsx)("button",{onClick:function(){localStorage.removeItem("auth"),e(null)},children:"Logout"}),Object(r.jsx)(Dt,{user:n,setUser:e}),Object(r.jsxs)("div",{className:"password-update",children:[Object(r.jsx)("h2",{children:"Update password"}),Object(r.jsxs)("form",{onSubmit:b,children:[Object(r.jsx)("input",{defaultValue:o,placeholder:"old pass",onChange:function(t){return s(t.target.value)},type:"password",name:"password"}),Object(r.jsx)("input",{defaultValue:h,onChange:function(t){return x(t.target.value)},type:"password",name:"password"}),Object(r.jsx)("button",{type:"submit",children:"update"})]})]}),Object(r.jsx)(Yt,{})]}):Object(r.jsx)("div",{children:"Loading..."})}var Xt={theme:"light",body:"#edf1f5",header:"#3f4453",text:"#4c5264",scrollbar:"#e4e4e4",boxShadow:"0px 0px 5px rgba(0, 0, 0, 0.05)",commentBg:"white"},Zt={theme:"dark",body:"#161e29",header:"#f5f5f5",text:"#d3d3d3",scrollbar:"darkgrey",boxShadow:"0px 0px 10px 3px rgba(255, 255, 255, 0.3)",commentBg:"#32343b"};function tn(){var t=Object(m.a)(["\n  * {\n    margin: 0;\n    padding: 0;\n\t\tbox-sizing: border-box;\n\t\tfont-family: 'Overpass', sans-serif;\n\t}\n\tbody{\n\t\t\t\tbackground: ",";\n\t}\n\ta {\n\t\ttext-decoration: none;\n\t}\n"]);return tn=function(){return t},t}var nn=Object(x.b)(tn(),(function(t){return t.theme.body}));function en(){var t=Object(a.useState)(null),n=Object(l.a)(t,2),e=n[0],i=n[1],c=Object(a.useState)(Xt),o=Object(l.a)(c,2),s=o[0],m=o[1],b=function(){var t=Object(u.a)(d.a.mark((function t(){var n,e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W();case 2:if(!(n=t.sent)){t.next=8;break}return t.next=6,Ot();case 6:e=t.sent,i(Object(p.a)(Object(p.a)({},n),{},{favorites:e}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){var t=localStorage.getItem("theme");m("dark"===t?Zt:Xt),b()}),[]);return Object(r.jsx)(x.a,{theme:s,children:Object(r.jsxs)(h.a,{children:[Object(r.jsx)(nn,{}),Object(r.jsx)("div",{className:"App",children:Object(r.jsxs)(Q.Provider,{value:{user:e,setUser:i},children:[Object(r.jsx)(j,{user:e,theme:s.theme,switchTheme:function(t){m("dark"===t?Zt:Xt),localStorage.setItem("theme",t)}}),Object(r.jsxs)(f.d,{children:[Object(r.jsx)(f.b,{exact:!0,path:"/",component:G}),Object(r.jsx)(f.b,{path:"/anime/:id",component:Lt}),Object(r.jsx)(f.b,{path:"/search",component:ct}),Object(r.jsx)(f.b,{exact:!0,path:"/user/:username",children:e?Object(r.jsx)(Qt,{}):Object(r.jsx)(f.a,{to:"/login"})}),Object(r.jsx)(f.b,{exact:!0,path:"/login",children:e?Object(r.jsx)(f.a,{to:"/user/".concat(e.username)}):Object(r.jsx)(tt,{})}),Object(r.jsx)(f.b,{exact:!0,path:"/register",children:e?Object(r.jsx)(f.a,{to:"/user/".concat(e.username)}):Object(r.jsx)(Mt,{})})]})]})})]})})}o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(en,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.3790f875.chunk.js.map